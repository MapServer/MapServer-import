<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN" "http://mapserver.gis.umn.edu/mdp/docbkx412/docbookx.dtd">
<!-- $Id$ -->
<article>
	<articleinfo>
		<title>Mapserver WMS Server HOWTO</title>
		<author>
			<firstname>Jeff</firstname>
			<surname>McKenna</surname>
			<affiliation>
				<orgname>DM Solutions Group Inc.</orgname>
				<address>
					<email>mckenna@dmsolutions.ca</email>
				</address>
			</affiliation>
		</author>
		<date>15-07-2002</date>
		<othercredit>
			<contrib>Traduction</contrib>
			<firstname>Franz-Albert</firstname>
			<surname>Van Den Bussche</surname>
			<affiliation>
				<orgname>Club des Utilisateurs de Linux et des logiciels libres de Toulouse et des environs</orgname>
				<orgdiv>(CULTe)</orgdiv>
				<address>
					<email>franz@favdb.net</email>
				</address>
			</affiliation>
		</othercredit>
		<othercredit>
			<contrib>Relecture de la traduction</contrib>
			<firstname>Nathalie</firstname>
			<surname>Vielmas</surname>
			<affiliation>
				<orgname>Club des Utilisateurs de Linux et des logiciels libres de Toulouse et des environs</orgname>
				<orgdiv>(CULTe)</orgdiv>
				<address>
					<email>nath@favdb.net</email>
				</address>
			</affiliation>
		</othercredit>
		<abstract>
			<!-- a short description of the contents of the doc -->
			<para>
                 Ce document décrit les procédures pour paramétrer la compatibilité OGC Web Map Server (WMS) à travers MapServer v3.5 (et suivant).  
      </para>
			<para>Dernière mise à jour: 15/07/2002</para>
		</abstract>
	</articleinfo>
	<sect1 id="intro">
		<title>Introduction</title>
		<para>
            Un WMS (ou Web Map Server) permet l'utilisation de données depuis plusieurs serveurs différents, et permet la création d'un réseau de Map Servers à partir duquel les clients peuvent construire des cartes adaptées.  
      La documentation suivante est basée sur les <ulink url="http://www.opengis.org/techno/specs/01-047r2.pdf">spécifications d'interfaces (OGC) Web Map Server de l'Open GIS Consortium v1.1.0</ulink>. 
    </para>
		<para>
      MapServer v3.5 est nécessaire pour l'implémentation des fonctions WMS.  Au moment de rédiger ce document, Mapserver supporte les versions WMS suivantes: 1.0.0, 1.0.7, et 1.1.0 (a.k.a. 1.0.8).
    </para>
		<para>
             Ce document considère que vous êtes déjà familiarisé avec certains aspects de MapServer:
          </para>
		<itemizedlist>
			<listitem>
				<para>
                      Le développement d'applications MapServer et le paramétrage des fichiers .map. 
                </para>
			</listitem>
			<listitem>
				<para>
          La connaissance des spécifications WMS est recommandée. Un lien vers le document de spécification WMS est indiqué dans la partie <link linkend="links">"WMS-Information connexe"</link> (voir plus loin).
        </para>
			</listitem>
		</itemizedlist>
		<sect2 id="howitworks">
			<title>Comment fonctionne WMS</title>
			<para>
        Les serveurs WMS interagissent avec les clients via le protocole HTTP.  Dans la plupart des cas,
        un serveur WMS est un programme CGI.  C'est aussi le cas de MapServer.     
      </para>
			<para>
        La spécification WMS définit plusieurs types de requêtes, et pour chacune de celles-ci
        un ensemble de paramètres et éléments associés.  Un serveur WMS compatible
        DOIT être capable de gérer au moins 2 types de requêtes WMS:
      </para>
			<orderedlist>
				<listitem>
					<para>
						<emphasis>GetCapabilities:</emphasis> retourne un document XML avec metadata sur les capacités du Web Map Server      
          </para>
				</listitem>
				<listitem>
					<para>
						<emphasis>GetMap:</emphasis> retourne une image d'une carte selon les besoins de l'utilisateur.
          </para>
				</listitem>
			</orderedlist>
			<para>
        Et le support des types suivants est facultatif:
      </para>
			<orderedlist continuation="continues">
				<listitem>
					<para>
						<emphasis>GetFeatureInfo:</emphasis> retourne l'information sur la(les) fonction(s) à l'endroit cliqué avec la souris.  MapServer supporte 3 types de réponses à cette requête:
          </para>
					<orderedlist>
						<listitem>
							<para>
                  Sortie Text/plain avec l'information d'attribut.
              </para>
						</listitem>
						<listitem>
							<para>
                  Sortie Text/html utilisant les mises en forme de requêtes MapServer spécifiées dans le paramètre CLASS template.
                  Le type MIME retourné par les mises en forme par défaut de l'objet Class est le text/html et peut être conrôlé en utilisant le metadata  <link linkend="mime_type">"wms_feature_info_mime_type"</link>.
              </para>
						</listitem>
						<listitem>
							<para>
                Fonctions Gml.
              </para>
						</listitem>
					</orderedlist>
				</listitem>
				<listitem>
					<para>
						<emphasis>DescribeLayer:</emphasis> retourne une description XML d'une ou plusieurs couches de la carte.  Ceci
                ne s'applique qu'aux serveurs SLD WMS et n'est pas actuellement supporté par MapServer.
          </para>
				</listitem>
			</orderedlist>
			<para>
        Dans le respect des spécificités MapServer, c'est le programme CGI "mapserv" qui
        sait comment gérer les requêtes WMS.  Ainsi paramétrer un serveur WMS avec MapServer
        suppose l'installation du programme CGI mapserv et le paramétrage d'un mapfile avec un metadata
        approprié.  Ces différents éléments sont décrits dans ce document.
      </para>
		</sect2>
		<sect2 id="links">
			<title>Liens vers les informations WMS connexes</title>
			<itemizedlist>
				<listitem>
					<para>
            Le HOWTO du client WMS Mapserver:
            <ulink url="http://mapserver.gis.umn.edu/doc/wms-client-howto.html">
            http://mapserver.gis.umn.edu/doc/wms-client-howto.html</ulink>
					</para>
				</listitem>
				<listitem>
					<para>
            La page d'accueil de l'Open GIS Consortium (OGC):
              <ulink url="http://www.opengis.org/">http://www.opengis.org/</ulink>
					</para>
				</listitem>
				<listitem>
					<para>
            Les spécifications WMS 1.0.0:
              <ulink url="http://www.opengis.org/techno/specs/00-028.pdf">
            http://www.opengis.org/techno/specs/00-028.pdf</ulink>
					</para>
				</listitem>
				<listitem>
					<para>
            Les spécifications WMS 1.1.0:
              <ulink url="http://www.opengis.org/techno/specs/01-047r2.pdf">
            http://www.opengis.org/techno/specs/01-047r2.pdf</ulink>
					</para>
				</listitem>
				<listitem>
					<para>
            L'archive de la liste de diffusion pour le développement WMS:
              <ulink url="http://www.intl-interfaces.net/mailman/listinfo/wms-dev">
            http://www.intl-interfaces.net/mailman/listinfo/wms-dev</ulink>
					</para>
				</listitem>
				<listitem>
					<para>
            WMS FAQ:
              <ulink url="http://www.intl-interfaces.net/cookbook/WMS/faq/faqw.py?req=home">
            http://www.intl-interfaces.net/cookbook/WMS/faq/faqw.py?req=home</ulink>
					</para>
				</listitem>
				<listitem>
					<para>
            Validateur de capacités WMS XML:
              <ulink url="http://www.digitalearth.gov/wmt/xml/validator.html">
            http://www.digitalearth.gov/wmt/xml/validator.html</ulink>
					</para>
				</listitem>
				<listitem>
					<para>
            WMS Cookbook:
              <ulink url="http://www.intl-interfaces.net/cookbook/WMS/">
            http://www.intl-interfaces.net/cookbook/WMS/</ulink>
					</para>
				</listitem>
			</itemizedlist>
		</sect2>
	</sect1>
	<!-- Section1: Integration or developing  an application-->
	<sect1 id="settingup">
		<title>Paramétrer un serveur a WMS en utilisant Mapserver</title>
		<sect2 id="install">
			<title>Installation du logiciel nécessaire</title>
			<para>
        WMS a besoin d'être géré par le programme CGI "mapserv".  Toutes les versions du
        programme mapserv ne disposent pas du WMS (il est inclus par défaut lorsque
        vous compilez aussi avec la bibliothèque PROJ), ainsi la première étape consiste à vérifier que
        votre exécutable mapserv dispose du support WMS.  L'un des moyens pour çà est d'utiliser
        l'option "-v" sur la ligne de commande et de contrôler que "SUPPORTS=WMS_SERVER" apparaît.
      </para>
			<example>
				<title>Pour Unix:</title>
				<programlisting>
   $ ./mapserv -v
   MapServer version 3.5 (pre-alpha) OUTPUT=PNG OUTPUT=JPEG OUTPUT=WBMP 
   SUPPORTS=PROJ SUPPORTS=TTF SUPPORTS=WMS_SERVER INPUT=EPPL7 INPUT=JPEG INPUT=OGR 
   INPUT=GDAL INPUT=SHAPEFILE       
        </programlisting>
			</example>
			<example>
				<title>Pour Windows:</title>
				<programlisting>
   C:\apache\cgi-bin&gt; mapserv -v
   MapServer version 3.5 (pre-alpha) OUTPUT=PNG OUTPUT=JPEG OUTPUT=WBMP
   SUPPORTS=PROJ SUPPORTS=TTF SUPPORTS=WMS_SERVER INPUT=EPPL7 INPUT=JPEG INPUT=OGR
   INPUT=GDAL INPUT=SHAPEFILE
        </programlisting>
			</example>
		</sect2>
		<sect2 id="mapfile">
			<title>Paramétrer un Mapfile pour votre WMS</title>
			<para>
        Chaque instance du serveur WMS que vous paramétrez a besoin d'avoir son propre mapfile.
        Il s'agit d'un fichier mapfile normal dans lequel quelques paramètres et quelques metadata
        sont nécessaires.  La plupart des metadata sont nécessaires pour produire 
        une sortie valide pour GetCapabilites.
      </para>
			<para>
        Voici la liste des paramètres et des éléments metadata qui sont habituellement facultatifs avec 
        MapServer, mais qui sont indispensables (ou en tout cas fortement recommandés) pour une configuration WMS:
      </para>
			<para>
        Au niveau de l'objet map:
      </para>
			<itemizedlist>
				<listitem>
					<para>
            Map NAME
          </para>
				</listitem>
				<listitem>
					<para>
            Map PROJECTION
          </para>
				</listitem>
				<listitem>
					<para>
            Map Metadata (dans l'objet WEB):
          </para>
					<itemizedlist>
						<listitem>
							<para>
                wms_title
              </para>
						</listitem>
						<listitem>
							<para>
                wms_onlineresource
              </para>
						</listitem>
						<listitem>
							<para>
                wms_srs (unless PROJECTION object is defined using "init=epsg:...")
              </para>
						</listitem>
					</itemizedlist>
				</listitem>
			</itemizedlist>
			<para>
        Et pour chaque couche:
      </para>
			<itemizedlist>
				<listitem>
					<para>
            Layer NAME
          </para>
				</listitem>
				<listitem>
					<para>
            Layer PROJECTION
          </para>
				</listitem>
				<listitem>
					<para>
            Layer Metadata
          </para>
					<itemizedlist>
						<listitem>
							<para>
                wms_title
              </para>
						</listitem>
						<listitem>
							<para>
                wms_srs (facultatif puisque la couche hérite de la valeur SRS de l'objet map)
              </para>
						</listitem>
					</itemizedlist>
				</listitem>
			</itemizedlist>
			<para>
        Voyons plus en détail chacun de ces paramètres:
      </para>
			<itemizedlist>
				<listitem>
					<para>
            Nom de carte et metadata wms_title:
          </para>
					<para>
            Les capacités WMS ont besoins d'un indicateur de nom (Name) et de titre (Title) pour chaque couche.  Le
            nom (NAME) de la carte et le metadata wms_title seront utilisés pour renseigner la racine de la couche pour
             le nom et le titre dans la sortie XML de GetCapabilities.  La racine de la couche dans le contexte
              WMS correspond à la totalité du mapfile.
          </para>
				</listitem>
				<listitem>
					<para>
            Nom de couche et metadata wms_title:
          </para>
					<para>
            Toutes les couches individuelles ont besoin d'avoir un nom et un titre unique.
              Les noms de couche sont aussi utilisés dans les requêtes GetMap et GetFeatureInfo pour référencer
              les couches qui pourront être incluses dans la carte en sortie et la requête.
          </para>
				</listitem>
				<listitem id="projection_srs">
					<para>
            PROJECTION de la carte et metadata wms_srs:
          </para>
					<para>
           Le serveur  WMS doit annoncer le système de projection dans lequel il peut servir les données
              en utilisant les codes de projection EPSG (voir 
              <ulink url="http://inovagis.dcea.fct.unl.pt/giserver/epsg.asp">
            http://inovagis.dcea.fct.unl.pt/giserver/epsg.asp</ulink> pour une liste des codes EPSG).
              Les versions récentes de la bibliothèque PROJ4 disposent d'une table des codes d'initialisation EPSG 
              qui permet aux utilisateurs de définir une projection comme suit:
             </para>
					<programlisting>
   PROJECTION
      "init=epsg:4269"
   END    
          </programlisting>
					<para>
            L'exemple précédent est suffisant pour que MapServer reconnaisse le code EPSG et
              l'intègre dans les indicateurs SRS dans le résultat sur les capacités (le metadata wms_srs n'est pas
              nécessaire dans ce cas).  De toute façon, il est toujours possible de trouver un code EPSG
              qui corresponde à la projection de vos données. Dans ce cas, le metadata
              "wms_srs" est utilisé pour lister un ou plusieurs codes EPSG qui peuvent être utilisés
              pour le service des données, et l'objet PROJECTION contient la réelle définition PROJ4 
              de la projection des données.
          </para>
					<para>
            Voici l'exemple d'un serveur dont les données sont dans le système de projection Lambert Conic Conforme
              (pour lequel il n'existe pas de code EPSG).  Ses sorties de capacités annoncent
              les projections EPSG:4269 et EPSG:4326 (lat/lon), mais l'objet
              PROJECTION est renseigné par la projection réelle des données:
          </para>
					<programlisting>
   NAME DEMO
   ...

   WEB
   ...
   METADATA
      "wms_title"                  "WMS Demo Server"
      "wms_onlineresource"  "http://my.host.com/cgi-bin/mapserv?map=wms.map&amp;"
      "wms_srs"                   "EPSG:4269 EPSG:4326"
   END
   END

   PROJECTION
     "proj=lcc"
     "ellps=GRS80"
     "lat_0=49"
     "lon_0=-95"
     "lat_1=49"
     "lat_2=77"
   END
   ...
          </programlisting>
				</listitem>
				<listitem>
					<para>
            PROJECTION couche et metadata wms_srs:
          </para>
					<para>
            Par défaut dans le contexte WMS, les couches héritent du SRS de leurs couches parentes
              (la projection carte dans le cas MapServer).  Pour cette raison il n'est pas nécessaire
              (mais quand même recommandé) de fournir PROJECTION et wms_srs
              pour toutes les couches.
          </para>
					<para>
           De toute façon, si votre serveur veut vous annocer des projections multiples, il faudra un objet
              PROJECTION pour chaque couche, sinon les couches ne pourront pas être "reprojetées".
              C'est juste la manière de faire fonctionner la reprojection "à la volée" dans 
              MapServer.
          </para>
					<para>
            La PROJECTION couche et le metadata wms_srs sont définis exactement de la même manière qu'au
              niveau de la carte.
          </para>
				</listitem>
				<listitem id="wms_onlineresource">
					<para>
            Le metadata "wms_onlineresource":
          </para>
					<para>
            Le metadata wms_onlineresource est renseigné dans l'objet map web et spécifie l'URL
              qui devrait être utilisée pour accéder à votre serveur.  Ceci est nécessaire pour le 
              résultat de GetCapabilities. Si wms_onlineresource n'est pas indiqué
              MapServer tentera d'en fournir un par défaut en utilisant les scripts
              name et hostname, mais vous ne devriez pas trop y compter.  Il est fortement
              recommandé de renseigner le metadata wms_onlineresource.
          </para>
					<para>
            Voir la partie 6.2.1 des <ulink url="http://www.opengis.org/techno/specs/01-047r2.pdf">
            spécifications WMS 1.1.0</ulink> pour l'ensemble des informations sur la ressource URL
              en ligne.  En principe, ce dont vous avez besoin est une URL HTTP complète comprenant
              les <filename>http://</filename> préfixe, nom de serveur, nom de script, éventuellement un paramètre "map=",
              et terminé par "?" ou "&amp;".
          </para>
					<para>
            Voici une ressource URL valide:
          </para>
					<programlisting>
   http://my.host.com/cgi-bin/mapserv?map=mywms.map&amp;
          </programlisting>
					<para>
            En créant un script générique (ou enveloppe) sur le serveur il est possible de cacher le paramètre
              "map=", ensuite le serveur transformera cette URL en quelque chose de valide, ainsi vous pouvez définir quelque
              chose comme:
          </para>
					<programlisting>
   http://my.host.com/cgi-bin/mywms?
          </programlisting>
					<para>
            Ceci est expliqué en détail dans la partie <link linkend="onlineresourceurl">
            "En savoir plus sur la ressource URL"</link> ci-dessous.
          </para>
				</listitem>
			</itemizedlist>
		</sect2>
		<sect2 id="test">
			<title>Tester votre serveur WMS</title>
			<sect3 id="val_capabilities">
				<title>Valider les capacités metadata</title>
				<para>
          Bien, maintenant que nous avons un mapfile, nous devons vérifier les capacités XML
          retournées par notre serveur pour nous assurer que rien ne manque.
        </para>
				<para>
          En utilisant un navigateur oueb, accédez à votre URL à laquelle vous ajoutez
          le paramètre "REQUEST=GetCapabilities" à la fin, par example.
        </para>
				<programlisting>
   http://my.host.com/cgi-bin/mapserv?map=mywms.map&amp;REQUEST=GetCapabilities
        </programlisting>
				<para>
          Ceci devrait vous renvoyer un document de type MIME application/vnd.ogc.wms_xml, aussi
          votre navigateur vous demandera s'il faut enregistrer le fichier.  Enregistrez le et ouvrez votre éditeur
          préféré (Emacs, Notepad, etc.) pour le visualiser.
        </para>
				<para>
          Si vous obtenez un message d'erreur dans la sortie XML effectuez les corrections nécessaires.  
          Les problèmes habituels et leurs solutions sont listés dans la <link linkend="FAQ">FAQ</link> à la fin de ce
          document.
        </para>
				<para>
          Si tout se déroule normalement, vous devriez avoir un document XML de capacités complet.
          Cherchez le mot "WARNING"... MapServer insère les commentaires XML en commençant
          par "&lt;!--WARNING: " s'il détecte des paramètres mapfile 
          ou des éléments metadata manquant.  Si vous remarquez des WARNING dans votre document XML alors vous devez
          régler ces problèmes avant de pouvoir utiliser votre serveur avec un client WMS, 
          sinon les résultats ne seront pas exploitables.
        </para>
			</sect3>
			<sect3 id="val_getmap">
				<title>Tester avec une requête GetMap</title>
				<para>
          Bien, maintenant que nous savons que notre serveur peut produire un XML valide en réponse à la requête GetCapabilities
          nous pouvons tester la requête GetMap. 
        </para>
				<para>
          Le simple ajout de <filename>"VERSION=1.1.0&amp;REQUEST=GetMap"</filename> à votre URL devrait 
          générer une carte avec une taille par défaut et toutes les couches ayant le STATUS ON ou
          DEFAULT affichées, par exemple.
        </para>
				<programlisting>
   http://my.host.com/cgi-bin/mapserv?map=mywms.map&amp;VERSION=1.1.0&amp;REQUEST=GetMap
        </programlisting>
				<para>
          (Notez que ceci fonctionne avec l'interface WMS de MapServer même si en cas d'une
          requête GetMap incomplète en accord avec les spécifications WMS  il manque plusieurs paramètres
          obligatoires comme SRS, BBOX, etc.  Mais pour ce test c'est bien
          suffisant.)
        </para>
			</sect3>
			<sect3 id="val_client">
				<title>Tester avec un client réel</title>
				<para>
          Si vous avez accès à un client WMS répertoriez la ressource de votre nouveau serveur
          dans celui que vous utilisez.
        </para>
				<para>
          Si vous ne disposez pas de votre propre client WMS alors vous pouvez utiliser l'interface WMS du CubeWerx (cubeview)
          pour tester un nouveau serveur.  Accédez à la page suivante:
              <ulink url="http://www.cubewerx.com/demo/cubeview/cubeview.cgi">
          http://www.cubewerx.com/demo/cubeview/cubeview.cgi</ulink>
          et donnez l'URL de votre serveur en bas de la page et cliquez sur "GO".  
          Les couches par défaut seront renseignées dans l'interface par les couches
          de votre serveur.
        </para>
			</sect3>
		</sect2>
		<sect2 id="onlineresourceurl">
			<title>En savoir plus sur la ressource URL</title>
			<para>
        Comme indiqué dans la partie <link linkend="wms_onlineresource">
        "Paramétrer un Mapfile / metadata wms_onlineresource"</link> ci-dessus, la ressource URL suivante est
          parfaitement valide pour un WMS MapServer en accord avec la partie 6.2.1 ou les spécifications WMS 1.1.0:
      </para>
			<programlisting>
   http://my.host.com/cgi-bin/mapserv?map=mywms.map&amp;
      </programlisting>
			<para>
        Quoi qu'il en soit, plusieurs personnes argumentront que l'URL précédente contient des paramètres 
        obligatoires du propriétaire et que c'est illégal.  Premièrement il faut préciser que
        "map=..." n'est pas considéré comme un paramètre propriétaire spécifique puisque
        dans ce cas il fait partie de la ressource URL qui est définie comme une chaine de caractères
        opaque terminée par "?" ou "&amp;" 
        (voir <ulink url="http://www.opengis.org/techno/specs/01-047r2.pdf">
        WMS 1.1.0 partie 6.2.1</ulink>).
      </para>
			<para>
        Mais en tout cas, même si elle est valide, l'URL précédente est encore disgracieuse.  Et vous
        voudrez utiliser une URL plus agréable comme ressource WMS.  Voici quelques suggestions,
        quelques unes ne fonctionnent que sous Unix, mais la numéro 2 au moins fonctionnera
        aussi pour les utilisateurs Windows/Apache.
      </para>
			<orderedlist>
				<listitem>
					<para>
            Sur les serveurs Unix, vous pouvez confectionner un script shell générique (ou enveloppe)
            qui générera les variables d'environnement et passera le contrôle à l'exécutable
            mapserv... donnant une URL plus "propre":
          </para>
					<programlisting>
   #! /bin/sh
   MS_MAPFILE=/path/to/demo.map
   export MS_MAPFILE
   /path/to/mapserv           
          </programlisting>
				</listitem>
				<listitem>
					<para>
            Une autre option consiste à utiliser la fonction "setenvif" d'Apache: pour l'usage de liens symboliques qui pointent tous
            sur le même binaire mapserv, puis pour chaque lien symbolique teste l'URL, et ensuite génère l'environnement
            MAP correspondant.
          </para>
					<para>
            Pour les utilisateurs Windows et Apache les étapes sont les suivantes <emphasis>(ceci requiert Apache 1.3 ou plus récent)</emphasis>:
          </para>
					<itemizedlist>
						<listitem>
							<para>
                Copiez <filename>mapserv.exe</filename> sous un nouveau nom pour votre WMS, 
                "mywms.exe" par exemple.
              </para>
						</listitem>
						<listitem>
							<para>
                Dans <filename>httpd.conf</filename>, ajoutez:
              </para>
							<programlisting>
   SetEnvIf Request_URI "/cgi-bin/mywms" MS_MAPFILE=/path/to/mymap.map
              </programlisting>
						</listitem>
					</itemizedlist>
				</listitem>
			</orderedlist>
		</sect2>
	</sect1>
	<sect1 id="reference">
		<title>Partie référence</title>
		<sect2 id="metadata">
			<title>Metadata</title>
			<para>
        Les metadata suivants sont disponibles dans le paramétrage du mapfile:
      </para>
			<sect3 id="web">
				<title>Objet Web</title>
				<sect4 id="abstract">
					<title>wms_abstract</title>
					<itemizedlist>
						<listitem>
							<para>
								<emphasis>WMS TAG Name:</emphasis> Abstract (WMS1.1.0, sect. 7.1.5.2)
                </para>
						</listitem>
						<listitem>
							<para>
								<emphasis>Description:</emphasis> (facultatif) Un texte d'annonce fournissant plus d'informations sur
                    le serveur WMS.
              </para>
						</listitem>
					</itemizedlist>
				</sect4>
				<sect4 id="accesscontraints">
					<title>wms_accesscontraints</title>
					<itemizedlist>
						<listitem>
							<para>
								<emphasis>WMS TAG Name:</emphasis> AccessConstraints (WMS1.1.0, sect. 7.1.5.2)
                </para>
						</listitem>
						<listitem>
							<para>
								<emphasis>Description:</emphasis>(facultatif) Information de contrainte d'accès.  Utilisez le mot
                    réservé "none" s'il n'y a pas de contraintes d'accès.
              </para>
						</listitem>
					</itemizedlist>
				</sect4>
				<sect4 id="contactaddress">
					<title>wms_addresstype, wms_address, wms_city, wms_stateorprovince, wms_postcode, wms_country           </title>
					<itemizedlist>
						<listitem>
							<para>
								<emphasis>WMS TAG Name:</emphasis> ContactAddress and family
                </para>
						</listitem>
						<listitem>
							<para>
								<emphasis>Description:</emphasis> Information facultative d'adresse de contact.  S'il est indiqué les
                    six éléments metatdata sont requis.
                   </para>
						</listitem>
					</itemizedlist>
				</sect4>
				<sect4 id="contactelectronicmailaddress">
					<title>wms_contactelectronicmailaddress</title>
					<itemizedlist>
						<listitem>
							<para>
								<emphasis>WMS TAG Name:</emphasis> ContactElectronicMailAddress
                </para>
						</listitem>
						<listitem>
							<para>
								<emphasis>Description:</emphasis> Adresse Email facultative de contact.                     </para>
						</listitem>
					</itemizedlist>
				</sect4>
				<sect4 id="contactfacsimiletelephone">
					<title>wms_contactfacsimiletelephone</title>
					<itemizedlist>
						<listitem>
							<para>
								<emphasis>WMS TAG Name:</emphasis> ContactFacsimileTelephone
                </para>
						</listitem>
						<listitem>
							<para>
								<emphasis>Description:</emphasis> Numéro de fax facultatif.                  </para>
						</listitem>
					</itemizedlist>
				</sect4>
				<sect4 id="contactinformation">
					<title>wms_contactperson, wms_contactorganization, wms_contactposition</title>
					<itemizedlist>
						<listitem>
							<para>
								<emphasis>WMS TAG Name:</emphasis> ContactInformation, ContactPerson,                     ContactOrganization, ContactPosition (WMS1.1.0, sect. 7.1.5.2)
              </para>
						</listitem>
						<listitem>
							<para>
								<emphasis>Description:</emphasis> Information facultative de contact.  Si indiquée alors les trois
                    éléments metadata sont nécessaires.                                    </para>
						</listitem>
					</itemizedlist>
				</sect4>
				<sect4 id="contactvoicetelephone">
					<title>wms_contactvoicetelephone</title>
					<itemizedlist>
						<listitem>
							<para>
								<emphasis>WMS TAG Name:</emphasis> ContactVoiceTelephone
                </para>
						</listitem>
						<listitem>
							<para>
								<emphasis>Description:</emphasis> Numéro de téléphone facultatif.                    </para>
						</listitem>
					</itemizedlist>
				</sect4>
				<sect4 id="encoding">
					<title>wms_encoding</title>
					<itemizedlist>
						<listitem>
							<para>
								<emphasis>WMS TAG Name:</emphasis> Encoding
                </para>
						</listitem>
						<listitem>
							<para>
								<emphasis>Description:</emphasis> (Facultatif) type de codage du document XML de capacités.  ISO-8859-1 par défaut.
              </para>
						</listitem>
					</itemizedlist>
				</sect4>
				<sect4 id="mime_type">
					<title>wms_feature_info_mime_type</title>
					<itemizedlist>
						<listitem>
							<para>
								<emphasis>WMS TAG Name:</emphasis> Feature_info_mime_type
                </para>
						</listitem>
						<listitem>
							<para>
								<emphasis>Description:</emphasis>
								<itemizedlist>
									<listitem>
										<para>
                      Si non spécifié, MapServer PEUT générer le type MIME "text/html" si le paramètre
                      INFO_FORMAT dans GetFeatureInfo est indiqué. Dans ce cas, la mise en forme de couche
                      est retournée.
                    </para>
									</listitem>
									<listitem>
										<para>
                      Si renseigné par "NONE", MapServer ne générera pas le type MIME autre
                      que celui par défaut.
                    </para>
									</listitem>
									<listitem>
										<para>
                      Si renseigné par quelque chose (sauf "NONE"), MapServer utilisera le type MIME
                      spécifié (quelqu'il soit) si le paramètre INFO_FORMAT de GetFeatureInfo est aussi renseigné.
                      Dans ce cas, la mise en forme de couche est retournée.
                    </para>
									</listitem>
								</itemizedlist>
							</para>
						</listitem>
					</itemizedlist>
				</sect4>
				<sect4 id="fees">
					<title>wms_fees</title>
					<itemizedlist>
						<listitem>
							<para>
								<emphasis>WMS TAG Name:</emphasis> Fees (WMS1.1.0, sect. 7.1.5.2)
                </para>
						</listitem>
						<listitem>
							<para>
								<emphasis>Description:</emphasis> (facultatif) Information sur les droits.  Utilisez le mot réservé "none"
                    s'il n'y a pas de droits.
                   </para>
						</listitem>
					</itemizedlist>
				</sect4>
				<sect4 id="group">
					<title>wms_group_title</title>
					<itemizedlist>
						<listitem>
							<para>
								<emphasis>WMS TAG Name:</emphasis> Group_title (WMS1.1.0, sect. 7.1.5.1)
              					</para>
						</listitem>
						<listitem>
							<para>
								<emphasis>Description:</emphasis> (facultatif) Un nom significatif pour le groupe auquel cette couche appartient.
			Seule une couche de ce groupe a besoin de contenir <filename>wms_group_title</filename>, MapServer trouvera et utilisera la valeur.
                				</para>
						</listitem>
					</itemizedlist>
				</sect4>
				<sect4 id="keywordlist">
					<title>wms_keywordlist</title>
					<itemizedlist>
						<listitem>
							<para>
								<emphasis>WMS TAG Name:</emphasis> KeywordList (WMS1.1.0, sect. 7.1.5.2)
                </para>
						</listitem>
						<listitem>
							<para>
								<emphasis>Description:</emphasis> (facultatif) Une liste, dont les éléments sont séparés par des virgules, de mot clés ou de phrases clés
                    pour aider la recherche en catalogue.  Conformément à WMS 1.1.0 aucun contrôle de vocabulaire n'a été défini.
                                    </para>
						</listitem>
					</itemizedlist>
				</sect4>
				<sect4 id="OnlineResource">
					<title>wms_onlineresource</title>
					<itemizedlist>
						<listitem>
							<para>
								<emphasis>WMS TAG Name:</emphasis> OnlineResource (WMS1.1.0, sect. 6.2.1)
                </para>
						</listitem>
						<listitem>
							<para>
								<emphasis>Description:</emphasis> (Recommandé) L'URL qui sera utilisée pour accéder à ce serveur WMS.
                    Cette valeur est utilisée dans la réponse GetCapabilities.  
              </para>
						</listitem>
						<listitem>
							<para>
								<emphasis>Voir aussi:</emphasis> Les parties <link linkend="wms_onlineresource">
                "Paramétrer un Mapfile / metadata wms_onlineresource"</link> et 
                <link linkend="onlineresourceurl">En savoir plus sur la ressource URL</link> ci-dessus.                  </para>
						</listitem>
					</itemizedlist>
				</sect4>
				<sect4 id="resxy">
					<title>wms_resx, wms_resy</title>
					<itemizedlist>
						<listitem>
							<para>
								<emphasis>WMS TAG Name:</emphasis> BoundingBox (WMS1.1.0, sect. 7.1.5.4)
                </para>
						</listitem>
						<listitem>
							<para>
								<emphasis>Description:</emphasis> (facultatif) Utilisé dans l'indicateur BoundingBox pour fournir l'information
                    sur la résolution spatiale des données, les valeurs sont dans l'unité de projection de la carte.                          
              </para>
						</listitem>
					</itemizedlist>
				</sect4>
				<sect4 id="srs">
					<title>wms_srs</title>
					<itemizedlist>
						<listitem>
							<para>
								<emphasis>WMS TAG Name:</emphasis> SRS (WMS1.1.0, sect. 6.5.5)
                </para>
						</listitem>
						<listitem>
							<para>
								<emphasis>Description:</emphasis> (Recommandé) Contient une liste de codes EPSG de projection qui
                    seront annoncés comme étant disponible pour toutes les couches dans ce serveur.
                    La valeur peut contenir une ou plusieurs paires EPSG:&lt;code&gt; séparées par
                    des espaces (exemple "EPSG:4269 EPSG:4326")                            </para>
						</listitem>
						<listitem>
							<para>
								<emphasis>Voir aussi:</emphasis> La partie <link linkend="projection_srs">
                "Paramétrer un Mapfile / Map PROJECTION et metadata wms_srs"</link> ci-dessus.
              </para>
						</listitem>
					</itemizedlist>
				</sect4>
				<sect4 id="title">
					<title>wms_title</title>
					<itemizedlist>
						<listitem>
							<para>
								<emphasis>WMS TAG Name:</emphasis> Title (WMS1.1.0, sect. 7.1.5.1)
              </para>
						</listitem>
						<listitem>
							<para>
								<emphasis>Description:</emphasis> (Requis) Un nom significatif pour cette couche.
                </para>
						</listitem>
					</itemizedlist>
				</sect4>
			</sect3>
			<sect3 id="layer">
				<title>Objet Layer</title>
				<sect4 id="lay_abstract">
					<title>wms_abstract</title>
					<itemizedlist>
						<listitem>
							<para>
                Comme <link linkend="abstract">wms_abstract</link> dans l'objet Web .
              </para>
						</listitem>
					</itemizedlist>
				</sect4>
				<sect4 id="extent">
					<title>wms_extent</title>
					<itemizedlist>
						<listitem>
							<para>
								<emphasis>WMS TAG Name:</emphasis> BoundingBox (WMS1.1.0, sect. 7.1.5.4)
                </para>
						</listitem>
						<listitem>
							<para>
								<emphasis>Description:</emphasis> (facultatif) Utilisé pour l'indicateur BoundingBox de la couche pour les cas
                    où il est impossible (ou très inefficace) à MapServer de valider la source
                    de données pour représenter ses zones.  La valeur de ces metadata est 
                    "minx miny maxx maxy" séparée par des espaces, avec les valeurs dans l'unité de projection de la couche. 
                    Si <filename>wms_extent</filename> est indiqué alors il a priorité
                    et MapServer N'essayera PAS de lire la zone du fichier source.                      </para>
						</listitem>
						<listitem>
							<para>
								<emphasis>Note:</emphasis>
								<filename>wms_extent</filename> DOIT être indiqué pour les couches de forme (raster) dans la version actuelle puisque
                   la validation MapServer des formes pour leurs zones est la liste TODO (à faire)!
              </para>
						</listitem>
					</itemizedlist>
				</sect4>
				<sect4 id="lay_keywordlist">
					<title>wms_keywordlist</title>
					<itemizedlist>
						<listitem>
							<para>
                Comme <link linkend="keywordlist">wms_keywordlist</link> dans l'objet Web.
              </para>
						</listitem>
					</itemizedlist>
				</sect4>
				<sect4 id="lay_opaque">
					<title>wms_opaque</title>
					<itemizedlist>
						<listitem>
							<para>
								<emphasis>WMS TAG Name:</emphasis> Layer (WMS1.1.0, sect. 7.1.5.5.3)
                                </para>
						</listitem>
						<listitem>
							<para>
								<emphasis>Description:</emphasis> (facultatif) Renseignez ce metadata par "1" pour indiquer que la
                            couche représente un espace de remplissage (par exemple la bathymétrie et l'élévation). 
                            Ceci devrait conduire le client à placer cette couche à la fin de la pile des couches.
                          </para>
						</listitem>
					</itemizedlist>
				</sect4>
				<sect4 id="lay_srs">
					<title>wms_srs</title>
					<itemizedlist>
						<listitem>
							<para>
                Comme <link linkend="srs">wms_srs</link> dans l'objet Web .
              </para>
						</listitem>
					</itemizedlist>
				</sect4>
				<sect4 id="lay_title">
					<title>wms_title</title>
					<itemizedlist>
						<listitem>
							<para>
                Comme <link linkend="title">wms_title</link> dans l'objet Web.
              </para>
						</listitem>
					</itemizedlist>
				</sect4>
			</sect3>
		</sect2>
	</sect1>
	<sect1 id="FAQ">
		<title>FAQ / Problèmes habituels</title>
		<sect2>
			<title/>
			<qandaset defaultlabel="qanda">
				<qandaentry>
					<question>
						<para>
              Comment puis-je trouver le code EPSG pour la projection de mes données?
            </para>
					</question>
					<answer>
						<para>
              Si vous connaissez les paramètres de projection de vos données, alors vous
                pouvez rechercher dans le fichier "epsg" inclus dans PROJ4 une définition
                de projection qui correspond à la projection de vos données.  C'est un 
                simple fichier texte et le code EPSG est indiqué entre &lt; et &gt; au début
                de chaque ligne.
            </para>
						<para>
              Le fichier "epsg" est habituellement dans <filename>/USR/LOCAL/SHARE/PROJ</filename> sous Unix
                et dans <filename>C:\PROJ\</filename> ou <filename>C:\PROJ\NAD</filename> sous Windows (en fonction de l'installation).
            </para>
					</answer>
				</qandaentry>
				<qandaentry>
					<question>
						<para>
              Mon serveur WMS produit l'erreur  "msProcessProjection(): no system
                list, errno: .."
            </para>
					</question>
					<answer>
						<para>
              C'est PROJ4 qui se plaint qu'il ne peut trouver le fichier de définition de projection "epsg".
                Assurez vous d'avoir installé PROJ 4.4.3
                ou plus récent et que le fichier "epsg" est installé au bon endroit.
                Sous Unix il devrait être sous <filename>/USR/LOCAL/SHARE/PROJ/</filename>, et 
                sous Windows PROJ devrait être sous <filename>C:\PROJ\</filename> ou 
                       <filename>C:\PROJ\NAD</filename> (selon l'installation).
            </para>
						<para>
              Si vous n'avez pas de fichier "epsg" vous pouvez l'obtenir comme élément de la distribution
                PROJ4 depuis <ulink url="http://www.remotesensing.org/proj/">
              http://www.remotesensing.org/proj/</ulink> ou vous pouvez le télécharger
                depuis <ulink url="http://www2.dmsolutions.ca/mapserver/dl/proj4-epsg.zip">
              http://www2.dmsolutions.ca/mapserver/dl/proj4-epsg.zip</ulink>.
            </para>
					</answer>
				</qandaentry>
			</qandaset>
		</sect2>
	</sect1>
	<!-- Section1: Document Info -->
	<sect1 id="docinfo">
		<title>A propos de ce document</title>
		<sect2 id="copyright">
			<title>Information de Copyright</title>
			<para>
                Copyright (c) 2002, Jeff McKenna, DM Solutions Group Inc.
      </para>
			<para>Ce document est protégé par la même licence Open Source que le logiciel MapServer lui-même.  Voyez la page <ulink url="license_fr.html">Licence et Remerciements</ulink> de MapServer pour le texte complet.
            </para>
		</sect2>
		<sect2 id="disclaimer">
			<title>Avertissement</title>
			<para>Aucune responsabilité pour le contenu de ce document ne peut être acceptée. Utilisez les concepts, exemples et autres éléments à vos risques et périls. Comme il s'agit d'une nouvelle version  de ce document, il peut y persister des erreurs et omissions qui pourraient endommager votre système. Aussi il est expressément conseillé, l'auteur et le traducteur n'assurant aucune responsabilité, de procéder avec précaution.
			</para>
		</sect2>
		<!-- Section2: feedback -->
		<sect2 id="feedback">
			<title>Feedback</title>
			<para>Envoyez toutes vos suggestions et commentaires à l'auteur, ou au traducteur.
   			</para>
		</sect2>
	</sect1>
</article>
