<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN" "http://mapserver.gis.umn.edu/mdp/docbkx412/docbookx.dtd">
<article>
	<articleinfo>
		<title>MapServer WFS Server HOWTO</title>
		<author>
			<firstname>Jean-François</firstname>
			<surname>Doyon</surname>
			<affiliation>
				<orgname>Natural Resources Canada</orgname>
				<orgdiv>Earth Sciences Sector</orgdiv>
				<orgdiv>Canada Center for Remote Sensing</orgdiv>
				<orgdiv>GeoAccess Division</orgdiv>
				<address>
					<email>jdoyon@nrcan.gc.ca</email>
				</address>
			</affiliation>
		</author>
		<author>
			<firstname>Daniel</firstname>
			<surname>Morissette</surname>
			<affiliation>
				<orgname>DM Solutions Group Inc.</orgname>
			</affiliation>
		</author>
		<othercredit>
			<contrib>Traduction</contrib>
			<firstname>Franz-Albert</firstname>
			<surname>Van Den Bussche</surname>
			<affiliation>
				<orgname>Club des Utilisateurs de Linux et des logiciels libres de Toulouse et des environs</orgname>
				<orgdiv>(CULTe)</orgdiv>
				<address>
					<email>franz@favdb.net</email>
				</address>
			</affiliation>
		</othercredit>
		<othercredit>
			<contrib>Relecture de la traduction</contrib>
			<firstname>Nathalie</firstname>
			<surname>Vielmas</surname>
			<affiliation>
				<orgname>Club des Utilisateurs de Linux et des logiciels libres de Toulouse et des environs</orgname>
				<orgdiv>(CULTe)</orgdiv>
				<address>
					<email>nath@favdb.net</email>
				</address>
			</affiliation>
		</othercredit>
		<abstract>
			<para>Ce document explique comment configurer MapServer en tant que serveur de données à travers l'interface OGC WFS.</para>
			<para>Dernière mise à jour:  06-01-2003</para>
		</abstract>
	</articleinfo>
	<sect1 id="intro">
		<title>Introduction</title>
		<para>Un WFS ( Web Feature Service ) publie des données géospaciales sur le oueb au niveau fonctionnel.  Ceci veut dire qu'il est possible d'utiliser ces données comme une source pour restituer une carte.  En effet, ce n'est pas tout à fait pareil que l'accessibilité d'un fichier de forme (shapefile) sur le oueb, ce n'est pas un fichier de forme, c'est un fichier de données géospaciales encodé XML (GML pour être exact), comprenant l'information de géométrie ET d'attribut.</para>
		<sect2 id="related">
			<title>Information relative à WFS</title>
			<para>En tout état de cause une connaissance approfondie de WFS et GML n'est pas vraiment nécessaire pour implémenter une application MapServer qui lit des données WFS à distance, il est recommandé toutefois d'acquérir quelques notions sur les concepts et fonctionalités de base de l'ensemble.  Voici les références officielles:</para>
			<itemizedlist>
				<listitem>
					<para>Les <ulink url="http://www.opengis.org/techno/specs/02-058.pdf">spécifications d'implémentation des fonctions oueb de l'OpenGIS</ulink>.</para>
				</listitem>
				<listitem>
					<para>Les <ulink url="http://www.opengis.net/gml/02-069/GML2-12.html">spécifications de l'implémentation Geography Markup Language</ulink>.</para>
				</listitem>
			</itemizedlist>
		</sect2>
		<sect2 id="software">
			<title>Logiciel requis</title>
			<para>Pour que MapServer puisse agir en tant que WFS, il DOIT être compilé avec certaines bibliothèques:</para>
			<itemizedlist>
				<listitem>
					<para>PROJ.4: La bibliothèque de projection. La version 4.4.3 ou supérieure est nécessaire.</para>
				</listitem>
				<listitem>
					<para>GDAL/OGR: Bibliothèque de support pour les entrées/sorties. La version 1.1.8 ou supérieure est nécessaire.</para>
				</listitem>
				<listitem>
					<para>LibCURL: Utilisé pour aider MapServer à se comporter comme un client HTTP. La version 7.10 ou supérieure est nécessaire.</para>
				</listitem>
			</itemizedlist>
			<para>Voyez le HOWTO sur la compilation et l'installation de MapServer sous UNIX pour des instructions détaillées concernant la compilation de mapserver avec le support de ces bibliothèques et fonctions.  Pour les utilisateurs Windows, cherchez sur le site MapServer s'il existe une version binaire disponible qui correspond à ces pré-requis.</para>
		</sect2>
	</sect1>
	<sect1>
		<title>Paramétrage d'une couche WFS dans votre mapfile</title>
		<para>Une couche WFS est une couche normale dans le mapfile, qui peut utiliser des objets CLASS, avec des expressions, etc.  Au lieu d'un paramètre DATA, vous utilisez les paramètres CONNECTIONTYPE et CONNECTION pour définir la source de données:</para>
		<screen>
 LAYER
    NAME "mylayer"
    TYPE POINT
    CONNECTIONTYPE WFS
    CONNECTION "http://my.wfs.com/cgi-bin/mapserv?map=mywfs.map&amp;SERVICE=WFS&amp;VERSION=1.0.0&amp;TYPENAME=mypoints
    PROJECTION
      "init=epsg:4326"
    END
    METADATA
      "wfs_connectiontimeout" "60"              # Default is 30 seconds
      "wfs_latlonboundingbox" "-75 45 -70 50"   # Area covered by this layer
    END
    CLASSITEM "point_class"
    CLASS
      EXPRESSION "1"
      SYMBOL 'triangle'
      COLOR 255 0 0
    END
    CLASS
      SYMBOL 'circle'
      COLOR 0 0 0
    END
  END
		</screen>
	</sect1>
</article>
