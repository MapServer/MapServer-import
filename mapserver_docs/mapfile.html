<html>
  <head>
      <title>MapServer - Documentation: Map File Reference</title>
      <script language="javascript" src="javascript/include.js"></script>
  </head>
  <body bgcolor="#FFFFFF" marginheight=0 marginwidth=0 style="margin:0px">

    <script language="javascript">header("doc");</script>

    <a name="top"></a>
    <FONT COLOR="#3366cc" face="arial,helvetica" SIZE=+2><B>Map File Reference</B></FONT>
    <p>
    <b>Purpose</b>: Map files are the basic configuration mechanism for the MapServer. Anything associated
    with a particular application is defined here although many options may be changed via a web application.
    Version 3.3 no longer requires a .ini file. Consequently several options set via the .ini file in previous
    versions are now set in the <a href="#web">web object</a>.
    <p>
    <b>Notes</b>: The map file reader is not case sensitive. The new parser is more terse and will let you know of most
    misspellings or other syntax problems. 
    <p>
    Strings containing non-alphanumeric strings or a MapServer keyword <b>must</b> be quoted using either single or double quotes.
    <p>
    The current maximum number of layers allowed in a single mapfile is 50. This can be changed by editing the file 
    map.h and changing the value of MS_MAXLAYERS to the desired number and recompiling.
    <p>
    A colormap is no longer required, but you are still bound by GIFs 256 color limit. A palette is built as the map 
    file is parsed and is applied as necessary. Values given for colors must range between 0 to 255. Any negative
    component turns off that color definition (i.e. no outline etc.). 
    <p>
    File paths may be given as absolute paths or as paths relative to the location of the map file. In addition, data files
    may be specified relative to the shapepath and/or tile (see below), if defined. Shapepath and tile may be absolute paths
    or relative to the location of the map file.

    <p>
    <b>Format</b>: Map files are simply ASCII files that define a series of objects used to build
    an entire interface or single object like a scalebar. The outer most object, the map itself,
    has a number of properties which may be other objects that their own properties, and so on...
    Starts with the keyword <b>map</b> (optional) and terminates with the keyword <b>end</b>. Comments are 
    deliniated with #'s. Below are a list of objects, their properties.
    <p>
    <a name="map"><FONT face="arial,helvetica" COLOR="#3366cc" SIZE=+1><b>Map Object</b></font>
    <p>
    <menu>
      <li> <b>extent [minx] [miny] [maxx] [maxy]:</b> The spatial extent of the map to be created. Most often set by the mapserv program. Inital value serves as a default.
      <p>
      <li> <b>fontset [filename]:</b> Full filename of <a href="fontset.html">fontset file</a> to use.
      <p>
      <li> <b>imagecolor [r] [g] [b]:</b> Color to initialize the map with (i.e. background).
      <p>
      <li> <b>interlace [on|off]:</b> Should interlaced images be output. Default is on.
      <p>
      <li> <b>layer:</b> Signals the start of a <a href="#layer">layer object</a>.
      <p>
      <li> <b>legend:</b> Signals the start of a <a href="#legend">legend object</a>.
      <p>
      <li> <b>lineset [filename]:</b> Full filename of <a href="symbolset.html">lineset file</a> to use.
      <p>
      <li> <b>markerset [filename]:</b> Full filename of <a href="symbolset.html">markerset file</a> to use.
      <p>
      <li> <b>name [string]:</b> Prefix attached to maps, scalebar and lengends created using this file. Should be just a couple of characters.
      <p>
      <li> <b>querymap:</b> Signals the start of a <a href="#querymap">querymap object</a>.
      <p>
      <li> <b>reference:</b> Signals the start of a <a href="#reference">reference map object</a>.
      <p>
      <li> <b>scale [double]:</b> Computed scale of the map. Set most often by the application.
      <p>
      <li> <b>scalebar:</b> Signals the start of a <a href="#scalebar">scalebar object</a>.
      <p>
      <li> <b>shadeset [filename]:</b>: Full filename of <a href="symbolset.html">shadeset file</a> to use.
      <p>
      <li> <b>shapepath [path]:</b> Path to a collection of shapefiles or tiles.
      <p>
      <li> <b>size [cols] [rows]:</b> Size, in pixels, of image.
      <p>
      <li> <b>status [on|off]:</b> Is map drawing active? Sometimes you may only want a legend or a scalebar.
      <p>
      <li> <b>tile [string]:</b> Name of a directory containing shapefiles (see shapepath).
      <p>
      <li> <b>transparent [on|off]:</b> Should the background color for the maps be transparent. Default is off. 
      <p>
      <li> <b>units [feet|inches|kilometers|meters|miles|dd]:</b> Units of the map coordinates. Used for scalebar and scale computations.
      <p>
      <li> <b>web:</b> Signals the start of a <a href="#web">web object</a>.
    </menu>

    <p>
    <a name="label"><FONT face="arial,helvetica" COLOR="#3366cc" SIZE=+1><b>Label Object</b></font>
    <p>
    Defines how specific object, layer, scalebar or legend is labeled. Starts with the keyword <b>label</b> and 
    terminates with the keyword <b>end</b>. Note that scalebars only support bitmapped fonts.
    <p>
    <menu>
      <li> <b>antialias:</b> Should text be antialiased. Note that this requires more available colors and results in slightly larger output images.
      <p>
      <li> <b>buffer [integer]:</b> Padding (in pixels) around labels. Useful for maintaining spacing around text to enhance readability. Available only for cached labels. Default is 0.
      <p>
      <li> <b>backgroundcolor [r] [g] [b]:</b> Color to draw a background rectangle (i.e. billboard) with. Off by default.
      <p>
      <li> <b>backgroundshadowcolor [r] [g] [b]:</b> Color to draw a background rectangle (i.e. billboard) shadow with. Off by default.
      <p>
      <li> <b>backgroundshadowsize [x] [y]:</b> How far should the background rectangle be offset. Default is 1 pixel.
      <p>
      <li> <b>color [r] [g] [b]:</b> Color to draw text with.
      <p>
      <li> <b>font [filename]:</b> Font alias (a defined in the <a href="fontset.html">fontset</a>) to use for labeling.
      <p>
      <li> <b>force [true/false]:</b> Forces labels for a particular class on, regardless of collisions. Available only for cached labels. Default is false.
      <p>
      <li> <b>mindistance [integer]:</b> Minimum distance between duplicate labels. Given in pixels.
      <p>
      <li> <b>minfeaturesize [integer|auto]:</b> Minimum size a feature must be to be labeled . Given in pixels. For line data the overall length of the displayed line is used, for polygon features the smallest dimension of the bounding box is used. Auto keyword tells MapServer to only label features that are larger than their corresponding label. Available only for cached labels.
      <p>
      <li> <b>maxsize [integer]:</b> Maximum font size to use when scaling text (pixels). Default is 256.
      <p>
      <li> <b>minsize [integer]:</b> Minimum font size to use when scaling text (pixels). Default is 4.
      <p>
      <li> <b>offset [x] [y]:</b> Offset values for a label relative to the lower left hand corner of the label and the label point. Given in pixels. In the case of rotated text specify the values as if all labels are horizontal and any rotation will be compensated for.
      <p>
      <li> <b>outlinecolor [r] [g] [b]:</b> Color to draw a one pixel outline around text with.
      <p>
      <li> <b>partials [true|false]:</b> Can text run of the edge of the map. Default is true.
      <p>
      <li> <b>position [ul|uc|ur|cl|cc|cr|ll|lc|lr|auto]:</b> Position of label relative to a label point (layers only). First letter is Y position (upper, center or lower), second is X position (left, center or right). Very similar to ArcPlot "textpostion" command. Auto tells the MapServer to calculate a label position that does not interfere with other labels. With points and polygons the MapServer selects from the 8 outer positions (ie. exluding cc), lines only use uc and lc, until it finds a position that doesn't collide with labels that have already been drawn. If all positions cause overlap, then the label is not drawn. Auto placement is only available for cached labels. The position keyword applies to layer labels only (i.e. not legends or scalebars).
      <p>
      <li> <b>size [integer or tiny|small|medium|large|giant]:</b> Text size. If using a TrueType font then the size is specified in pixels or points. If using built-in bitmap fonts then the size is one of the 5 listed keywords.
      <p>
      <li> <b>type [bitmap|truetype]:</b> Sets the type of font to use. Generally, bitmap fonts are faster to draw than TrueType fonts. However, TrueType fonts are scalable and are available in a variety of faces.
      <p>
      <li> <b>wrap [character]:</b> Character that represents and end-of-line condition in label text, thus resulting in a multiline label. Multiline labels are placed correctly
    </menu>

    <a name="layer"><FONT face="arial,helvetica" COLOR="#3366cc" SIZE=+1><b>Layer Object</b></font>
    <p>
    Defines how an individual layer is handled. Starts with the keyword <b>layer</b> and terminates with the keyword 
    <b>end</b>. Layers are the basic tool for putting a map together. The order in the map file is significant. The 
    layers are drawn in the order they are defined and are queried in reverse order. Labels are entered into the label 
    cache in the order the layers are processed as well. Most important annotation should be listed first in the map file 
    to ensure it is drawn if labeloverlap is false.
    <menu>
      <li> <b>classitem [string]:</b> Item name in attribute table to use for class lookups.
      <p>
      <li> <b>connection [string]:</b> Database connection string to retrieve remote data. At present only ESRI SDE is supported. An SDE connection string consists of a hostname, instance name, database name, username and password seperated by commas.
      <p>
      <li> <b>connectiontype [local|sde]:</b> Type of connection. Default is local.
      <p>
      <li> <b>data [filename]:</b> Full filename of the spatial data to process. No file extention is necessary for shapefiles. May be a relative filename when used with the shapepath or tile options mentioned above.
      <p>
      <li> <b>description [string]:</b> A short description of this layer. This can be accessed by <a href="templates.html">template files</a> as a means of creating specialized title, etc.
      <p>
      <li> <b>feature</b>: Signals the start of an inline <a href="#feature">feature object</a>.
      <p>
      <li> <b>footer [filename]</b>: Template to use <b>after</b> a layers set of results have been sent. Multiresult query modes only.
      <p>
      <li> <b>group [name]</b>:
      <p>
      <li> <b>header [filename]</b>: Template to use <b>before</b> a layers set of results have been sent. Multiresult query modes only.
      <p>
      <li> <b>labelangleitem [string]:</b> Item name in attribute table to use for class annotation angles. Values should be in degrees.
      <p>
      <li> <b>labelcache [on|off]</b> Specifies whether labels should be drawn as the features for this layer are drawn or whether they should be cached and drawn after all layers have been drawn. Default is on. Label overlap removal, auto placement etc.,  are only available when the label cache is active.
      <p>
      <li> <b>labelitem [string]:</b> Item name in attribute table to use for class annotation.
      <p>
      <li> <b>labelmaxscale [double]:</b> Maximum scale at which this layer is labeled.
      <p>
      <li> <b>labelminscale [double]:</b> Minimum scale at which this layer is labeled.
      <p>
      <li> <b>labelsizeitem [string]:</b> Item name in attribute table to use for class annotation sizes. Values should be in pixels.
      <p>
      <li> <b>maxfeatures [integer]:</b> Specifies the number of features that should be drawn for this layer in the CURRENT window. Has some interesting uses with annotation and with sorted data (i.e. lakes by area).
      <p>
      <li> <b>maxscale [double]:</b> Maximum scale at which this layer is drawn.
      <p>
      <li> <b>minscale [double]:</b> Minimum scale at which this layer is drawn.
      <p>
      <li> <b>name [string]:</b> Short name for this layer. Limit is 20 characters. This name is the link between the map file and web interfaces that refer to this name. They must be identical. The name should be unique. Use the "group" option to associate layers with each other.
      <p>
      <li> <b>postlabelcache [true|false]:</b> Tells the MapServer to render this layer after all labels in the cache have been drawn. Useful for adding neatlines and similar elements. Default is false. 
      <p>
      <li> <b>query:</b> Signals the start of a <a href="#query">query object</a>.
      <p>
      <li> <b>queryitem [string]:</b> Item name in attribute table to use for queries or query lookups.
      <p>
      <li> <b>symbolscale [double]:</b> The scale at which symbols and/or text appear fullsize. This allows for dynamic scaling of objects based on the scale of the map. If not set then this layer will always appear at the same size. Scaling only takes place within the limits of minsize and maxsize as described above.
      <p>
      <li> <b>status [on|off|default|queryonly]:</b> Sets the current status of the layer. Often modified by the MapServer program. Default turns the layer on permanently. Queryonly means the layer can be queried but not drawn.
      <p>
      <li> <b>tileindex [filename]:</b> Full filename for the index or tile definition for this layer. Similar to an Arc/Info library index, this shapefile contains polygon features for each tile. The item that contains the location of the tiled data is given using the <b>tileitem</b> parameter. If the <b>data</b> parameter contains a value then it is added to the end of the location. If <b>data</b> is empty then the location should contain the entire filename.
      <p>
      <li> <b>tileitem [string]:</b> Item in the tileindex that specifies the location of the tiled data. Default is "location".
      <p>
      <li> <b>tolerance [double]:</b> Sensitivity for point based queries (i.e. via mouse or and map coordinate). Given in TOLERANCEUNITS with a default of 3 pixels. To restrict polygon searches so that the point must occur <b>in</b> the polygon set the tolerance to zero.
      <p>
      <li> <b>toleranceunits  [pixels|feet|inches|kilometers|meters|miles|dd]:</b> Units of the tolerance value. Default is pixels.
      <p>
      <li> <b>transform [true|false]:</b> Tells the MapServer whether or not a particular layer needs to be transformed from some coordinate system to image coordinates. Default is true. This allows you to create shapefiles in image/graphics coordinates and therefore have features that will always be displayed in the same location on every map. Ideal for placing logos or text in maps. Remember that the graphics coordinate system has an origin in the upper lefthand corner of the image, contrary to most map coordinate systems.
      <p>
      <li> <b>type [point|line|polyline|polygon|annotation|raster]:</b> Specifies how the data should be drawn. Need not be the same as the shapefile type. For example, a polygon shapefile may be drawn as a point layer, but a point shapefile may not be drawn as a polygon layer. Common sense rules. Annotation means that a label point will be calculated for the features, but the feature itself will not be drawn although a marker symbol can be optionally drawn. This allows for advanced labeling like numbered highway shields. Points are labeled at that point. Polygons are labeled using, firest a centroid, and if that doesn't fall in the polygon a scanline approach is used to gaurantee the label point falls within the feature. Lines are labeled at the middle of the longest arc in the visible portion of the line.
    </menu>
    <p>

    <a name="class"><FONT face="arial,helvetica" COLOR="#3366cc" SIZE=+1><b>Class Object</b></font>
    <p>
    Used to define thematic classes for a given layer and each (vector) layer must have at least one class. 
    In cases with more than one class, membership is determined using attribute values and regular expressions.
    Starts with the keyword <b>class</b> and terminates with the keyword <b>end</b>.
    <p>
    <menu>
      <li> <b>backgroundcolor [r] [g] [b]:</b> Color to use for non-transparent symbols.
      <p>
      <li> <b>color [r] [g] [b]:</b> Color to use for drawing features.
      <p>
      <li> <b>expression [string]:</b> Three types of expressions are now supported to define class membership. String comparisons, regular expressions, and simple logical expressions. If no expression is given then all features are said to belong to this class.
      <p>
      <menu>
        - String comparisions are case sensitive and are the fastest to evaluate. No special delimiters necessary although strings must be quoted if they contain special characters.      <p>
        - Regular expressions function just like previous versions of MapServer. However, you must now delimit a regular expression using /regex/. No quotes should be used.      <p>
        - Logical expressions allow you to build fairly complex tests based on one or more attributes and therefore are only available with shapefiles. Logical expressions are delimited by (expression). Attribute names are delimited by [attribute]. These names are case sensitive and must match the items names in the shapefile. For example ([AGE] > 50 and '[COLOR]' eq 'RED' - note the use of quotes). The logical operators you'd expect are supported: or, and, lt, gt, ge, le and eq. You may also use numeric operators within an expression to define simple models. As you might expect this level of flexibility is slower to process.
      </menu>
      <p>
      String comparisons and regular expressions work from the classitem defined at the layer level. You may mix 
      expression types within the classes of a layer. 
      <p>
      <li> <b>label:</b> Signals the start of a <a href="#label">label object</a>. 
      <p>
      <li> <b>maxsize [integer]:</b> Maximum size in pixels to draw a symbol. Default is 50.
      <p>
      <li> <b>minsize [integer]:</b> Minimum size in pixels to draw a symbol. Default is 0.
      <p>
      <li> <b>name [string]:</b> Name to use in legends for this class. If not set the class won't show up in a legend.
      <p>
      <li> <b>outlinecolor [r] [g] [b]:</b> Color to use for outlining polygons and certain marker symbols. Line symbols do not support outline colors.
      <p>
      <li> <b>size [integer]:</b> Height, in pixels, of the symbol/pattern to be used. Only useful with scalable symbols. The default is 1.
      <p>
      <li> <b>symbol [integer]:</b> The symbol number, from the <a href="symbolset.html">symbol file</a>, to use for all features if attribute tables are not used. Default is 0, which results in a single pixel, single width line or solid polygon fill depending on layer type.
      <p>
      <li> <b>text [string]:</b> Static text to label features in this class with. This overrides values obtained from the attribute <b>labelitem</b> The string may be given as an expression deliniated using ()'s. This allows you to concatenate multiple attributes into a single label. For example, ([firstname], [lastname]).
    </menu>
    <p>

    <a name="feature"><FONT face="arial,helvetica" COLOR="#3366cc" SIZE=+1><b>Feature Object</b></font>
    <p>
    Used to define inline features. You can use inline features when it's not possible (or too much trouble) to create a 
    shapefile. Inline features can also be built via urls or forms. Starts with the keyword <b>feature</b> and terminates 
    with the keyword <b>end</b>.
    <p>
    <menu>
      <li> <b>points:</b> 
      <p>
      <li> <b>class [string]:</b> String to use to classify this feature. In cases where a layer has multiple classes defined the class string is evaluated against the class expressions. This is effectively the same as pulling data from an attribute in a shapefile (see classitem in the <a href="#class">class object</a>). 
      <p>
      <li> <b>text [string]:</b> String to use for labeling this feature.
      <p>
    </menu>
    <p>

    <a name="legend"><FONT face="arial,helvetica" COLOR="#3366cc" SIZE=+1><b>Legend Object</b></font>
    <p>
    Defines how a legend is to be built. Legned components are built automatically from <a href="#class">class</a> 
    object definitions from individual layers. Starts with the keyword <b>legend</b> and terminates with the keyword 
    <b>end</b>. The size of the legend image is <b>not</b> known prior to creation so be carefull not to hardcode width 
    and height in the img tag in the template file.
    <menu>
      <li> <b>embed [true|false]:</b> Is the legend image to be embeded. Default is false.
      <p>
      <li> <b>imagecolor [r] [g] [b]:</b> Color to initialize the legend with (i.e. background).
      <p>
      <li> <b>label:</b> Signals the start of a <a href="#label">label object</a>. 
      <p>
      <li> <b>outlinecolor [r] [g] [b]:</b> Color to use for outlining symbol key boxes.
      <p>
      <li> <b>position [ul|uc|ur|ll|lc|lr]:</b> Where to place an embeded legend in the image. Default is lr.
      <p>
      <li> <b>size [x][y]:</b> Size of symbol key boxes in pixels. Default is 20 by 10.
      <p>
      <li> <b>spacing [x][y]:</b> Spacing between symbol key boxes (y) and labels (x) in pixels. Default is 5 by 5.
      <p>
      <li> <b>status [on|off]:</b> Is the legend image to be created. Default is off.
    </menu>
    <p>


    <a name="query"><FONT face="arial,helvetica" COLOR="#3366cc" SIZE=+1><b>Query Object</b></font>
    <p>
    Defines how a specific query is handled. Starts with the keyword <b>query</b> and terminates with the keyword <b>end</b>. 
    <p>
    <menu>
      <li> <b>expression [string]:</b> Three types of expressions are now supported to define query membership. String comparisons, regular expressions, and simple logical expressions. If no expression is given then all features are said to belong to this class.
      <p>
      <menu>
        - String comparisions are case sensitive and are the fastest to evaluate. No special delimiters necessary although strings must be quoted if they contain special characters.      <p>
        - Regular expressions function just like previous versions of MapServer. However, you must now delimit a regular expression using /regex/. No quotes should be used.      <p>
        - Logical expressions allow you to build fairly complex tests based on one or more attributes and therefore are only available with shapefiles. Logical expressions are delimited by (expression). Attribute names are delimited by [attribute]. These names are case sensitive and must match the items names in the shapefile. For example ([AGE] > 50 and '[COLOR]' eq 'RED' - note the use of quotes). The logical operators you'd expect are supported: or, and, lt, gt, ge, le and eq. You may also use numeric operators within an expression to define simple models. As you might expect this level of flexibility is slower to process.
      </menu>
      <p>
      String comparisons and regular expressions work from the classitem defined at the layer level. You may mix 
      expression types within the classes of a layer. 
      <p>
      <li> <b>join:</b> Signals the start of a <a href="#join">join object</a>. 
      <p>
      <li> <b>template [filename|url]:</b> <a href="templates.html">Template</a> file or url to use in presenting the results to the user.
    </menu>
    <p>

    <a name="querymap"><FONT face="arial,helvetica" COLOR="#3366cc" SIZE=+1><b>QueryMap Object</b></font>
    <p>
    Defines a mechanism to map the results of a query. Starts with the keyword <b>querymap</b> and terminates with the keyword <b>end</b>. 
    <p>
    <menu>
      <li> <b>color [r][g][b]:</b> Color that features are highlighted in. Default is yellow.
      <p>
      <li> <b>size [cols] [rows]:</b> Size, in pixels, of image. Defaults to the size defined in the map object.
      <p>
      <li> <b>style [NORMAL|HILITE|SELECTED]:</b> Sets how selected features are to be handled. Layers not queried are drawn as usual.<br>
      <menu>
        - NORMAL draws all features according to the settings for that layer<br>
        - HILITE draws selected features using COLOR, unselected features are drawn normally<br>
        - SELECTED draws only the selected features normally
      </menu>
      <p>
    </menu>
    <p>

    <a name="join"><FONT face="arial,helvetica" COLOR="#3366cc" SIZE=+1><b>Join Object</b></font>
    <p>
    Defines how a specific join is handled. Starts with the keyword <b>join</b> and terminates with the keyword <b>end</b>.
    Joins are defined within a query object.
    <p>
    <menu>
      <li> <b>from [item]:</b> Join item in the shapefile.
      <p>
      <li> <b>name [string]:</b> Unique name for this join. Required value.
      <p>
      <li> <b>table [file]:</b> Name of XBase file (must be fullpath) to join to. 
      <p>
      <li> <b>template [filename]:</b> Template to use with one-to-many joins. The template is processed once for each record and can only contain substitutions for items in the joined table.
      <p>
      <li> <b>to [item]:</b> Join item in the table to be joined.
      <p>
      <li> <b>type [multiple|single]:</b> The type of join. Default is single (i.e. one-to-one).
      <p>
    </menu>
    <p>

    <a name="reference"><FONT face="arial,helvetica" COLOR="#3366cc" SIZE=+1><b>Reference Map Object</b></font>
    <p>
    Defines how reference maps are to be created. Starts with the keyword <b>reference</b> and terminates
    with the keyword <b>end</b>. Three types of reference maps are supported. The most common would be one showing
    the extent of an map in an interactive interface. It is also possible to request reference maps as part of a
    query. Point queries will generate an image with a marker (see below) placed at the query point. Region based
    queries will depict the extent of the area of interest. Finally, feature based queries will display the selection
    feature(s) used.
    <menu>
      <li> <b>color [r][g][b]:</b> Color that the reference box is drawn in. Set any component to -1 for no fill. Default is red.
      <p>
      <li> <b>extent [minx] [miny] [maxx] [maxy]:</b> The spatial extent of the base reference image.
      <p>
      <li> <b>image [filename]:</b> Full filename of the base reference image. Must be a GIF image.
      <p>
      <li> <b>outlinecolor [r][g][b]:</b> Color to use for outlining the reference box. Set any component to -1 for no outline.
      <p>
      <li> <b>size [cols] [rows]:</b> Size, in pixels, of the base reference image.
      <p>
      <li> <b>status [on|off]:</b> Is the reference map to be created. Default is off.
    </menu>
    <p>

    <a name="scalebar"><FONT face="arial,helvetica" COLOR="#3366cc" SIZE=+1><b>Scalebar Object</b></font>
    <p>
    Defines how a scalebar should be built. Starts with the keyword <b>scalebar</b> and terminates with the keyword <b>end</b>. Scalebars currently do not make use of TrueType fonts. The size of the scalebar image is <b>not</b> known prior to creation so be carefull not to hardcode width and height in the img tag in the template file. Future versions will make the image size available.
    <menu>
      <li> <b>backgroundcolor [r] [g] [b]:</b> Color to use for scalebar backgound, not the image background.
      <p>
      <li> <b>color [r] [g] [b]:</b> Color to use for drawing all features if attribute tables are not used.
      <p>
      <li> <b>imagecolor [r] [g] [b]:</b> Color to initialize the scalebar with (i.e. background).
      <p>
      <li> <b>intervals [integer]:</b> Number of intervals to break the scalebar into. Default is 4.
      <p>
      <li> <b>label:</b> Signals the start of a <a href="#label">label object</a>. 
      <p>
      <li> <b>outlinecolor [r] [g] [b]:</b> Color to use for outlining individual intervals. Set any component to -1 for none which is the default.
      <p>
      <li> <b>position [ul|uc|ur|ll|lc|lr]:</b> Where to place an embeded scalebar in the image. Default is lr.
      <p>
      <li> <b>postlabelcache [true|false]:</b> For use with embeded scalebars only. Tells the MapServer to embed the scalebar after all labels in the cache have been drawn. Default is false.
      <p>
      <li> <b>size [cols] [rows]:</b> Size, in pixels, of the scalebar. X secifies the rough width of the scalebar itself, so actual width may vary a bit. Y specifies the thickness of the bar itself. Neither takes into account labeling.
      <p>
      <li> <b>status [on|off|embed]:</b> Is the scalebar image to be created, and if so should it be embeded into the image? Default is off. <i>(Please note that embeding scalebars require that you define a markerset. In essence the scalebar becomes a custom marker that is handled just like any other annotation.)</i>
      <p>
      <li> <b>style [integer]:</b> Chooses the scalebar style. Valid styles are 0 and 1. 
      <p>
      <li> <b>units [feet|inches|kilometers|meters|miles]:</b> Output scalebar units, default is miles. Used in conjunction with the map's units to develop the actual graphic. Note that decimal degrees are not valid scalebar units.
    </menu>
    <p>

    <a name="web"><FONT face="arial,helvetica" COLOR="#3366cc" SIZE=+1><b>Web Object</b></font>
    <p>
    Defines how a web interface will operate. Starts with the keyword <b>web</b> and terminates with the keyword <b>end</b>.
    <menu>

      <li> <b>empty [url]</b>: URL to forward users to if a query fails. If not defined value for "error" is used.
      <p>
      <li> <b>error [url]</b>: URL to forward users to if an error occurs. Ugly old MapServer error messages will appear if this is not defined.
      <p>
      <li> <b>footer [filename]</b>: Template to use <b>after</b> anything else is sent. Multiresult query modes only.
      <p>
      <li> <b>header [filename]</b>: Template to use <b>before</b> after everything else has been sent. This option is only available with queries.
      <p>
      <li> <b>imagepath [path]</b>: Path to the temporary directory for writing temporary files and images. Must be writable by the user the web server is running as. Must end with a / or \ depending on platform. Previously set in the mapserv.ini file.
      <p>
      <li> <b>imageurl [path]</b>: Base URL for imgpath. Not really needed as you can address this easily in a template. Must end with a /. Previously set in the mapserv.ini file. 
      <p>
      <li> <b>log [filename]</b>: File to log MapServer activity in. Must be writable by the user the web server is running as. Previously set in the mapserv.ini file.
      <p>
      <li> <b>maxscale [double]:</b> Maximum scale at which this interface is valid. When a user requests a map at a smaller scale a generic MapServer error is returned. The maxtemplate could be used to provide a more user-friendly message.
      <p>
      <li> <b>maxtemplate [filename|url]:</b> <a href="templates.html">Template</a> file or url to use in presenting the results to the user when above the maxscale. Useful for nesting interfaces.
      <p>
      <li> <b>minscale [double]:</b> Minimum scale at which this interface is valid. When a user requests a map at a larger scale a generic MapServer error is returned. The maxtemplate could be used to provide a more user-friendly message.
      <p>
      <li> <b>mintemplate [filename|url]:</b> <a href="templates.html">Template</a> file or url to use in presenting the results to the user when below the minscale. Useful for nesting interfaces.
      <p>
      <li> <b>template [filename|url]:</b> <a href="templates.html">Template</a> file or url to use in presenting the results to the user in an interactive mode (i.e. map generates map and so on...).
    </menu>

  <script language="javascript">footer();</script>
