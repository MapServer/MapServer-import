<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
  <title>Perl MapScript Reference</title>
</head>

<body bgcolor="#FFFFFF">
<h2><u>Perl MapScript Reference</u></h2>
<b><u>Abstract:</u> Work In Progress</b><br>
This document is a reference to the Perl MapScript syntax for MapServer version 3.5.<br>
Last Updated: 4/9/2002 by <a href="mailto:lfilak@medinaco.org">Lowell Filak</a>
<br>
<hr width="90%" size="2">
<a name="toc"></a><br>
</a><b><u>Table of Contents:</u></b><br>
<br>
<a href="#introduction">Introduction</a><br>
<a href="#usage">Usage</a><br>
<a href="#constants">Constants</a><br>
<a href="#classes">Classes/Objects</a><br>
<a href="#mapobj">mapObj(ect)</a><br>
<a href="#layerobj">layerObj(ect)</a><br>
<a href="#classobj">classObj(ect)</a><br>
<a href="#colorobj">colorObj(ect)</a><br>
<a href="#dbfinfo">DBFInfo</a><br>
<a href="#errorobj">errorObj(ect)</a><br>
<a href="#featurelistnodeobj">featureListNodeObj(ect)</a><br>
<a href="#itemobj">itemObj(ect)</a><br>
<a href="#labelcachememberobj">labelCacheMemberObj(ect)</a><br>
<a href="#labelcacheobj">labelCacheObj(ect)</a><br>
<a href="#labelobj">labelObj(ect)</a><br>
<a href="#legendobj">legendObj(ect)</a><br>
<a href="#lineobj">lineObj(ect)</a><br>
<a href="#markercachememberobj">markerCacheMemberObj(ect)</a><br>
<a href="#pointobj">pointObj(ect)</a><br>
<a href="#projectionobj">projectionObj(ect)</a><br>
<a href="#querymapobj">queryMapObj(ect)</a><br>
<a href="#rectobj">rectObj(ect)</a><br>
<a href="#referencemapobj">referenceMapObj(ect)</a><br>
<a href="#resultcachememberobj">resultCacheMemberObj(ect)</a><br>
<a href="#resultcacheobj">resultCacheObj(ect)</a><br>
<a href="#scalebarobj">scalebarObj(ect)</a><br>
<a href="#shapefileobj">shapefileObj(ect)</a><br>
<a href="#shapeobj">shapeObj(ect)</a><br>
<a href="#symbolsetobj">symbolSetObj(ect)</a><br>
<a href="#webobj">webObj(ect)</a><br>
<a href="#misccom">Miscellaneous Commands</a><br>
<a href="#misc">Miscellaneous Functions</a><br>
<a href="#error">Error Handling</a><br>
<a name="introduction"></a><br>
<a href="#toc"><b><u>Introduction:</u></b></a><br>
MapScript is a scripting interface for the MapServer. It allows users to more<br>
easily build custom applications by hiding much of the complexity of the C API<br>
behind a simple object-oriented scripting interface. MapScript currently exists<br>
as a module in many languages, see <a href="/doc.html">the main documentation</a>.<br>
<br>
The organization of MapScript is very close to that of a mapfile. It does <b>NOT</b><br>
give you the functionality of the MapServer CGI program, rather it gives you<br>
the necessary pieces to build your own custom versions for use on the web or as<br>
a standalone program. Here is a simple perl example that loads a mapfile,<br>
creates an image and saves it:<br>
<br>
#!/usr/bin/perl<br>
use mapscript;<br>
$map = new mapObj('example.map) or die('Unable to open mapfile.');<br>
$img = $map->draw() or die('Unable to draw map');<br>
mapscript::msSaveImage($img, 'example.png', 2, $map->{interlace}, $map->{transparent}, 95);<br>
<a name="usage"></a><br>
<a href="#toc"><b><u>Usage:</u></b></a><br>
Perl - use mapscript;<br>
<a name="constants"></a><br>
<a href="#toc"><b><u>Constants:</u></b></a><br>
Many mapfile paramters take constant values.<br>
The following constants are available in MapScript:<br>
<br>
<table border="0">
  <tr>
    <td align="right">
      <b>logical control/boolean values</b>
    </td>
    <td>
      MS_TRUE/MS_ON/MS_YES
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_FALSE/MS_OFF/MS_NO
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>logical control/status values</b>
    </td>
    <td>
      MS_DEFAULT (layer)
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_EMBED (legend & scalebar)
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_DELETE (layer)
    </td>
  </tr>
  <tr>
    <td>
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>map units</b>
    </td>
    <td>
      MS_INCHES
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_FEET
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_MILES
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_METERS
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_KILOMETERS
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_DD
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_PIXELS
    </td>
  </tr>
  <tr>  
    <td>
    </td>
  </tr>  
  <tr>
    <td align="right">
      <b>layer types</b>
    </td>
    <td>
      MS_LAYER_POINT
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_LAYER_LINE
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_LAYER_POLYGON
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_LAYER_RASTER
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_LAYER_ANNOTATION
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_LAYER_QUERY
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_LAYER_CIRCLE
    </td>
  </tr>
  <tr>  
    <td>
    </td>
  </tr>  
  <tr>
    <td align="right">
      <b>font types</b>
    </td>
    <td>
      MS_TRUETYPE
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_BITMAP
    </td>
  </tr>
  <tr>  
    <td>
    </td>
  </tr>  
  <tr>
    <td align="right">
      <b>label positions</b>
    </td>
    <td>
      MS_UL
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_LR
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_UR
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_LL
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_CR
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_CL
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_UC
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_LC
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_CC
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_AUTO
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_XY
    </td>
  </tr>
  <tr>  
    <td>
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>label size</b> (bitmap only)
    </td>
    <td>
      MS_TINY
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_SMALL
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_MEDIUM
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_LARGE
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_GIANT
    </td>
  </tr>
  <tr>  
    <td>
    </td>
  </tr>  
  <tr>
    <td align="right">
      <b>shape types</b>
    </td>
    <td>
      MS_SHAPE_POINT
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_SHAPE_LINE
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_SHAPE_POLYGON
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_SHAPE_NULL
    </td>
  </tr>
  <tr>  
    <td>
    </td>
  </tr>  
  <tr>
    <td align="right">
      <b>shapefile types</b>
    </td>
    <td>
      MS_SHAPEFILE_POINT (1)
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_SHAPEFILE_ARC (3)
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_SHAPEFILE_POLYGON (5)
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_SHAPEFILE_MULTIPOINT (8)
    </td>
  </tr>
  <tr>  
    <td>
    </td>
  </tr>  
  <tr>
    <td align="right">
      <b>query/join types/modes</b>
    </td>
    <td>
      MS_SINGLE
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_MULTIPLE
    </td>
  </tr>
  <tr>
    <td>
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>file types</b>
    </td>
    <td>
      MS_FILE_MAP
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_FILE_SYMBOL
    </td>
  </tr>
  <tr>
    <td>
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>querymap styles</b>
    </td>
    <td>
      MS_NORMAL
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_HILITE
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_SELECTED
    </td>
  </tr>
  <tr>
    <td>
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>connection type</b>
    </td>
    <td>
      MS_INLINE
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_SHAPEFILE
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_TILED_SHAPEFILE
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_SDE
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_OGR
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_TILED_OGR
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_POSTGIS
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_WMS
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_ORACLESPATIAL
    </td>
  </tr>
  <tr>
    <td>
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>image type</b>
    </td>
    <td>
      MS_GIF (0)
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_PNG (1)
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_JPEG (2)
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_WBMP (3)
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_GML (4)
    </td>
  </tr>
  <tr>
    <td>
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>return codes</b>
    </td>
    <td>
      MS_SUCCESS
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_FAILURE
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_DONE
    </td>
  </tr>
  <tr>
    <td>
    </td>
  </tr>
  <tr>
    <td align="right">
      <a name="gerrcodes"></a><br>
      <a href="#error"><b>general error codes</b></a>
    </td>
    <td>
     <br>
      MS_NOERR
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_IOERR
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_MEMERR
    </td>
  </tr>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_TYPEERR
    </td>
  </tr>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_DBFERR
    </td>
  </tr>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_GDERR
    </td>
  </tr>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_IDENTERR
    </td>
  </tr>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_EOFERR
    </td>
  </tr>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_PROJERR
    </td>
  </tr>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_MISCERR
    </td>
  </tr>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_CGIERR
    </td>
  </tr>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_WEBERR
    </td>
  </tr>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_IMGERR
    </td>
  </tr>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_HASERR
    </td>
  </tr>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_JOINERR
    </td>
  </tr>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_NOTFOUND
    </td>
  </tr>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_SHPERR
    </td>
  </tr>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_PARSEERR
    </td>
  </tr>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_SDEERR
    </td>
  </tr>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_OGRERR
    </td>
  </tr>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_QUERYERR
    </td>
  </tr>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_WMSERR
    </td>
  </tr>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_WMSCONNERR
    </td>
  </tr>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_ORACLESPATIALERR
    </td>
  </tr>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MS_NUMERRORCODES
    </td>
  </tr>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      MESSAGELENGTH
    </td>
  </tr>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      ROUTINELENGTH
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
      $mapscript::MS_ON or $mapscript::MS_OFF.
    </td>
  </tr>
</table>
<a name="classes"></a><br>
<a href="#toc"><b><u>Classes/Objects:</u></b></a><br>
Access to the mapserver API is provided largely through a series of classes.<br>
These classes allow the programmer to:<br>
<br>
<table border="0">
  <tr>
    <td>
    </td>
    <td>
      - manipulate virtually all aspects of a mapfile
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      - draw entire maps, layers or individual shapes
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      - perform spatial queries using points, areas or other features
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      - read/write shapefiles
    </td>
  </tr>
</table>
<br>
The main MapScript classes are given in the table below.<br>
Each class is described in detail later in this document.<br>
<br>
<table>
  <tr>
    <td align="right">
      <b>mapObj</b>
    </td>
    <td>
      holds all mapfile parameters
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>layerObj</b>
    </td>
    <td>
      holds all layer parameters
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      exists within a mapObj
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>classObj</b>
    </td>
    <td>
      holds all class parameters
  </tr>
  <tr>
    <td>
    </td>
    <td>
      exists within a layerObj
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>colorObj</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>DBFInfo</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>errorObj</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>featureListNodeObj</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>itemObj</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>labelCacheMemberObj</b>
    </td>
    <td>
      holds a single element from the label cache
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>labelCacheObj</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>labelObj</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>legendObj</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>lineObj</b>
    </td>
    <td>
      made up of pointObjs
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      may or may not be a closed ring
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>markerCacheMemberObj</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>pointObj</b>
    </td>
    <td>
      simple class to hold a 2-D point
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>projectionObj</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>queryMapObj</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>rectObj</b>
    </td>
    <td>
      class used to represent a 2-D rectangle
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      defined using minimum and maximum x and y coordinates
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>referenceMapObj</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>resultCacheMemberObj</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>resultCacheObj</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>scalebarObj</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>shapefileObj</b>
    </td>
    <td>
      class used to access spatial information (i.e. features) stored in an ESRI shapefile
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>shapeObj</b>
    </td>
    <td>
      made up of lineObjs
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>symbolSetObj</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td align="right">
      <b>webObj</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<a name="mapobj"></a><br>
<a href="#toc"><b><u>mapObj:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td>
      new mapObj(mapfile name)
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
      $map = new mapObj('foo.map');<br>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      If the filename is undefined an empty mapObj is created and initialized.
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      See the <a href="/doc/mapfile-reference.html">mapfile documentation</a> for a list of parameters that can be changed.<br>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      To get/set layer parameters you'll need to use one of the methods defined below.
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      Parameters that consist of a list (eg. size) can be accessed using individual list members- see below.
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      All parameter names are to be given in lowercase.
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>cellsize - double - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>extent - rectObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>height - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>imagecolor - colorObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>imagequality - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>imagetype - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>interlace - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>labelcache - labelCacheObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>latlon - projectionObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>layerorder - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>layers - layerObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>legend - legendObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>name - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>numlayers - integer - ro - number of layers in the map.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>palette - paletteObj - rw - paletteObj is used to hold colors while a  mapfile is read.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>projection - projectionObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>reference - referenceMapObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>resolution - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>scale - double - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>scalebar - scalebarObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>shapepath - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>status - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>transparent - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>units - MS_UNITS - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>web - webObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>width - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>map, legend, scalebar, and reference map <b>size</b> use <b>height</b> and <b>width</b></li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>legend <b>keysize</b> use <b>keysizex</b> and <b>keysizey</b></li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>legend <b>keyspacing</b> use <b>keyspacingx</b> and <b>keyspacingy</b></li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Examples:</b>
    </td>
    <td>
      $minx = $map->{extent}->{minx};
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      $map->{interlace} = $mapscript::MS_TRUE;
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      $map->{legend}->{keysizex} = 18;
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      $map->{legend}->{keyspacingx} = 4;
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      $map->{legend}->{label}->{font} = "congobold";
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      $map->{legend}->{label}->{sizescaled} = 8; (TT font you use needs to be loaded on your system first.)
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      $map->{legend}->{label}->{type}=$mapscript::MS_TRUETYPE;
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      $map->{name} = 'example.map';
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      $num_layers = $map->{numlayers};
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      $map->{scalebar}->{color} = $map->addColor(255,255,255);
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      $map->{scalebar}->{width} = 50;
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      addColor(integer red,integer green,integer blue)
    </td>
    <td>
      Adds a color to the maps palette.
    </td>
    <td>
      color index
    </td>
    <td>
      Color values can range from 0 to 255. Must be called prior to draw() or prepareImage().
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      image
    </td>
    <td>
      draw()
    </td>
    <td>
      Renders a map.
    </td>
    <td>
      map image
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      drawLabelCache(image)
    </td>
    <td>
      Renders the labels for a map.
    </td>
    <td>
    </td>
    <td>
      Done as part of the draw() method but may need called when using other object draw methods.
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      image
    </td>
    <td>
      drawLegend()
    </td>
    <td>
      Renders a legend.
    </td>
    <td>
      legend image
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      image
    </td>
    <td>
      drawQuery()
    </td>
    <td>
      Renders a query map.
    </td>
    <td>
      query map image
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      image
    </td>
    <td>
      drawReferenceMap()
    </td>
    <td>
      Renders a reference map.
    </td>
    <td>
      reference map image
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      image
    </td>
    <td>
      drawScalebar
    </td>
    <td>
      Renders a scalebar.
    </td>
    <td>
      scalebar image
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      embedLegend(image)
    </td>
    <td>
      Embeds a legend in a map.
    </td>
    <td>
    </td>
    <td>
      Adds legend to label cache. Invoke drawLabelCache(image) to render (unless postlabelcache is set).
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      embedScalebar(image)
    </td>
    <td>
      Embeds a scalebar in a map.
    </td>
    <td>
    </td>
    <td>
      Adds scalebar to label cache. Invoke drawLabelCache(image) to render (unless postlabelcache is set).
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      getImageToVar(image,character varname)
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <a href="#layerobj">layerObj</a>
    </td>
    <td>
      getLayer(integer index)
    </td>
    <td>
      Retrieves a layer by index.
    </td>
    <td>
      layerObj
    </td>
    <td>
      Layer indexes start with 0. Total number of layers in a mapfile is $map->{numlayers};.
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <a href="#layerobj">layerObj</a>
    </td>
    <td>
      getLayerByName(character name)
    </td>
    <td>
      Retrieves a layer by name.
    </td>
    <td>
      layerObj
    </td>
    <td>
      If multiple layers exist with the same name the first occurence is returned.
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      character
    </td>
    <td>
      getMetaData(character name)
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      character
    </td>
    <td>
      getProjection()
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      getSymbolByName(character name)
    </td>
    <td>
      Retrieves the symbol index by name.
    </td>
    <td>
      -1 if symbol is not found
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      labelCacheMemberObj
    </td>
    <td>
      nextLabel()
    </td>
    <td>
      Allows you to step through the label cache.
    </td>
    <td>
      labelCacheMemberObj
    </td>
    <td>
      One reason to do this would be to produce an imagemap based on annotation or post process a map by avoiding text.
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      image
    </td>
    <td>
      prepareImage()
    </td>
    <td>
      Initializes an image for drawing a map.
    </td>
    <td>
      blank image
    </td>
    <td>
      Must be called prior to calling the draw methods for other objects (not draw()).
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      void
    </td>
    <td>
      prepareQuery()
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      queryByFeatures(int slayer)
    </td>
    <td>
      Queries a group of layers using another set of results.
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      queryByPoint(point,int mode,double buffer)
    </td>
    <td>
      Queries a group of layers using a point.
    </td>
    <td>
    </td>
    <td>
      "mode" is MS_SINGLE or MS_MULTIPLE. Defaults to tolerances set in the mapfile but can use a constant buffer instead.
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      queryByRect(rectObj)
    </td>
    <td>
      Queries a group of layers using a rectangle.
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      queryByShape(shapeObj)
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      save(char filename)
    </td>
    <td>
      Writes the contents of a mapfile to disk.
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      saveQuery(char filename)
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      saveQueryAsGML(char filename)
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      setMetaData(char name,char value)
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      setProjection(char parameters)
    </td>
    <td>
      Sets the projection and coordinate system for the map.
    </td>
    <td>
    </td>
    <td>
      Parameters are given as a single string of comma delimited <a href="http://www.remotesensing.org/proj">PROJ.4</a> parameters, ie. "proj=utm,ellps=GRS80,zone=15,north,no_defs".
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      setWKTProjection(char string)
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
      Prints the string and bounding polygon(s) for all labels in the cache that are actually drawn.
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td><pre>
      while ( $label = $map->nextLabel()) {
        if ( $label->{status} ) {
          print $label->{string} . "\n";
          $shape = $label->{poly};
          for ( $i=0; $i<$shape->{numlines}; i++ ) {
            $part = $shape->get($i);
            for ( $j=0; $j<$part->{numpoints}; $j++) {
              $point = $part->get($j);
              print $point->{x} . "," . $point->{y} . " ";
            }
            print "\n";
          }
        }
      }</pre>
    </td>
  </tr>
</table>
<a name="layerobj"></a><br>
<a href="#toc"><b><u>layerObj:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td>
      new layerObj(mapObj)
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
      $layer = new layerObj($map);
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      Normally you obtain layerObj from an existing layer within a map, however you can create a new layer.
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      See the <a href="/doc/mapfile-reference.html">mapfile documentation</a> for a list of parameters that can be changed.<br>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>annotate - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>class - classObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>classitem - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>classitemindex - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>connection - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>connectiontype - MS_CONNECTION_TYPE - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>currentfeature - featureListNodeObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>data - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>dump - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>features - featureListNodeObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>filteritem - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>filteritemindex - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>footer - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>group - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>header - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>index - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>items - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>iteminfo - void - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>labelangleitem - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>labelangleitemindex - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>labelcache - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>labelitem - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>labelitemindex - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>labelmaxscale - double - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>labelminscale - double - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>labelrequires - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>labelsizeitem - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>labelsizeitemindex - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>maxfeatures - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>maxscale - double - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>metadata - hashTableObj (hash) - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>minscale - double - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>name - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>numclasses - integer - ro - number of classes in the layer.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>numitems - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>offsite - integer - rw - color index to treat as transparent.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>ogrlayerinfo - void - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>oraclespatiallayerinfo - void - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>postgislayerinfo - void - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>postlabelcache - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>projection - projectionObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>requires -aracter - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>resultcache - resultCacheObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>sdelayerinfo - void - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>shpfile - shapefileObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>sizeunits - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>status - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>styleitem - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>styleitemindex - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>symbolscale - double - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>template - character - rw..</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>tileindex - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>tileitem - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>tileitemindex - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>tileshpfile - shapefileObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>tolerance - double - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>toleranceunits - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>transform - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>type - MS_LAYER_TYPE - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>units - integer - rw.</li>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
      $num_classes = $layer->{numclasses};<br>
      $resultmember = $layer->getResult(1);
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      addFeature(shapeObj shape)
    </td>
    <td>
    </td>
    <td>
      -1 on failure
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      void
    </td>
    <td>
      close()
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      draw(mapObj, image)
    </td>
    <td>
      Draws a single layer and adds labels to the cache if required.
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      drawQuery(mapObj, image)
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <a href="#classobj">classObj</a>
    </td>
    <td>
      getClass(integer index) 
    </td>
    <td>
      Retrieves a classObj given an index value.
    </td>
    <td>
      classObj
    </td>
    <td>
      Class index values start at 0. Total number of classes defined in a layer is $class->{numclasses}.
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      character
    </td>
    <td>
      getItem(integer)
    </td>
    <td>
      Returns an existing item name.
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      character
    </td>
    <td>
      getMetaData(character name)
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      character
    </td>
    <td>
      getProjection()
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      resultCacheMemberObj
    </td>
    <td>
      getResult(integer)
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      getShape(shapeObj,integer tileindex,integer shapeindex)
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      open(character path)
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      queryByAttributes(mapObj,integer mode)
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      queryByFeatures(mapObj,integer slayer)
    </td>
    <td>
      Queries a single layer using another set of results.
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      queryByPoint(mapObj,pointObj,integer mode,double buffer)
    </td>
    <td>
      Queries a single layer using a point.
    </td>
    <td>
    </td>
    <td>
      "type" is MS_SINGLE or MS_MULTIPLE. Defaults to tolerances set in the mapfile but can use a constant buffer instead.
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      queryByRect(mapObj,rectObj)
    </td>
    <td>
      Queries a single layer using a rectangle.
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      queryByShape(mapObj,shapeObj)
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      setFilter(character string filter)
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      setProjection(character string parameters)
    </td>
    <td>
      Sets the projection and coordinate system for the map.
    </td>
    <td>
    </td>
    <td>
      Parameters are given as a single string of comma delimited <a href="http://www.remotesensing.org/proj">PROJ.4</a> parameters, ie. "proj=utm,ellps=GRS80,zone=15,north,no_defs".
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      setMetaData(character name,character value)
    </td>
    <td>
    </td>
    <td>
      MS_FAILURE,MS_SUCCESS
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      setWKTProjection(character string)
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      character
    </td>
    <td>
      getWMSFeatureInfoURL(mapObj,integer click_x,integer click_y,integer feature_count,character info_format)
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
      $result = $layer->queryByPoint($map,$point,MS_SINGLE,0);
    </td>
  </tr>
</table>
<br>
<a name="classobj"></a><br>
<a href="#toc"><b><u>classObj:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td align="left">
      new classObj(layerObj)
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
      $class = new classObj($layer);
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      Provides access to all class parameters (color, symbol, label, & etc...).
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      Normally you obtain a classObj from an existing class within a layer, however, you can create a new class.
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      See the <a href="/doc/mapfile-reference.html">mapfile documentation</a> for a list of parameters that can be changed.<br>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>backgroundcolor - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>color - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>joins - joinObj - rw - see the <a href="/doc/mapfile-reference.html">mapfile documentation</a>.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>label - labelObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>maxsize - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>metadata - hashTableObj(hash) - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>minsize - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>name - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>numjoins - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>outlinecolor - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>overlaybackgroundcolor - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>overlaycolor - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>overlaymaxsize - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>overlayminsize - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>overlayoutlinecolor - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>overlaysize - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>overlaysizescaled - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>overlaysymbol - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>overlaysymbolname - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>size - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>sizescaled - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>status - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>symbol - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>symbolname - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>template - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>type - integer - rw.</li>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Examples:</b>
    </td>
    <td>
      $class->{label}->{autoangle} = 1;
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      $class->{label}->{sizescaled} = 8;
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      setExpression(character string)
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      character
    </td>
    <td>
      getMetaData(character name)
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      setMetaData(character name,character value)
    </td>
    <td>
    </td>
    <td>
      MS_FAILURE,MS_SUCCESS
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      setText(layerObj,character string)
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<a name="colorobj"></a><br>
<a href="#toc"><b><u>colorObj:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td align="left">
      n/a
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      <li>blue - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>green - integer - rw..</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>red - integer - rw.</li>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      none
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<a name="dbfinfo"></a><br>
<a href="#toc"><b><u>DBFInfo:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td align="left">
      n/a
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      <li>bCurrentRecordModified - integer - ro.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>bNoHeader - integer - ro.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>bUpdated - integer - ro.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>fp - file - ro.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>nCurrentRecord - integer - ro.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>nFields - integer - ro.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>nHeaderLength - integer - ro.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>nRecordLength - integer - ro.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>nRecords - integer - ro.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>panFieldDecimals - integer - ro.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>panFieldOffset - integer - ro.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>panFieldSize - integer - ro.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>pachFieldType - character - ro.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>pszCurrentRecord - character - ro.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>pszHeader - character - ro.</li>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Examples:</b>
    </td>
    <td>
      See Method Examples below.
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      getFieldDecimals(int)
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      character
    </td>
    <td>
      getFieldName(int)
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      getFieldWidth(int)
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      getFieldType(int)
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
      0=String, 1=Integer, 2=Double, 3=Invalid
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Examples:</b>
    </td>
    <td>
      This example is the shpinfo.pl sample rewritten to use mapscript DBFInfo instead of the seperate XBase/Xbase module.
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td><pre>
      #!/usr/bin/perl
      use mapscript;
      use Getopt::Long;
      %shptypes = ( '1' => 'point',
                 '3' => 'arc',
                 '5' => 'polygon',
                 '8' => 'multipoint'
               );
      %typetypes = ( '0' => 'String',
                  '1' => 'Integer',
                  '2' => 'Double',
                  '3' => 'Invalid'
                );
      &GetOptions("file=s", \$file);
      if(!$file) {
        print "Syntax: shpinfo.pl -file=[filename]\n";
        exit 0;
      }
      $shapefile = new shapefileObj($file, -1) or die "Unable to open shapefile $file.";
      print "Shapefile $file:\n\n";
      print "\ttype: ". $shptypes{$shapefile->{type}} ."\n";
      print "\tnumber of features: ". $shapefile->{numshapes} ."\n";
      printf "\tbounds: (%f,%f) (%f,%f)\n", $shapefile->{bounds}->{minx}, $shapefile->{bounds}->{miny}, $shapefile->{bounds}->{maxx}, $shapefile->{bounds}->{maxy};
      #
      $table = $shapefile->{hDBF};
      print "\nDBFInfo table $file.dbf:\n\n";
      print "\tnumber of records: ". $table->{nRecords} ."\n";
      my $nofields = $table->{nFields};
      print "\tnumber of fields: ". $nofields ."\n\n";
      print "\tName             Type    Length Decimals\n";
      print "\t---------------- ------- ------ --------\n";
      for ($i=0; $i<$nofields; $i++) {
        printf "\t%-16s %-7s %6d %8d\n", $table->getFieldName($i), $typetypes{$table->getFieldType($i)}, $table->getFieldWidth($i); $table->getFieldDecimals($i)
      }</pre>
    </td>
  </tr>
</table>
<br>
<a name="errorobj"></a><br>
<a href="#toc"><b><u>errorObj:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td align="left">
      n/a
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      <li>code - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>message - character - ro.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>routine - character - ro.</li>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      none
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<a name="featurelistnodeobj"></a><br>
<a href="#toc"><b><u>featureListNodeObj:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td align="left">
      n/a
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      <li>next - featureListNodeObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>shape - shapeObj - rw.</li>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      none
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<a name="itemobj"></a><br>
<a href="#toc"><b><u>itemObj:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td align="left">
      n/a
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      <li>index - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>name - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>numdecimals - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>size - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>type - integer - rw.</li>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      none
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<a name="labelcachememberobj"></a><br>
<a href="#toc"><b><u>labelCacheMemberObj:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td align="left">
      n/a
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      <li>class - classObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>classidx - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>featuresize - double - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>layeridx - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>point - pointObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>poly - shapeObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>shapeidx - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>status - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>string - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>tileidx - integer - rw.</li>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      none
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<a name="labelcacheobj"></a><br>
<a href="#toc"><b><u>labelCacheObj:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td align="left">
      n/a
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      <li>cachesize - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>labels - labelCacheMemberObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>markers - markerCacheMemberObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>markercachesize - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>numlabels - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>nummarkers - integer - rw.</li>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      none
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<a name="labelobj"></a><br>
<a href="#toc"><b><u>labelObj:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td align="left">
      n/a
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      <li>angle - double - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>antialias - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>autoangle - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>autominfeaturesize - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>backgroundcolor - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>backgroundshadowcolor - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>backgroundshadowsizex - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>backgroundshadowsizey - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>buffer - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>color - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>font - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>force - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>mindistance - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>minfeaturesize - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>maxsize - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>minsize - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>offsetx - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>offsety - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>outlinecolor - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>partials - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>position - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>shadowcolor - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>shadowsizex - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>shadowsizey - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>size - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>sizescaled - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>type - MS_FONT_TYPE - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>wrap - character - rw.</li>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      none
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<a name="legendobj"></a><br>
<a href="#toc"><b><u>legendObj:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td align="left">
      n/a
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      <li>height - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>imagecolor - colorObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>interlace - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>keysizex - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>keysizey - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>keyspacingx - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>keyspacingy - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>label - labelObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>outlinecolor - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>position - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>postlabelcache - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>status - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>transparent - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>width - integer - rw.</li>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      none
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<a name="lineobj"></a><br>
<a href="#toc"><b><u>lineObj:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td align="left">
      new lineObj()
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
      $line = new lineObj();
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      <li>numpoints - integer - rw - number of points in this line.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>point - pointObj - rw.</li>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Examples:</b>
    </td>
    <td>
      $numpoints = $line->{numpoints};
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      add(pointObj)
    </td>
    <td>
      Adds a point to the end of the line.
    </td>
    <td>
       -1 on failure
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      pointObj
    </td>
    <td>
      get(integer)
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      project(projectionObj in,projectionObj out)
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td><pre>
      for($j=0; $j<$numpoints; $j++) {
        $point = $line->get($j);
      }</pre>
    </td>
  </tr>
</table>
<br>
<a name="markercachememberobj"></a><br>
<a href="#toc"><b><u>markerCacheMemberObj:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td align="left">
      n/a
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      <li>id - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>poly - shapeObj - rw.</li>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      none
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<a name="pointobj"></a><br>
<a href="#toc"><b><u>pointObj:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td align="left">
      new pointObj()
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
      $point = new pointObj();
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      <li>x - double - rw - x coordinate.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>y - double - rw - y coordinate.</li>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Examples:</b>
    </td>
    <td>
      $point->{x} = 100;<br>
      $pointx = $point->{x};<br>
      $pointy = $point->{y};
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      double
    </td>
    <td>
      distanceToLine(pointObj a,pointObj b)
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      double
    </td>
    <td>
      distanceToShape(shapeObj)
    </td>
    <td>
    </td>
    <td>
      -1 if shape type is not recognized
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      double
    </td>
    <td>
      distanceToPoint(pointObj)
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      draw(mapObj,layerObj,image,integer class_index,character text)
    </td>
    <td>
      Draws an individual point using layerObj.
    </td>
    <td>
    </td>
    <td>
      The class_index is used to classify the point based on the classes defined for layerObj.<br>
      The text string is used to annotate the point.
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      project(pointObj in,pointObj out)
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Examples:</b>
    </td>
    <td><pre>
      for($k=0; $k<$numpoints; $k++) {
        $point = $line->get($k);
      }
    </td>
  </tr>
</table>
<br>
<a name="projectionobj"></a><br>
<a href="#toc"><b><u>projectionObj:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td align="left">
      n/a
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      <li>args - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>numargs - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>proj - void - rw.</li>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      none
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<a name="querymapobj"></a><br>
<a href="#toc"><b><u>queryMapObj:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td align="left">
      n/a
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      <li>color - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>height - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>status - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>style - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>width - integer - rw.</li>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      none
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<a name="rectobj"></a><br>
<a href="#toc"><b><u>rectObj:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td align="left">
      new rectObj()
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
      $rectangle = new rectObj();
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      <li>minx - double - rw - left.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>miny - double - rw - lower.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>maxx - double - rw - right.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>maxy - double - rw - upper.</li>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
      $rectangle->{minx} = 0;<br>
      $rectangle->{miny} = 0;<br>
      $rectangle->{maxx} = 10;<br>
      $rectangle->{maxy} = 10;
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      draw(mapObj,layerObj,image,integer class_index,character text)
    </td>
    <td>
      Draws an individual rectangle using layerObj.
    </td>
    <td>
      0 on success
    </td>
    <td>
      The class_index is used to classify the feature based on the classes defined for layerObj.<br>
       The text string is used to annotate the shape.
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      double
    </td>
    <td>
      fit(integer width,integer height)
    </td>
    <td>
      Adjusts a rectangle to fit a size.
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      project(projectionObj in,projectionObj out)
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<a name="referencemapobj"></a><br>
<a href="#toc"><b><u>referenceMapObj:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td align="left">
      n/a
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      <li>color - colorObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>extent - rectObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>height - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>image - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>outlinecolor - colorObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>status - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>width - integer - rw.</li>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      none
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<a name="resultcachememberobj"></a><br>
<a href="#toc"><b><u>resultCacheMemberObj:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td align="left">
      n/a
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      <li>classindex - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>shapeindex - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>tileindex - integer - rw.</li>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      None
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<a name="resultcacheobj"></a><br>
<a href="#toc"><b><u>resultCacheObj:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td align="left">
      n/a
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
      $result = $layer->queryByPoint($map,$point,MS_SINGLE,0);
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      <li>bounds - rectObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>cachesize - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>numresults - integer - rw - total number of matching records.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>results - resultCacheMemberObj - rw.</li>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      None
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<a name="scalebarobj"></a><br>
<a href="#toc"><b><u>scalebarObj:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td align="left">
      n/a
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      <li>backgroundcolor - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>color - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>height - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>imagecolor - colorObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>interlace - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>intervals - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>label - labelObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>outlinecolor - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>position - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>postlabelcache - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>status - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>style - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>transparent - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>units - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>width - integer - rw.</li>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      none
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<a name="shapefileobj"></a><br>
<a href="#toc"><b><u>shapefileObj:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td align="left">
      new shapefileObj(filename,type)
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
      $shapefile = new shapefileObj('lakes',-1) or die "Unable to open lakes shapefile";
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      No extension is necessary.<br>
      For existing files type should be -1.<br>
      To create an empty file type can be MS_SHAPEFILE_POINT, MS_SHAPEFILE_ARC, MS_SHAPEFILE_POLYGON, or MS_SHAPEFILE_MULTIPOINT.<br>
      To <b>Close</b> a shapefile you've opened you need to undefine the reference, ie. "undef $shapefile;" or "$shapefile = '';".
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      <li>bounds - rectObj - ro - The shapefiles bounding box.</li>
    </td>
  </tr>
  <tr>
  <tr>
    <td>
    </td>
    <td>
      <li>hDBF - DBFInfo - ro.</li>
    </td>
  </tr>
    <td>
    </td>
    <td>
      <li>hSHP - SHPHandle - ro - Shapefile pointer.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>lastshape - integer - ro.</li> 
   </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>numshapes - integer - ro - number of shapes in the shapefile.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>shapepath - character - ro.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>source - character - ro.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>status - character - ro.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>statusbounds - rectObj - ro.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>type - integer - ro - type of shapefile.</li>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Examples:</b>
    </td>
    <td>
      $extents = $shapefile->{bounds};<br>
      $minx = $extents->{minx};<br>
      $miny = $extents->{miny};<br>
      $maxx = $extents->{maxx};<br>
      $maxy = $extents->{maxy};<br>
      $numshapes = $shapefile->{numshapes};<br>
      $typeno = $shapefile->{type};
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      add(shapeObj)
    </td>
    <td>
      Appends a shape to an open file.
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      addPoint(pointObj)
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      get(integer index,shapeObj)
    </td>
    <td>
      Retrieves a shape by index.
    </td>
    <td>
      -1 if index is < 0 or >= number of shapes
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      void
    </td>
    <td>
      getExtent(integer index,rectObj)
    </td>
    <td>
      Retrieves a shape bounding box by index.
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      getPoint(integer index,pointObj)
    </td>
    <td>
    </td>
    <td>
      -1 if index is < 0 or >= number of shapes
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      getTransformed(mapObj,integer index,shapeObj)
    </td>
    <td>
    </td>
    <td>
      -1 if index is < 0 or >= number of shapes
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
      $shapefile->add($shape);
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      This example saves a selected polygon shape into a newshape file so the single shape can be drawn seperately from the rest of the map, aka. highlighting.
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td><pre>
      #
      # Open the map.
      my $map = new mapObj('your.map');
      #
      # Create the layer object to query.
      my $layer = new layerObj($map);
      #
      # Create a new shapefile for the selection set.
      my $newshpf = new shapefileObj("$newshpfname", 5);
      #
      # Set index value for selected shape.
      my $poly = 400;
      #
      # Create a shapefile object for getting queried shape.
      my $shpf = new shapefileObj("data_shapefile", -1);
      #
      # Create shape object for storing queried shape.
      my $shp = new shapeObj(-1);
      #
      # Retrieve shape into shape object.
      $shpf->get($poly, $shp);
      #
      # Put shape into new shapefile.
      $newshpf->add($shp);
      #
      # Create dbf to go with new.
      @toucherror = system("touch $newshpfname.dbf");
      #
      # Get the extent of the new shapefile.
      my $newrect = $newshpf->{bounds};
      my $newminx = $newrect->{minx};
      my $newminy = $newrect->{miny};
      my $newmaxx = $newrect->{maxx};
      my $newmaxy = $newrect->{maxy};
      #
      # Close new shapefile.
      undef $newshpf;
      #
      # Get place-holder layer.
      my $sellayer = $map->getLayerByName('selectd');
      #
      # Turn it on.
      $sellayer->{status} = $mapscript::MS_ON;
      #
      # Set the data path to the new shapefile.
      $sellayer->{data} = $newshpfname;
      #
      # Draw the map.
      $img = $map->draw();
    </td></pre>
  </tr>
</table>
<br>
<a name="shapeobj"></a><br>
<a href="#toc"><b><u>shapeObj:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td align="left">
      new shapeObj(type)
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Examples:</b>
    </td>
    <td>
      $shape = new shapeObj(-1);
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      The type parameter is just a general type used to make MapScript less bulky.<br>
      With it MapScript can make decisions in a few comparison methods without requiring specific methods.<br>
      Valid values are -1, MS_SHAPE_POINT, MS_SHAPE_LINE, & MS_SHAPE_POLYGON.<br>
      Other shape creation methods <a href="#shapefileobj">(see shapefileObj)</a> populate this parameter correctly.
    </td>
  <tr>
    <td>
    </td>
    <td>
      $shape = new shapeObj($mapscript::MS_SHAPE_POLYGON);
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      <li>bounds - rectObj - rw - the shapes bounding box.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>classindex - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>index - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>line - lineObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>numlines - integer - rw - number of lines in this shape.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>numvalues - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>text - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>tileindex - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>type - integer - rw - generic type (MS_SHAPE_POINT, MS_SHAPE_LINE, MS_SHAPE_POLYGON) of this shape.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>values - character - rw.</li>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Examples:</b>
    </td>
    <td>
      $extents = $shape->{bounds};<br>
      $minx = $shape->{bounds}->{minx};<br>
      $miny = $shape->{bounds}->{miny};<br>
      $maxx = $shape->{bounds}->{maxx};<br>
      $maxy = $shape->{bounds}->{maxy};<br>
      $numlines = $shape->{numlines};
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      add(lineObj)
    </td>
    <td>
      Adds a line to the shape.
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      contains(pointObj)
    </td>
    <td>
    </td>
    <td>
      -1 if shape is not polygon
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      copy(shapeObj destination)
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      draw(mapObj,layerObj,image)
    </td>
    <td>
      Draws an individual shape using layerObj.
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      lineObj
    </td>
    <td>
      get(integer index)
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      character
    </td>
    <td>
      getValue(integer index)
    </td>
    <td>
      returns an existing value.
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      intersects(shapeObj)
    </td>
    <td>
    </td>
    <td>
      -1 if shape is not line or polygon
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      integer
    </td>
    <td>
      project(projectionObj in,projectionObj out)
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      void
    </td>
    <td>
      setBounds()
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Examples:</b>
    </td>
    <td>
      This example retrieves all of the x,y's for all the lines in a polygon shape.
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td><pre>
      #
      # Create shape object.
      $shp = new shapeObj(-1);
      #
      # Retrieve shape into shape object.
      $shpfile->get(1,$shp);
      #
      # How many lines in shape.
      my $num_lines = $ishp->{numlines};
      #
      # Loop through each line.
      for ( $line_num=0; $line_num<$num_lines; $line_num++ ) {
        #
        # Get line.
        my $line = new lineObj();
        $line = $ishp->get($line_num);
        print "Got Line #$line_num";
        #
        # How many points in line.
        my $num_points = $line->{numpoints};
        #
        # Loop through each point.
        for ( $point_num=0; $point_num<$num_points; $point_num++ ) {
          #
          # Get the point.
          my $point = new pointObj();
          $point = $line->get($point_num);
          print "Got Point #$point_num";
          $px = $point->{x};
          $py = $point->{y};
          print " X=$px Y=$py";
        }
      }
      print "\n";
    </pre></td>
  </tr>
  <tr>
    <td>
    </td>
    <td><pre>
      for($i=0; $i<$numshapes; i++) {
        $shapefile->get($i, $shape);
        ...
      }</pre>
    </td>
  </tr>
</table>
<br>
<a name="symbolsetobj"></a><br>
<a href="#toc"><b><u>symbolSetObj:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td align="left">
      n/a
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      <li>filename - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>imagecache - imageCacheObj - rw - imagecache.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>imagecachesize - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>numsymbols - integer - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>symbol - symbolObj - ro - a symbol.</li>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      none
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<a name="webobj"></a><br>
<a href="#toc"><b><u>webObj:</u></b></a><br>
<br>
<table border="0">
  <tr>
    <td>
      <b>Constructor:</b><br>
    </td>
    <td align="left">
      n/a
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Members:</b>
    </td>
    <td>
      <li>empty - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>error - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>extent - rectObj - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>footer - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>header - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>imagepath - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>imageurl - caracter - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>log - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>maxscale - double - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>maxtemplate - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>metadata - hashTableObj(hash) - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>minscale - double - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>mintemplate - character - rw.</li>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      <li>template - character - rw.</li>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table border="1">
  <tr>
    <th>
      <b>Methods:</b>
    </th>
    <th>
      Type
    </th>
    <th>
      Method
    </th>
    <th>
      Description
    </th>
    <th>
      Returns
    </th>
    <th>
      Notes
    </th>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      none
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<a name="misccom"></a><br>
<a href="#toc"><b><u>Miscellaneous Commands:</u></b></a><br>
The MapServer distribution supplies the following command of interest.<br>
<table>
  <tr>
    <td>
    </td>
    <td>
      shp2pdf -m [mapfile] -o [pdf] -l [layers]
    </td>
    <td>
      Saves a mapfile as a pdf.
    </td>
  </tr>
</table>
<br>
<table>
  <tr>
    <td>
      <b>Example:</b>
    </td>
    <td><pre>
      #
      # Save the current map.
      $map->save("tobepdf.map");
      #
      # Convert the map to pdf.
      @topdferror = system("shp2pdf -m tobepdf.map -o map.pdf");
    </pre></td>
  </tr>
</table>
<br>
<a name="misc"></a><br>
<a href="#toc"><b><u>Miscellaneous Functions:</u></b></a><br>
MapScript supplies a few miscelaneous functions for image handling.<br>
<table>
  <tr>
    <td>
    </td>
    <td>
      msSaveImage(image, filename, filetype, transparent, interlace, quality);
    </td>
    <td>
      Saves an image to a file.<br>
      Set filename to undef to save to stdout.<br>
      The transparent and interlace flags are boolean values.<br>
      The filetype is $mapscript::MS_GIF=GIF, $mapscript::MS_PNG=PNG, $mapscript::MS_JPEG=JPEG, $mapscript::MS_WBMP=WBMP.<br>
      The quality is 0-95. Ignored for all but JPEG.
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      msFreeImage(image);
    </td>
    <td>
      Free the memory associated with an image.
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      msGetVersion();
    </td>
    <td>
    </td>
  </tr>
</table>
<br>
<a name="error"></a><br>
<a href="#toc"><b><u>Error Handling:</u></b></a><br>
Current error handling supports returned codes (where applicable) and <a href="#gerrcodes">general error codes</a>.
<table>
  <tr>
    <td>
    </td>
    <td>
      msSetError(code,message,routine);
    </td>
    <td>
    </td>
  </tr>
  <tr>
    <td>
    </td>
    <td>
      msWriteError(file);
    </td>
    <td>
    </td>
  </tr>
</table>
</body>
</html>

