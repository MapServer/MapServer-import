<?xml version="1.0" standalone="no"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN"
  "http://mapserver.gis.umn.edu/mdp/docbkx412/docbookx.dtd">
<!-- $Id$ -->
<article>
	<articleinfo>
		<!-- insert title here, include the word HOWTO -->
		<title>HOWTO for Getting Started With MapServer</title>
		<author>
			<firstname>Jamie</firstname>
			<surname>Smedsmo</surname>
			<affiliation>
				<orgname>University of Minnesota</orgname>
                        <orgdiv>Department of Forest Resources</orgdiv>
			</affiliation>
		</author>
		<author>
			<firstname>Peter</firstname>
			<surname>Schut</surname>
			<affiliation>
				<orgname>Agriculture and Agri-Food Canada</orgname>
                        <orgdiv>Research Branch</orgdiv>
			</affiliation>
		</author>
		<author>
			<firstname>Puneet</firstname>
			<surname>Kishor</surname>
			<affiliation>
				<orgname>GeoAnalytics, Inc.</orgname>
			</affiliation>
		</author>

		<date>2004-01-23</date>
		<abstract>
			<para>
                 This document describes the components of a MapServer application and how 
                 they work together.  It also gives suggestions for getting your first application
                 running.
                        </para>
		<para>Last Updated: 06/16/2004</para>

            <para><link linkend='rhistory'>Revision History</link></para>

		</abstract>
	</articleinfo>
<sect1 id="intro"><title>Parts of a MapServer Application</title>

    <para>MapServer generally runs as a CGI application from your http 
          server.  This hold true unless you are building a more advanced 
          application with MapScript which accesses the MapServer API 
          directly. 
    </para> 

    <para>MapServer CGI applications use the following resources:</para>
<orderedlist>
  <listitem><para> an http server like Apache or Internet Information Server,</para></listitem>
  <listitem><para>MapServer software,</para></listitem>
  <listitem><para>an initialization file that triggers the first view 
    of the MapServer application (optional),</para></listitem>
  <listitem><para>a Mapfile that controls what MapServer does with 
    the data,</para></listitem>
  <listitem><para>a template file that controls the the MapServer application's user interface in the browser window,
    </para></listitem>
  <listitem><para>a GIS dataset.</para></listitem> 
</orderedlist>
<para>MapServer is normally installed in the cgi-bin directory of the http server, 
  and MapServer files and datasets are stored in the http documents directory.</para>
   <para>The logic of a MapServer Application is demonstrated in the flowchart below.</para>
   <para>
          <imageobject>
          	<imagedata fileref="mapserverlogic.png" format="png"></imagedata>
	  </imageobject>
  </para>

  <sect2 id="init"><title>The Initialization File</title>
  <para>This file can be part of another html file, but for simplicity it may also 
    be a separate file. The initialization file uses a form to send an initial 
    query to the http server that returns a result from the MapServer. MapServer 
    is stateless, and MapServer is started and executed each time a query is received, 
    so this initialization file is just required to pass a variety of (hidden) 
    parameters to the application. The initialization file is a regular html file, 
    so its extension is .htm or .html.  Alternatively, a hyperlink to the mapserver
    application can be constructed.  It should pass the basic parameters required
    by the MapServer CGI application.</para>
  </sect2>
  <sect2 id="mapfile"><title>The Mapfile</title>

  <para>The Mapfile defines the data to be used in an application and display and query parameters;
    you can think of it as the application's configuration file. 
    The Mapfile also includes information about how to draw the map, the legend, and maps resulting 
    from a query. Mapfiles  normally have a .map extension. See the
    <ulink url="mapfile-reference.html">Mapfile Reference</ulink>
    for complete documentation.</para>
  </sect2>
  <sect2 id="template"><title>The Template File</title>

  <para>The Template file controls how the maps and legends output from MapServer 
    will appear on an html page; it operates like any other HTML file except that
    certain fields can be modified by the MapServer CGI. The template file allows the author to place 
    the map and legend on the page, and determine what ways the user is allowed 
    to interact with the mapserver application (i.e browse, query, zoom, etc.). 
    Mapserver uses the template file and replaces keywords in the template file 
    with information on its current state or the GIS dataset, to produce the html 
    file that is sent to the browser. Since the template file will be used to 
    create an html file, it is usually stored with a .html extension. See the
    <ulink url="template-reference.html">Template 
    Reference</ulink> for complete documentation.
  </para>
  </sect2>

  <sect2 id="dataset"><title>The GIS Dataset</title>
    <para>Mapserver uses ESRI shapefile format as its default vector file format.
      Raster data can come in several different formats, depending on how MapServer
      is compiled.  By default, MapServer supports geoTiff files and Tiff files
      with world files.  See the <ulink url="raster-howto.html">Raster HOWTO</ulink>
      for details.  Other data formats can be used, but this is a little more 
      complicated. The data files should be placed in a directory 
      that is referenced in the 
      <ulink url="mapfile-reference.html">
      Mapfile</ulink>. Shapefiles can be optimized for use with mapserver using 
      the shptree and sortshp <ulink url="http://mapserver.gis.umn.edu/utils.html">
      utilities.</ulink></para>
  </sect2>
</sect1>

<sect1 id="next"><title>First Steps</title>
  <sect2 id="install"><title>Installation</title>
  <para>The first thing you must do is install MapServer.  If you do not have
    the correct permissions, a system administrator may have to help you with
    this.  For Windows systems, pre-compiled binaries are available through
    the <ulink url="http://mapserver.gis.umn.edu/win32binaries.html">Windows
    Binary Download</ulink> page. Complete instructions for compilation and 
    installation instructions are available for several operating systems:
    <itemizedlist>
	<listitem><para><ulink url="win32_compile-howto.html">Windows</ulink></para></listitem>
	<listitem><para><ulink url="unix-install-howto.html">UNIX</ulink></para></listitem>
	<listitem><para><ulink url="mapserver-cygwin-howto.html">Cygwin on Win32</ulink></para></listitem>
    </itemizedlist>
  </para>
  </sect2>

  <sect2 id="install"><title>Testing</title>
  <para>After you have downloaded and installed MapServer, 
    you are ready to create your first MapServer application. It is recommended 
    that you set up the <ulink url="http://mapserver.gis.umn.edu/demo_readme.html">
    MapServer Demo Application</ulink> to check your installation. The Mapfile 
    and Template file are simple ASCII text files that can be edited in your favorite 
    text editor (such as wordpad on Windows). The initialization file is a real html 
    file that can be edited in your favorite html editor.</para>
  </sect2>

  <sect2 id="install"><title>First Application</title>
     To get up-to-speed quickly, you may want to build your first application
     with the <ulink url="http://terrasip.gis.umn.edu/projects/tutorial/">MapServer Tutorial.
     </ulink> 
  <para> 
     The <ulink url="http://maps.dnr.state.mn.us/mapserver_demos/workshop.zip">MapServer Demo</ulink>
     will walk you through setting up an application
     and familiarize you with mapfiles and template files.
  </para>
  </sect2>

  <sect2 id='rhistory'><title>Document Changes</title>

  <para>
     <revhistory>
      <revision>
        <revnumber>: 1</revnumber>
        <date>Date: 01/16/2004</date>
        <authorinitials>Author: Kari Geurts</authorinitials>
        <revremark>I added the Revision History section to this document.</revremark>
      </revision>
      <revision>
        <revnumber>: 2</revnumber>
        <date>Date: 04/29/2004 </date>
        <authorinitials>Author: Kari Guerts</authorinitials>
        <revremark>I changed the URL link for the tutorial and demo.</revremark>
      </revision>

      <revision>
        <revnumber>: 3</revnumber>
        <date>Date: 06/16/2004 </date>
        <authorinitials>Author: Kari Guerts</authorinitials>
        <revremark>This is a test for the update script.</revremark>
      </revision>

     </revhistory>
  </para>
  </sect2>
    
</sect1>
</article>
