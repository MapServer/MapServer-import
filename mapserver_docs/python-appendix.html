<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.3.0: http://docutils.sourceforge.net/" />
<title>Python Appendix</title>
<meta name="date" content="2004-05-25" />
<meta name="author" content="Sean Gillies" />
<link rel="stylesheet" href="mapscript.css" type="text/css" />
</head>
<body>
<div class="document" id="python-appendix">
<h1 class="title">Python Appendix</h1>
<table class="docinfo" frame="void" rules="none">
<col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr class="field"><th class="docinfo-name">Release:</th><td class="field-body">4.4</td>
</tr>
<tr><th class="docinfo-name">Revision:</th>
<td>1.9</td></tr>
<tr><th class="docinfo-name">Date:</th>
<td>2004-11-14</td></tr>
<tr><th class="docinfo-name">Author:</th>
<td>Sean Gillies</td></tr>
<tr><th class="docinfo-name">Contact:</th>
<td><a class="first last reference" href="mailto:sgillies&#64;frii.com">sgillies&#64;frii.com</a></td></tr>
</tbody>
</table>
=============================================================================<br>
 Introduction<br>
=============================================================================<br>
<br>
The Python mapscript module contains some class extension methods that have
not yet been implemented for other languages.<br>
<br>
=============================================================================<br>
 Classes<br>
=============================================================================<br>
<br>
References to sections below will be added here as the documentation grows.<br>
<br>
-----------------------------------------------------------------------------<br>
 imageObj<br>
-----------------------------------------------------------------------------<br>
<br>
The Python Imaging Library, http://www.pythonware.com/products/pil/, is an
indispensible tool for image manipulation.  The extensions to imageObj are
all geared towards better integration of PIL in mapscript applications.<br>
<br>
imageObj Methods<br>
----------------<br>
<br>
imageObj( PyObject arg1, PyObject arg2 [, PyObject arg3 ] ) : imageObj_<br>
    Create a new instance which is either empty or read from a Python
    file-like object that refers to a GD format image.<br>
<br>
    The constructor has 2 different modes.  In the blank image mode, arg1
    and arg2 should be the desired width and height in pixels, and the
    optional arg3 should be either an instance of outputFormatObj or
    a GD driver name as a shortcut to a format.  In the image file mode,
    arg1 should be a filename or a Python file or file-like object.  If
    the file-like object does not have a "seek" attribute (such as a
    urllib resource handle), then a GD driver name *must* be provided as
    arg2.<br>
<br>
    Here's an example of creating a 320 pixel wide by 240 pixel high JPEG
    using the constructor's blank image mode::<br>
<br>
        image = mapscript.imageObj(320, 240, 'GD/JPEG')<br>
<br>
    In image file mode, interesting values of *arg1* to try are instances
    of *StringIO*::<br>
<br>
        s = StringIO()<br>
        pil_image.save(s)    # Save an image manipulated with PIL<br>
        ms_image = imageObj(s)<br>
<br>
    Or the file-like object returned from *urlopen*<br>
<br>
    ::<br>
<br>
        url = urllib.urlopen('http://mapserver.gis.umn.edu/bugs/ant.jpg')<br>
        ms_image = imageObj(url, 'GD/JPEG')<br>
<br>
<br>
write( [ PyObject file ] ) : void<br>
    Write image data to a Python file-like object.  Default is stdout.<br>
<br>
------------------------------------------------------------------------------<br>
 pointObj<br>
------------------------------------------------------------------------------<br>
<br>
pointObj Methods<br>
----------------<br>
<br>
__str__() : string<br>
    Return a string formatted like<br>
<br>
    ::<br>
<br>
        { 'x': %f , 'y': %f }<br>
<br>
<br>
    with the coordinate values substituted appropriately.  Usage example:<br>
<br>
    ::<br>
<br>
        >>> p = mapscript.pointObj(1, 1)<br>
        >>> str(p)<br>
        { 'x': 1.000000 , 'y': 1.000000 }<br>
<br>
<br>
    Note that the return value can be conveniently eval'd into a Python
    dictionary:<br>
<br>
    ::<br>
<br>
        >>> p_dict = eval(str(p))<br>
        >>> p_dict['x']<br>
        1.000000<br>
<br>
<br>
------------------------------------------------------------------------------<br>
 rectObj<br>
------------------------------------------------------------------------------<br>
<br>
rectObj Methods<br>
---------------<br>
<br>
__contains__( pointObj point ) : boolean<br>
    Returns True if *point* is inside the rectangle, otherwise returns False.<br>
<br>
    ::<br>
<br>
        >>> r = mapscript.rectObj(0, 0, 1, 1)<br>
        >>> p = mapscript.pointObj(2, 0)       # outside<br>
        >>> p in r<br>
        False<br>
        >>> p not in r<br>
        True<br>
<br>
<br>
__str__() : string<br>
    Return a string formatted like<br>
<br>
    ::<br>
<br>
        { 'minx': %f , 'miny': %f , 'maxx': %f , 'maxy': %f }<br>
<br>
<br>
    with the bounding values substituted appropriately.  Usage example:<br>
<br>
    ::<br>
<br>
        >>> r = mapscript.rectObj(0, 0, 1, 1)<br>
        >>> str(r)<br>
        { 'minx': 0.000000 , 'miny': 0.000000 , 'maxx': 1.000000 , 'maxy': 1.000000 }<br>
<br>
<br>
    Note that the return value can be conveniently eval'd into a Python
    dictionary:<br>
<br>
    ::<br>
<br>
        >>> r_dict = eval(str(r))<br>
        >>> r_dict['minx']<br>
        0.000000<br>
</body>
</html>
