<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN"
  "http://mapserver.gis.umn.edu/mdp/docbkx412/docbookx.dtd">
<!-- $Id$ -->
<article>
	<articleinfo>
		<!-- insert title here, include the word HOWTO -->
		<title>HOWTO pour commencer avec MapServer</title>
		<author>
			<firstname>Jamie</firstname>
			<surname>Smedsmo</surname>
			<affiliation>
				<orgname>University of Minnesota</orgname>
				<orgdiv>Department of Forest Resources</orgdiv>
			</affiliation>
		</author>
		<author>
			<firstname>Peter</firstname>
			<surname>Schut</surname>
			<affiliation>
				<orgname>Agriculture and Agri-Food Canada</orgname>
				<orgdiv>Research Branch</orgdiv>
			</affiliation>
		</author>
		<author>
			<firstname>Puneet</firstname>
			<surname>Kishor</surname>
			<affiliation>
				<orgname>GeoAnalytics, Inc.</orgname>
			</affiliation>
		</author>
		<date>2002-02-15</date>
		<othercredit>
			<contrib>Traduction</contrib>
			<firstname>Franz-Albert</firstname>
			<surname>Van Den Bussche</surname>
			<affiliation>
				<orgname>Club des Utilisateurs de Linux et des logiciels libres de Toulouse et des environs</orgname>
				<orgdiv>CULTe</orgdiv>
				<address>
					<email>franz@favdb.net</email>
				</address>
			</affiliation>
			<contrib>Relecture</contrib>
			<firstname>Nathalie</firstname>
			<surname>Vielmas</surname>
			<affiliation>
				<orgname>Club des Utilisateurs de Linux et des logiciels libres de Toulouse et des environs</orgname>
				<orgdiv>CULTe</orgdiv>
				<address>
					<email>nath@favdb.net</email>
				</address>
			</affiliation>
		</othercredit>
		<abstract>
			<para>Ce document décrit les composants d'une application MapServer et comment ils travaillent ensemble.  Il fournit aussi des suggestions pour obtenir une première application fonctionnelle.
               </para>
			<para>Dernière mise à jour: 15/02/2002</para>
		</abstract>
	</articleinfo>
	<sect1 id="intro">
		<title>Elements d'une application MapServer</title>
		<para>MapServer fonctionne généralement comme une application CGI depuis votre serveur HTTP.  C'est vrai sauf si vous construisez une application avancée avec MapScript qui accède directement à l'API MapServer. 
    </para>
		<para>Les applications CGI MapServer utilisent les ressources suivantes:</para>
		<orderedlist>
			<listitem>
				<para> un serveur HTTP tel que Apache ou Internet Information Server,</para>
			</listitem>
			<listitem>
				<para>le logiciel MapServer,</para>
			</listitem>
			<listitem>
				<para>un fichier d'initialisation qui déclenche la première vue d'une application MapServer (facultatif),</para>
			</listitem>
			<listitem>
				<para>un Mapfile qui contrôle ce que MapServer fait avec les données,</para>
			</listitem>
			<listitem>
				<para>un fichier de mise en forme (template) qui contrôle l'interface utilisateur de l'application MapServer dans une fenêtre de navigateur,
    </para>
			</listitem>
			<listitem>
				<para>un ensemble de données GIS (geographical information system, SIG système d'informations géographiques).</para>
			</listitem>
		</orderedlist>
		<para>MapServer est normalement installé dans le répertoire cgi-bin du serveur HTTP, et les fichiers MapServer et données sont stockés dans le répertoire des documents HTTP.</para>
		<para>La logique d'une application MapServer est décrite sur le diagramme suivant.</para>
		<para>
			<imageobject>
				<imagedata fileref="mapserverlogic.png" format="png"/>
			</imageobject>
		</para>
		<sect2 id="init">
			<title>Le fichier d'initialisation</title>
			<para>Ce fichier peut faire partie d'un autre fichier HTML, mais pour plus de simplicité il peut constituer un fichier à part. Ce fichier d'initialisation utilise un formulaire pour envoyer une requête initiale au serveur HTTP qui retourne un formulaire résultant depuis MapServer. MapServer est dynamique et est lancé et exécuté à chaque fois qu'une requête  est reçue, aussi ce fichier d'initialisation est simplement nécessaire pour passer plusieurs paramètres (cachés) à l'application. Le fichier d'initialisation est un fichier HTML normal, c'est pourquoi son extension est .htm ou .html.  Une autre méthode consiste à créer un hyperlien vers l'application MapServer.  Il devra passer les paramètres de base nécessaires à l'application CGI MapServer.</para>
		</sect2>
		<sect2 id="mapfile">
			<title>Le MapFile</title>
			<para>Le MapFile détermine les données à utiliser dans une application et à afficher ainsi que les paramètres de requête; vous pouvez imaginer qu'il s'agit là du fichier applicatif de configuration. Le Mapfile inclu aussi les informations sur la manière de dessiner la carte, la légende, et les cartes qui résultent d'une requête. Les MapFile ont normalement une extension .map . Voyez la <ulink url="mapfile-reference_fr.html">Référence MapFile</ulink> pour une documentation complète.</para>
		</sect2>
		<sect2 id="template">
			<title>Le fichier de mise en forme (Template)</title>
			<para>Le fichier de mise en forme contrôle comment les cartes et légendes issues de MapServer apparaîtront dans une page HTML; il opère comme tout autre fichier HTML sauf que certains champs peuvent être modifiés par le CGI MapServer. Le fichier de mise en forme permet à l'auteur de positionner la carte et la légende sur la page, et détermine de quelle manière l'utilisateur est autorisé à interagir avec l'application MapServer (parcourir, interroger, zoomer, etc.). Mapserver utilise le fichier de mise en forme et remplace les mots clé du fichier par l'information sur son état ou de l'ensemble de données GIS, pour produire le fichier HTML qui doit être envoyé au navigateur. Comme le fichier de mise en forme devra être utilisé pour créer un fichier HTML, il est habituellement stocké avec une extension .html . Voyez le document 
<ulink url="template-reference_fr.html">Référence mise en forme</ulink> comme documentation complète.
  </para>
		</sect2>
		<sect2 id="dataset">
			<title>L'ensemble de données GIS</title>
			<para>Mapserver utilise par défaut le format shape de ESRI comme format de fichier vecteur. Les données Raster peuvent être dans différents formats, selon comment MapServer est compilé.  Par défaut, MapServer connaît les fichiers geoTiff et Tiff avec les fichiers "world" (TFW).  Voyez le document <ulink url="raster-howto_fr.html">HOWTO Raster</ulink> pour plus de détails.  D'autres formats de données peuvent être utilisés, mais c'est un petit peu plus complexe. Les fichiers de données devraient être placés dans un répertoire référencé dans le <ulink url="mapfile-reference_fr.html">Mapfile</ulink>. Les fichiers Shape peuvent être optimisés pour être utilisés avec MapServer en utilisant les outils shptree et sortshp <ulink url="http://mapserver.gis.umn.edu/utils_fr.html">.</ulink>
			</para>
		</sect2>
	</sect1>
	<sect1 id="next">
		<title>Premières étapes</title>
		<sect2 id="install">
			<title>Installation</title>
			<para>La première chose à faire est d'installer MapServer.  Si vous n'avez pas les droits corrects, l'assistance d'un administrateur système vous sera nécessaire.  Pour les systèmes Windows, des binaires pré-compilés sont disponibles sur la page <ulink url="http://mapserver.gis.umn.edu/win32binaries.html">Windows
    Binary Download</ulink>. Des instructions complètes pour la compilation et l'installation sont disponibles pour différents systèmes d'exploitation:
    <itemizedlist>
					<listitem>
						<para>
							<ulink url="win32_compile-howto.html">Windows</ulink>
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="unix-install-howto_fr.html">UNIX</ulink>
						</para>
					</listitem>
					<listitem>
						<para>
							<ulink url="mapserver-cygwin-howto_fr.html">Cygwin on Win32</ulink>
						</para>
					</listitem>
				</itemizedlist>
			</para>
		</sect2>
		<sect2 id="install">
			<title>Test</title>
			<para>Après avoir téléchargé et installé MapServer, vous êtes prêt à créer votre première application MapServer. Il est recommandé d'utiliser l'<ulink url="http://mapserver.gis.umn.edu/demo_readme.html">application de démonstration de MapServer</ulink> pour vérifier votre installation. Le MapFile et le fichier de mise en forme sont de simples fichiers de texte qui peuvent être modifiés avec un éditeur de texte quelconque (comme Wordpad sous Windows). Le fichier d'initialisation est un vrai fichier HTML pouvant être modifié dans un éditeur HTML.</para>
		</sect2>
		<sect2 id="install">
			<title>Première application</title>
     Pour aller plus vite, vous pourriez construire votre première application avec le <ulink url="http://mapserver.gis.umn.edu/doc.html">guide MapServer</ulink> (prochainement).  Il vous conduira dans la constitution d'une application et vous familiarisera avec les fichiers MapFile et les fichiers de mise en forme.
  </sect2>
	</sect1>
</article>

