<html>
  <head>
    <title>MapServer 5.x Tutorial</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <link type="text/css" rel="stylesheet" href="ms35.css" />
  </head>
  <body bgcolor="#FFFFFF" text="#000000">
    <table align="center" width="680" border="0">
      <tr>
        <td>
          <h3 align="center">Example 1.4: Labeling the Map</h3>
          <p align="left">We can also add labels to our map...</p>
          <div align="center">
            <img border="1" src="/cgi-bin/mapserv.exe?map=/ms4w/apps/tutorial/htdocs/example1-4.map&layer=states_poly&layer=states_line&mode=map" />
          </div>
          <p align="left">MapServer has a very flexible labeling engine.  It
            supports native bitmap as well as truetype fonts.  Font scaling is
            supported with truetype. The labeling angles and placements can be
            customized...  If you take the time to learn the many parameters
            involved in creating good labels, you will be rewarded with
            informative and aesthetically pleasing maps.
          </p>
          <hr>
          <p align="left">This is what the map file looks like (Example1-4.map):
            <br>
            <iframe width="100%" src="example1-4.map"></iframe>
          </p>
          <hr align="center" width="300">
          <p>The map file structure, by objects, looks like this:</p>

          <pre>
                                  MAP
      (states_poly) LAYER----------|---------LAYER (states_line)
     (land) CLASS-----|-CLASS (water)        |-CLASS
        STYLE-|-LABEL   |-STYLE                |-STYLE</pre>

          <hr align="center" width="300">
          <p>Here we introduce a few more parameters along with the LABEL
            object:
          </p>
          <p>FONTSET<br>
            Here we specify the full path to our truetype fonts list (or font 
            set) file. This file lists each of the available fonts. See the file 
            itself and the
            <a href="http://mapserver.gis.umn.edu/doc/fontset.html">
              MapServer font set documentation
            </a>
            for more info. FONTSET is a parameter of the MAP object.
          </p>
          <p>LABELITEM<br>
            This specifies which data attribute to use for labeling, in this
            case &quot;STATE&quot;. LABELITEM is a parameter of the LAYER
            object.
          </p>
          <p>LABEL<br>
            Marks the beginning of the LABEL object. The label object can be 
            used under other objects (i.e. the SCALEBAR object).
          </p>
          <p> COLOR<br>
            Within the LABEL object, COLOR specifies the color of the label 
            text.
          </p>
          <p>SHADOWCOLOR<br>
            This specifies the shadow color of the label text.
          </p>
          <p>SHADOWSIZE<br>
            Specifies the shadow size. The value corresponds to the X and the Y 
            shifts in pixels. So, &quot;2 2&quot; means two pixels wide by two 
            pixels high.
          </p>
          <p>TYPE<br>
            Within the LABEL object, TYPE specifies what type of font to use. We 
            have the choice of TRUETYPE or BITMAP (the built-in fonts). We 
            choose TRUETYPE.
          </p>
          <p>FONT<br>
            If you specify TYPE as TRUETYPE, you need to specify what font to 
            use. The value here is the &quot;alias&quot; in the font list file.
          </p>
          <p>SIZE<br>
            If using truetype fonts, the value is size in pixels. If bitmap, you 
            can say something like &quot;small&quot; or &quot;large&quot;.
          </p>
          <p>ANTIALIAS<br>
            This turns truetype antialiasing on or off. Remember the value isn't 
            on or off but TRUE or FALSE.
          </p>
          <p>POSITION<br>
            Where to position the label text in relation to the label points. 
            The value is a combination of vertical and horizontal positions. You 
            have the following choices for vertical alignment: C for center, U 
            for upper, and L for lower. For horizontal alignment you have the 
            following choices: C for center, L for left, and R for right. So, to 
            align the label text to the center of label ID you'd use the value 
            &quot;CC&quot; (center-center). Or if you'd like it to be on the 
            lower left of the ID, you'd use LL. Another way is to let MapServer 
            decide the best position for your labels. For this you would use 
            the value &quot;AUTO&quot;.
          </p>
          <p>PARTIALS<br>
            Tells MapServer whether to generate incomplete label texts or not. 
            The default here is not to generate fragments of a label text. The 
            value is either TRUE or FALSE.
          </p>
          <p>MINDISTANCE<br>
            This is the minimum distance in pixels between duplicate labels. See 
            what happens if you increase or decrease this value.
          </p>
          <p>BUFFER<br>
            The padding (in pixels) for each label. This is used to enhance 
            readability. A BUFFER of 4 pixels mean that no label will be drawn 
            within four pixels of each other. Again, change to see how it works.
          </p>
          <hr align="center" width="300">
          <p>You can also create labels separate from a POLYGON layer. You do 
            this with the ANNOTATION data type. Have a look at the next 
            example's  map file to see how you'd implement this kind of 
            labeling.  You will notice that the CLASS object within the 
            &quot;label&quot; layer has a COLOR parameter value of 
            &quot;-1 -1 -1&quot;. The negative number tells MapServer to give 
            this CLASS a transparent color (the label IDs don't show up). Once 
            again, play with the values to understand how it affects the map.
          </p>
          <hr>
          <p class="Small" align="center">
            <a href="example1-3.html">
              Back to Example 1.3
            </a> |
            <a href="section1.html">
              Back to the Section 1
            </a> |
            <a href="sections.html">
              Back to the Sections Page
            </a> |
            <a href="example1-5.html">
              Proceed to Example 1.5
            </a>
          </p>
        </td>
      </tr>
    </table>
  </body>
</html>
