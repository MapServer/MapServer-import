<html>
<head>
<title>MapServer 5.x Tutorial</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link type="text/css" rel="stylesheet" href="[root]/ms35.css" />
</head>

<body bgcolor="#FFFFFF" text="#000000">
<h3 align="center">Example 3.4: The Query Map</h3>

<!-- START OF MAPSERVER FORM -->
<form name="mapserv" method="GET" action="[program]">

<table width="680" border="0" align="center">
  <tr>
    <td>
      <table width="600" border="1" align="center">
        <tr>
	  <td colspan="4">Select Layers:<br>
<!-- SPECIFY VECTOR LAYERS -->
	    <input type="checkbox" name="layer" value="states" [states_check]>
	      State Boundaries&nbsp;
	    <input type="checkbox" name="layer" value="counties" [counties_check]>
	      County Boundaries&nbsp;
	    <input type="checkbox" name="layer" value="cities" [cities_check]>
	      Cities&nbsp;
	    <input type="checkbox" name="layer" value="fedlands" [fedlands_check]>
	      Federal/Indian Lands&nbsp;
	    <input type="checkbox" name="layer" value="hydro" [hydro_check]>
	      Water Features&nbsp;
	    <input type="checkbox" name="layer" value="roads" [roads_check]>
	      Roads<br>

<!-- SPECIFY RASTER LAYERS -->
	    Select Background:<br>
	    <select name="layer">
              <option value=" " [ _select]>No Background</option>
	      <option value="landsat" [landsat_select]>Landsat 7 ETM+</option>
	      <option value="modis" [modis_select]>MODIS Surface Reflectance</option>
	      <option value="relief" [relief_select]>Shaded Relief</option>
	    </select>
	  </td>
	</tr>
	<tr>
	  <td>

<!-- SPECIFY MAP MODE -->
	    <div align="center">Map Mode:<br>
	    <select name="mode">
	      <option value="browse" [browse_select]>Browse </option>
	      <option value="query" [query_select]>Query Single Layer</option>
	      <option value="nquery" [nquery_select]>Query Multiple Layers</option>
	    </select>
	    </div>
	  </td>
	  <td>
<!-- FORM SUBMIT BUTTON -->
	    <div align="center">
	      <input type="submit" name="submit" value="Refresh">
	    </div>
	  </td>
	  <td>
<!-- ZOOM/PAN CONTROLS -->
	    <div align="center">Map Control: <br>
	      <select name="zoom">
	        <option value="4" [zoom_4_select]>Zoom In 4x</option>
	        <option value="3" [zoom_3_select]>Zoom In 3x</option>
	        <option value="2" [zoom_2_select]>Zoom In 2x</option>
	        <option value="0" [zoom_0_select]>Recenter</option>
	        <option value="-2" [zoom_-2_select]>Zoom Out 2x</option>
	        <option value="-3" [zoom_-3_select]>Zoom Out 3x</option>
	        <option value="-4" [zoom_-4_select]>Zoom Out 4x</option>
              </select>
	    </div>
	  </td>
<!-- REFERENCE AND LEGEND COLUMN -->
	  <td rowspan="2" valign="top">
	    <p>Reference:<br>
	      <img name="ref" src="[ref]"></p>
            <p>Legend:<br>
	      <img src="[legend]"> </p>
	  </td>
	</tr>
	<tr>
<!-- DISPLAY THE MAPSERVER-CREATED MAP IMAGE -->
	  <td colspan="3" align="center" valign="top">
	    <input type="image" name="img" src="[img]" width="[mapwidth]"
                   height="[mapheight]" border="0" alt="This is the map">
	  </td>
	</tr>
      </table>
      <hr>
      <p>To see this example in action,  open example3.map and replace the WEB
        FOOTER line like so:
        <pre>
        WEB
          ...
          #FOOTER    '../templates/footer.html'
          FOOTER    '../templates/footer_querymap.html'
          ...
        END
        </pre>

        Also, uncomment the entire QUERYMAP object:
        <pre>
        #
        # A querymap object is used to highlight, or make prominent, the
        # features on a map selected via a query or nquery request.   This
        # means you can display your query results and a map showing the
        # features selected for the query.
        QUERYMAP
          SIZE 200 150
          STATUS ON
          STYLE HILITE  # SELECTED | NORMAL
          COLOR 255 0 0
        END
        </pre>
      <p align="center">
        <a href="/tutorial/example3.map">View the MapFile</a> |
        <a href="/tutorial/example3-4_template.html">View the HTML Template</a>
      </p>
    </td>
  </tr>
</table>
<!-- HIDDEN MAPSERVER CGI VARIABLES -->
<input type="hidden" name="imgxy" value="[center]">
<input type="hidden" name="imgext" value="[mapext]">
<input type="hidden" name="map" value="[map]">
<input type="hidden" name="savequery" value="true">
<input type="hidden" name="root" value="[root]">
<input type="hidden" name="program" value="[program]">
<input type="hidden" name="map_web" value="[map_web]">
</form>
<hr>
<p class="Small" align="center"> <a href="/cgi-bin/mapserv.exe?map=/ms4w/apps/tutorial/htdocs/example3.map&layer=states&mode=browse&zoom=0&root=/tutorial&program=/cgi-bin/mapserv.exe&map_web=template+example3-3.html+header+../templates/example3_header.html+footer+../templates/example3_footer.html">
  Back to Example 3.3</a> | <a href="/tutorial/section3.html">Back to
  the Section 3</a> | <a href="[root]/sections.html">Back to the Sections
  Page</a> | <a href="[root]/section4.html">
  Proceed to Section 4</a>
</p>
</body>
</html>
