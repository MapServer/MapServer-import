<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=windows-1252">
	<TITLE>UMN-MapServer on debian GNU/LINUX</TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 1.1.3  (Win32)">
	<META NAME="AUTHOR" CONTENT="Benjain Thelen">
	<META NAME="CREATED" CONTENT="20030731;16020000">
	<META NAME="CHANGEDBY" CONTENT="Till Adams">
	<META NAME="CHANGED" CONTENT="20050804;9011560">
	<STYLE>
	<!--
		@page { size: 21cm 29.7cm; margin-left: 2.5cm; margin-right: 2.5cm; margin-top: 2.5cm; margin-bottom: 2cm }
		P { margin-bottom: 0cm; direction: ltr; color: #000000; widows: 2; orphans: 2 }
		P.western { font-family: "Times New Roman", serif; font-size: 10pt; so-language: en-GB }
		P.cjk { font-family: "Times New Roman", serif; font-size: 10pt }
		P.ctl { font-family: "Times New Roman", serif; font-size: 12pt; so-language: ar-SA }
		H1 { margin-bottom: 0.11cm; direction: ltr; color: #000000; widows: 2; orphans: 2 }
		H1.western { font-family: "Arial", sans-serif; font-size: 16pt; so-language: de-DE }
		H1.cjk { font-family: "Times New Roman", serif; font-size: 16pt }
		H1.ctl { font-family: "Arial", sans-serif; font-size: 16pt; so-language: ar-SA }
		H2 { margin-bottom: 0.11cm; direction: ltr; color: #000000; widows: 2; orphans: 2 }
		H2.western { font-family: "Arial", sans-serif; font-size: 14pt; so-language: de-DE; font-style: italic }
		H2.cjk { font-family: "Times New Roman", serif; font-size: 14pt; font-style: italic }
		H2.ctl { font-family: "Arial", sans-serif; font-size: 14pt; so-language: ar-SA; font-style: italic }
		H3 { margin-bottom: 0.11cm; direction: ltr; color: #000000; widows: 2; orphans: 2 }
		H3.western { font-family: "Arial", sans-serif; font-size: 13pt; so-language: de-DE }
		H3.cjk { font-family: "Times New Roman", serif; font-size: 13pt }
		H3.ctl { font-family: "Arial", sans-serif; font-size: 13pt; so-language: ar-SA }
		H4 { margin-top: 0cm; margin-bottom: 0cm; direction: ltr; color: #000000; widows: 2; orphans: 2 }
		H4.western { so-language: en-GB }
		H4.cjk { font-family: "Times New Roman", serif }
		H4.ctl { font-family: "Times New Roman", serif; so-language: ar-SA; font-weight: medium }
		H5 { margin-bottom: 0.11cm; direction: ltr; color: #000000; widows: 2; orphans: 2; page-break-after: auto }
		H5.western { font-size: 13pt; so-language: de-DE; font-style: italic }
		H5.cjk { font-family: "Times New Roman", serif; font-size: 13pt; font-style: italic }
		H5.ctl { font-family: "Times New Roman", serif; font-size: 13pt; so-language: ar-SA; font-style: italic }
		H6 { margin-bottom: 0.21cm; direction: ltr; color: #000000; widows: 2; orphans: 2 }
		H6.western { font-family: "Arial", sans-serif; font-size: 10pt; so-language: de-DE }
		H6.cjk { font-size: 10pt }
		H6.ctl { font-size: 10pt; so-language: ar-SA }
		A:link { color: #0000ff }
		A:visited { color: #800080 }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" TEXT="#000000" LINK="#0000ff" VLINK="#800080" DIR="LTR">
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">(October
2004, slightly revise March 2005)</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western" ALIGN=JUSTIFY><FONT SIZE=3><SPAN STYLE="background: transparent">This
How-To describes the required installation steps to have a
UMN-MapServer 4 with PostGIS support on debian GNU/Linux running, and using Mapbender as a WMS client.</SPAN></FONT></P>
<P LANG="de-DE" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">There is absolutely no warranty for this, but for us it wokrs in 95%. Feel free to alter the text or give us feedback, Till Adams, terrestris GbR Bonn (Geo-Consortium) ben Thelen, CCGIS GbR Bonn (Geo-Consortium)
</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">Detailed
information how to install mapbender WMS Client Suite can be found on
</SPAN></SPAN><FONT COLOR="#0000ff"><U><A HREF="http://www.mapbender.org/"><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">http://www.mapbender.org</SPAN></SPAN></A></U></FONT><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">.</SPAN></SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<H2 LANG="en-GB" CLASS="western"><SPAN STYLE="background: transparent">I.
Required Software</SPAN></H2>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">Operating
system: debian GNU/Linux 3 (woody) or 3.1 (sarge)</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">If
you have a Debian Woody and want to update this to Sarge, the new
stable release, do the following:</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">#apt-get
update</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">#apt-get
upgrade</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">#apt-get
dist-upgrade</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">Ready.
After this ensure to de-comment the unstable sources from your
sources.list, which is in /etc/apt/sources.list. After doing this all
the (sarge) keywords can be ignored.</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western" ALIGN=JUSTIFY><FONT SIZE=3><SPAN STYLE="background: transparent">Running
<I>woody</I> requires the installation of many backports
(</SPAN><A HREF="http://www.backports.org/"><SPAN STYLE="background: transparent">http://www.backports.org/</SPAN></A><SPAN STYLE="background: transparent">)
or packages taken from sarge. Backports are packages which don't
require newer dependencies. Packages taken frome <I>sarge</I><SPAN STYLE="font-style: normal">
will usually install many dependent newer packages.</SPAN></SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" ALIGN=JUSTIFY><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN STYLE="font-style: normal">It
is specified if it is recommended or even necessary not to install a
package from </SPAN><I>woody</I><SPAN STYLE="font-style: normal">! 
Because of developmen, version numbers, especially within </SPAN><I>sarge,</I><SPAN STYLE="font-style: normal">
are likely to differ from month to month, even from day to day.</SPAN></SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="fr-FR" CLASS="western"><FONT FACE="Arial, sans-serif"><FONT SIZE=3 STYLE="font-size: 13pt"><B><SPAN STYLE="background: transparent">Available
debian packages</SPAN></B></FONT></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><FONT COLOR="#0000ff"><U><A HREF="http://www.debian.org/distrib/packages"><SPAN STYLE="background: transparent"><SPAN LANG="fr-FR">http://www.debian.org/distrib/packages</SPAN></SPAN></A></U></FONT></FONT></P>
<H5 LANG="en-GB" CLASS="western"><SPAN STYLE="background: transparent">General
software packages</SPAN></H5>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="fr-FR">Apache
1.3.26				</SPAN></SPAN><FONT COLOR="#0000ff"><U><A HREF="http://httpd.apache.org/"><SPAN STYLE="background: transparent"><SPAN LANG="fr-FR">http://httpd.apache.org/</SPAN></SPAN></A></U></FONT><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">		</SPAN></SPAN></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">libapache-mod-php4
4.3 (sarge)		</SPAN></SPAN><FONT COLOR="#0000ff"><U><A HREF="http://www.php.net/"><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">http://www.php.net</SPAN></SPAN></A></U></FONT></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">php4-cgi
4.3 (sarge)</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">+
following modules: </SPAN></FONT>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">php4-pgsql,
php4-mysql, php4-curl, php4-gd2</SPAN></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">postgresql-dev-7.4
(sarge)			</SPAN></SPAN><FONT COLOR="#0000ff"><U><A HREF="http://www.postgresql.org/"><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">http://www.postgresql.org</SPAN></SPAN></A></U></FONT></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">postgresql-8.0-dev
(testing)</SPAN></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">mysql-server
4.0 (sarge)			</SPAN></SPAN><FONT COLOR="#0000ff"><U><A HREF="http://www.mysql.org/"><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">http://www.mysql.org</SPAN></SPAN></A></U></FONT></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">bzip2						Extracting
source code</SPAN></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">unzip		
				Extracting source code</SPAN></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">g++						Compiling
source code</SPAN></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">make						Compiling
source code</SPAN></FONT></P>
<H5 LANG="en-GB" CLASS="western"><SPAN STYLE="background: transparent">Libraries</SPAN></H5>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><FONT COLOR="#0000ff"><U><A HREF="http://mapserver.gis.umn.edu/doc36/unix-install-howto.html"><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">http://mapserver.gis.umn.edu/doc36/unix-install-howto.html</SPAN></SPAN></A></U></FONT></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><FONT COLOR="#0000ff"><U><A HREF="http://mapserver.gis.umn.edu/doc40/unix-install-howto.html"><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">http://mapserver.gis.umn.edu/doc40/unix-install-howto.html</SPAN></SPAN></A></U></FONT></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">bison-1.875
(sarge)<SPAN LANG="en-GB">				(MapServer &gt; 4.0)</SPAN></SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">flex		</SPAN></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">libgd2-xpm-dev
(sarge)			</SPAN></SPAN><FONT COLOR="#0000ff"><U><A HREF="http://www.boutell.com/gd/"><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">http://www.boutell.com/gd/</SPAN></SPAN></A></U></FONT></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">proj
4.4.9 (sarge)					</SPAN></SPAN><FONT COLOR="#0000ff"><U><A HREF="http://www.remotesensing.org/proj/"><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">http://www.remotesensing.org/proj/</SPAN></SPAN></A></U></FONT></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">libcurl2-dev
(sarge)				</SPAN></SPAN><FONT COLOR="#0000ff"><U><A HREF="http://curl.haxx.se/libcurl/"><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">http://curl.haxx.se/libcurl/</SPAN></SPAN></A></U></FONT></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">libwww-dev			</SPAN><SPAN LANG="fr-FR">		</SPAN></SPAN><FONT COLOR="#0000ff"><U><A HREF="http://www.w3.org/Library"><SPAN STYLE="background: transparent"><SPAN LANG="fr-FR">http://www.w3.org/Library</SPAN></SPAN></A><A HREF="http://www.w3.org/Library/"><SPAN STYLE="background: transparent"><SPAN LANG="fr-FR">
</SPAN></SPAN></A></U></FONT><SPAN STYLE="background: transparent">
(Only MS-3)</SPAN></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">libiconv-hook-dev
(sarge)			</SPAN></SPAN><FONT COLOR="#0000ff"><U><A HREF="http://www.gnu.org/software/libiconv/"><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">http://www.gnu.org/software/libiconv/</SPAN></SPAN></A></U></FONT></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="it-IT">libgdal1
(sarge)				</SPAN></SPAN><FONT COLOR="#0000ff"><U><A HREF="http://www.remotesensing.org/gdal/"><SPAN STYLE="background: transparent"><SPAN LANG="it-IT">http://www.remotesensing.org/gdal/</SPAN></SPAN></A></U></FONT></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">gdal-bin
(sarge)</SPAN></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">libfreetype6-dev
(sarge)			</SPAN></SPAN><FONT COLOR="#0000ff"><U><A HREF="http://www.freetype.org/"><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">http://www.freetype.org/</SPAN></SPAN></A></U></FONT></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">libjpeg62-dev
(sarge)				</SPAN><FONT COLOR="#0000ff"><U><A HREF="http://www.ijg.org/"><SPAN STYLE="background: transparent">http://www.ijg.org/</SPAN></A></U></FONT></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">libtiff4-dev
(sarge)				</SPAN><FONT COLOR="#0000ff"><U><A HREF="http://www.libtiff.org/"><SPAN STYLE="background: transparent">http://www.libtiff.org/</SPAN></A></U></FONT></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">libpng12-dev
	(sarge)			</SPAN><FONT COLOR="#0000ff"><U><A HREF="http://www.libpng.org/pub/png/"><SPAN STYLE="background: transparent">http://www.libpng.org/pub/png/</SPAN></A></U></FONT></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">libgeos-dev
(sarge)				</SPAN><A HREF="http://geos.refrations.net/"><SPAN STYLE="background: transparent">http://geos.refrations.net/</SPAN></A></FONT></P>
<P LANG="de-DE" CLASS="western"><BR>
</P>
<H5 LANG="en-GB" CLASS="western"><SPAN STYLE="background: transparent">Libraries</SPAN></H5>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">GEOS-2.0.1					</SPAN></SPAN><A HREF="http://geos.refractions.net/"><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">http://geos.refractions.net/</SPAN></SPAN></A></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">or
get the GEOS 2.1.1.2 directly from debian (libgeos-dev) </SPAN></FONT>
</P>
<P LANG="de-DE" CLASS="western"><BR>
</P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">The
<I>-dev </I>(developer) packages are required, in order to have the
required header-files on the system for compiling UMN-MapServer. The
main packages will be installed as a dependency at the same time.</SPAN></FONT></P>
<P LANG="de-DE" CLASS="western"><BR>
</P>
<H5 LANG="en-GB" CLASS="western"><BR><BR>
</H5>
<H3 LANG="en-GB" CLASS="western"><SPAN STYLE="background: transparent">Not
available as debian package:</SPAN></H3>
<H5 LANG="en-GB" CLASS="western"><SPAN STYLE="background: transparent">General
software packages</SPAN></H5>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">PostGIS
0.9 / 1.0				</SPAN></SPAN><FONT COLOR="#0000ff"><U><A HREF="http://postgis.refractions.net/"><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">http://postgis.refractions.net</SPAN></SPAN></A></U></FONT></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">UMN
MapServer 4.x				</SPAN></SPAN><FONT COLOR="#0000ff"><U><A HREF="http://mapserver.gis.umn.edu/"><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">http://mapserver.gis.umn.edu</SPAN></SPAN></A></U></FONT></FONT></P>
<H5 LANG="en-GB" CLASS="western"><BR><BR>
</H5>
<H5 LANG="de-DE" CLASS="western"><SPAN STYLE="background: transparent">Other
libraries</SPAN></H5>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">LibGeoTIFF:				</SPAN></SPAN><FONT COLOR="#0000ff"><U><A HREF="http://www.remotesensing.org/geotiff/geotiff.html"><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">http://www.remotesensing.org/geotiff/geotiff.html</SPAN></SPAN></A></U></FONT></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">Oracle
Spatial Client Libraries	</SPAN><A HREF="http://www.oracle.com/"><SPAN STYLE="background: transparent">http://www.oracle.com</SPAN></A></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 1.25cm"><FONT SIZE=3><SPAN STYLE="background: transparent">These
libraries are provided with Oracle, and used to interface with an
Oracle Spatial warehouse.</SPAN></FONT></P>
<P LANG="fr-FR" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">SDE
Client Libraries			</SPAN><A HREF="http://www.esri.com/"><SPAN STYLE="background: transparent"><SPAN LANG="fr-FR">http://www.esri.com</SPAN></SPAN></A></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="text-indent: 1.25cm"><SPAN STYLE="background: transparent">
<FONT SIZE=3>These libraries are provided with ESRI's Spatial Data
Warehouse ArcSDE.</SPAN></FONT></P>
<H2 LANG="de-DE" CLASS="western" STYLE="page-break-before: always"><SPAN STYLE="background: transparent">II.
Software installation</SPAN></H2>
<H3 LANG="en-GB" CLASS="western"><SPAN STYLE="background: transparent">General
instructions</SPAN></H3>
<H4 LANG="en-GB" CLASS="western"><SPAN STYLE="background: transparent">apt-get
tools</SPAN></H4>
<P LANG="de-DE" CLASS="western" STYLE="margin-left: 1.32cm"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">#
apt-get install <I>package-name</I> (i.e. apt-get install apache)</SPAN></SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 1.32cm"><FONT SIZE=3><SPAN STYLE="background: transparent">#
apt-get remove <I>package-name</I> (i.e. apt-get remove apache)</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western" ALIGN=JUSTIFY><FONT SIZE=3><SPAN STYLE="background: transparent">The
list of sources, which <SPAN STYLE="font-weight: medium"><I>apt</I></SPAN><B>
</B><SPAN STYLE="font-weight: medium">requires are configured via
<I>apt-setup</I> and then </SPAN>saved in '<I>/etc/apt/sources.list'</I>.
The source can for example be CD/DVD or the internet. Installing via
internet requires an active broadband internet connection - the
faster the better.</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" ALIGN=JUSTIFY><FONT SIZE=3><SPAN STYLE="background: transparent">Dependencies
are taken into account and are installed at the same time.</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" ALIGN=JUSTIFY><FONT SIZE=3><SPAN STYLE="background: transparent">To
have access on non-stable sources <I>/etc/apt/sources.list</I> must
be edited, as <I>apt-setup</I> just adds &ldquo;stable&rdquo;
sources. See the example below.</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">Example
of <I>/etc/apt/sources.list</I><SPAN STYLE="font-style: normal">:</SPAN></SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: none; border-right: none; padding-top: 0cm; padding-bottom: 0.07cm; padding-left: 0cm; padding-right: 0cm">
<BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">deb
http://ftp.tu-clausthal.de/pub/linux/debian/ stable main non-free
contrib</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">deb-src
http://ftp.tu-clausthal.de/pub/linux/debian/ stable main non-free
contrib</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">deb
    http://ftp.de.debian.org/debian sarge main contrib non-free</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">deb-src
http://ftp.de.debian.org/debian sarge main contrib non-free</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">deb
http://http.us.debian.org/debian unstable main contrib non-free</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">deb-src
http://http.us.debian.org/debian unstable main contrib non-free</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western" STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: none; border-right: none; padding-top: 0cm; padding-bottom: 0.07cm; padding-left: 0cm; padding-right: 0cm">
<FONT SIZE=3><SPAN STYLE="background: transparent">deb
http://security.debian.org/ stable/updates main contrib non-free</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">It
is recommended to use the code-names:</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<UL>
	<LI><P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">stable
	= woody</SPAN></FONT></P>
	<LI><P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">sarge
	= sarge</SPAN></FONT></P>
	<LI><P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">unstable
	= sid</SPAN></FONT></P>
</UL>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">To
install from a special brunch the following syntax is required:</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">apt-get
install &ndash;t sarge packedge (not required when having a
sarge-system running)</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<H4 LANG="en-GB" CLASS="western"><SPAN STYLE="background: transparent">directly
from source</SPAN></H4>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">The
sources can be downloaded from the above listed websites.</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">First
the archive has to be extracted:</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 1.27cm"><FONT SIZE=3><SPAN STYLE="background: transparent">#
tar &ndash;xzf filename.tgz or</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 1.27cm"><FONT SIZE=3><SPAN STYLE="background: transparent">#
gzip -d &ndash;c filename.tgz | tar xvf &ndash;</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western" ALIGN=JUSTIFY><FONT SIZE=3><SPAN STYLE="background: transparent">After
extraction the configure skript can be executed. This skript builds a
system-specific makefile. Change into the folder which was just
created by the extraction-process and type:</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" ALIGN=JUSTIFY><BR>
</P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 1.27cm"><FONT SIZE=3><SPAN STYLE="background: transparent">#
./configure [optional: --with-option / usually&ndash;help prints out
all available options]</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western" ALIGN=JUSTIFY><FONT SIZE=3><SPAN STYLE="background: transparent">Then
the source code can be built via <I>make</I> after finishing
<I>./configure</I> and installed via <I>make install</I>. But of
cource no dependencies are installed automatically and deinstallation
routines ar rare!</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" ALIGN=JUSTIFY><FONT SIZE=3><SPAN STYLE="background: transparent">To
configure and build the software again it is required to clean the
tree:</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 1.32cm"><FONT SIZE=3><SPAN STYLE="background: transparent">#
rm config.cache &amp;&amp; make clean</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<H3 LANG="de-DE" CLASS="western"><SPAN STYLE="background: transparent">Installation
Procedure</SPAN></H3>
<P LANG="de-DE" CLASS="western"><BR>
</P>
<P LANG="de-DE" CLASS="western" ALIGN=JUSTIFY><FONT SIZE=3><SPAN STYLE="background: transparent">Following
the instructions on how to use <I>apt-get</I>, it is just three
commands which have to be executed to get all required debian
packages installed.</SPAN></FONT></P>
<P LANG="de-DE" CLASS="western"><BR>
</P>
<P LANG="de-DE" CLASS="western" STYLE="margin-left: 1.32cm"><FONT SIZE=3><SPAN STYLE="background: transparent">#
apt-get install g++ <SPAN LANG="en-GB">apache bison bzip2 unzip proj </SPAN></SPAN></FONT>
</P>
<P LANG="de-DE" CLASS="western"><BR>
</P>
<P LANG="de-DE" CLASS="western" STYLE="margin-left: 1.3cm"><FONT SIZE=3><SPAN STYLE="background: transparent">#
apt-get install -t sarge <SPAN LANG="en-GB">libapache-mod-php4
php4-pgsql php4-mysql php4-gd2 php4-curl postgresql-dev postgresql
</SPAN>mysql-server<SPAN LANG="en-GB"> libgdal1-dev libfreetype6-dev
libjpeg62-dev libpng12-dev libcurl3-dev libgeos-dev</SPAN></SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="de-DE" CLASS="western" STYLE="margin-left: 1.35cm"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">#
apt-get source -t sarge </SPAN>dpkg-dev <SPAN LANG="en-GB">postgresql</SPAN></SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent"><I>dpkg-dev</I>
is required to unzip the debian-package.</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">Install
either <I>libapache-mod-php4</I> <B>or</B><SPAN STYLE="font-weight: medium">
ph<I>p4-cgi</I>! For more information, see below.</SPAN></SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<H3 LANG="de-DE" CLASS="western"><SPAN STYLE="background: transparent">Before
you start</SPAN></H3>
<P LANG="de-DE" CLASS="western"><BR>
</P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">Before
starting check <I>/etc/hosts</I>, if your hostname is correctly
configured:</SPAN></FONT></P>
<P LANG="de-DE" CLASS="western"><BR>
</P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">[your.ip.add.ress]	[your.host.name]*</SPAN></FONT></P>
<P LANG="de-DE" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">*Checkout
with the command <I>hostname</I>.</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="de-DE" CLASS="western"><BR>
</P>
<H4 LANG="en-GB" CLASS="western"><SPAN STYLE="background: transparent">PostgreSQL
server</SPAN></H4>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">PostgreSQL
7.2 is supported by UMN-MapServer, but version 7.3 is really
recommended. PostGIS 0.8 supports PostgreSQL 7.4, PostGIS 0.9
supports PostgresSQL 8.0 and higher.</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">The
source code is needed for building postgis against the PostgreSQL
source tree later on. It  is installed into the directory in which
you're actually in and needs to be extracted. Aftwerwoods, the source
code needs to be compiled.</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western" ALIGN=CENTER><BR>
</P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 1.32cm"><FONT SIZE=3><SPAN STYLE="background: transparent">#
apt-get -b source postgresql</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 1.35cm"><FONT SIZE=3><SPAN STYLE="background: transparent">or</SPAN></FONT></P>
<P LANG="de-DE" CLASS="western" STYLE="margin-left: 1.35cm"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">#
</SPAN>dpkg-buildpackage -rfakeroot -uc -b</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">See
</SPAN><A HREF="http://www.debian.org/doc/manuals/apt-howto/ch-sourcehandling.en.html"><SPAN STYLE="background: transparent">http://www.debian.org/doc/manuals/apt-howto/ch-sourcehandling.en.html<SPAN STYLE="text-decoration: none"><FONT COLOR="#000000">
for more information.</FONT></SPAN></SPAN></A></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">To
have PostgreSQL accepting Internet connections
<I>/var/lib/postgres/data/postgresql.conf </I><SPAN STYLE="font-style: normal">needs</SPAN>
to be edited. <I>tcpip_socket=false</I> or <I>tcpip_socket=0</I>
needs to be uncommented and set to true ( or '1'  for pgsql 7.2.x).
For PostgreSQL 8 this is not required, because the tcp/ip port is
open by default!</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">It
is also required to configure the pg_hba.conf, which contains the
list of allowed hosts. </SPAN></FONT>
</P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">Default-Encoding
war bei Installation </SPAN></FONT>
</P>
<UL>
	<LI><P LANG="de-DE" CLASS="western" STYLE="text-decoration: none"><FONT SIZE=3><SPAN STYLE="background: transparent">C</SPAN></FONT></P>
	<LI><P LANG="de-DE" CLASS="western" STYLE="text-decoration: none"><FONT SIZE=3><SPAN STYLE="background: transparent">de_DE@euro</SPAN></FONT></P>
	<LI><P LANG="en-GB" CLASS="western" STYLE="text-decoration: none"><FONT SIZE=3><SPAN STYLE="background: transparent">de_DE.iso885915@euro</SPAN></FONT></P>
</UL>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">Obwohl
erst no2 und dann mit dpkg-reconfigure postgresql no3 ausgew&auml;hlt
wurde, war Encoding von template1 Latin9! Deshalb Datenbank manuell
neu initialisiert:</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">/usr/lib/postgresql/bin/initdb
-E SQL_ASCII -D /var/lib/postgres/data</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<H4 LANG="en-GB" CLASS="western"><SPAN STYLE="background: transparent">MySQL
server</SPAN></H4>
<P LANG="en-GB" CLASS="western" STYLE="font-weight: medium"><FONT SIZE=3><SPAN STYLE="background: transparent">MySQL
is required by Mapbender-2 wms client suite. </SPAN></FONT>
</P>
<P LANG="en-GB" CLASS="western" STYLE="font-weight: medium"><BR>
</P>
<P LANG="en-GB" CLASS="western" STYLE="font-weight: medium"><FONT SIZE=3><SPAN STYLE="background: transparent">The
following needs to be added to /etc/my.cnf. &ldquo;skip-innodb&rdquo;
just needs to be commented out.(normally the MySQL comes with inno-db
by default).</SPAN></FONT></P>
<P LANG="de-DE" CLASS="western"><BR>
</P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">#skip-innodb</SPAN></FONT></P>
<P LANG="de-DE" CLASS="western"><BR>
</P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">#
Uncomment the following if you are using InnoDB tables</SPAN></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">innodb_data_home_dir
= /var/lib/mysql/ </SPAN></FONT>
</P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">innodb_data_file_path
= ibdata1:10M:autoextend </SPAN></FONT>
</P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">innodb_log_group_home_dir
= /var/lib/mysql/ </SPAN></FONT>
</P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">innodb_log_arch_dir
= /var/lib/mysql/ </SPAN></FONT>
</P>
<P LANG="de-DE" CLASS="western"><BR>
</P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">#
You can set .._buffer_pool_size up to 50 - 80 % </SPAN></FONT>
</P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">#
of RAM but beware of setting memory usage too high </SPAN></FONT>
</P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">innodb_buffer_pool_size
= 16M </SPAN></FONT>
</P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">innodb_additional_mem_pool_size
= 2M </SPAN></FONT>
</P>
<P LANG="de-DE" CLASS="western"><BR>
</P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">#
Set .._log_file_size to 25 % of buffer pool size </SPAN></FONT>
</P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">innodb_log_file_size
= 5M </SPAN></FONT>
</P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">innodb_log_buffer_size
= 8M </SPAN></FONT>
</P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">innodb_flush_log_at_trx_commit
= 1 </SPAN></FONT>
</P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">innodb_lock_wait_timeout
= 50</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<H4 LANG="en-GB" CLASS="western"><SPAN STYLE="background: transparent">PHP4</SPAN></H4>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">It
is recommended for security reasons to install PHP4 as an apache
module. However if UMN-MapServer needs to be compiled with PHP4 to
support phpMapScript, then PHP4 needs to be compiled as a cgi.</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">The
usage of <I>suexec</I> or <I>suphp</I> (</SPAN><A HREF="http://www.suphp.org/"><SPAN STYLE="background: transparent">www.suphp.org</SPAN></A><SPAN STYLE="background: transparent">)
for security reasons should be taken into account (See
</SPAN><A HREF="http://www.php.net/manual/en/security.cgi-bin.php"><SPAN STYLE="background: transparent">http://www.php.net/manual/en/security.cgi-bin.php</SPAN></A><SPAN STYLE="background: transparent">
for more information on this security issue)!</SPAN></FONT></P>
<H4 LANG="en-GB" CLASS="western"><BR>
</H4>
<H6 LANG="de-DE" CLASS="western"><SPAN STYLE="background: transparent">Installation
as a apache module --&gt; without phpMapScript support</SPAN></H6>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">Install
libapache-mod-php4.</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">Apache
needs to be restarted in order to load the php4-module. That should
happen automatically after installation. If not, this can be
accomplished either by typing '/usr/local/etc/rc.d/apache restart' or
by typing 'apachectl graceful'</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">Sometimes
the debian installation does not automatically configure the apache
httpd.conf in the correct manner. Check either if the line </SPAN></FONT>
</P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><I><SPAN STYLE="background: transparent">LoadModule
php4_module /usr/lib/apache/1.3/libphp4.so</SPAN></I></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">is
uncommended in the file <I>'/etc/apache/conf/httpd.conf'</I></SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">or
if the entry <I>'Include /etc/apache/modules.conf</I>'</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">is
set and therein the above mentioned Module is enabled! After that
restart apache.</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<H6 LANG="de-DE" CLASS="western"><SPAN STYLE="background: transparent">Installation
as a cgi for phpMapScript support</SPAN></H6>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">Install
php4-cgi.</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">PHP4
must explicitely be compiled as a cgi and with the
&lsquo;--with-system-regex&rsquo; option (default: --with-regex=php)
, if <B>phpMapScript support</B> is required.</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">Further
information:</SPAN></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><FONT COLOR="#0000ff"><U><A HREF="http://mapserver.gis.umn.edu/data2/wilma/mapserver-users/0208/msg00354.html"><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">http://mapserver.gis.umn.edu/data2/wilma/mapserver-users/0208/msg00354.html</SPAN></SPAN></A></U></FONT></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><FONT COLOR="#0000ff"><U><A HREF="http://mapserver.gis.umn.edu/cgi-bin/wiki.pl?PHPMapScript"><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">http://mapserver.gis.umn.edu/cgi-bin/wiki.pl?PHPMapScript</SPAN></SPAN></A></U></FONT></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><FONT COLOR="#0000ff"><U><A HREF="http://mapserver.gis.umn.edu/cgi-bin/wiki.pl?PHPMapScriptCGI"><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">http://mapserver.gis.umn.edu/cgi-bin/wiki.pl?PHPMapScriptCGI</SPAN></SPAN></A></U></FONT></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">As
the php4-cgi package is compiled with '--with-regex=php' as default
and '--with-regex=system' is required</SPAN>, the php4-cgi source
code has to be downloaded and compiled. Afterwoods just the
php-binary can be exchanged.</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">Usually
three tgz-archives are downloaded. The source tree will be found
within the folder  php-4.x.x/, within the folder you&rsquo;re
actually in.</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">#
./configure --enable-force-cgi-redirect --with-regex=system
--with-config-file-path=/etc/php4/cgi --prefix=/usr
--with-pear=/usr/share/php  --enable-memory-limit --enable-ctype
--enable-sysvsem --enable-sysvshm --enable-track-vars
--enable-trans-sid --enable-sockets --disable-static<B>-</B>disable-debug
--disable-rpath --enable-calendar --enable-bcmath --with-iconv
--enable-exif --enable-filepro --enable-ftp --with-gettext
--enable-mbstring --enable-shmop --enable-wddx --with-expat-dir=/usr
--enable-yp --with-zlib --with-xml=/usr --with-freetype-dir=/usr/lib
--with-jpeg-dir=/usr/lib --with-png-dir=/usr/lib --with-tiff-d</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">ir=/usr/lib
 --with-xpm-dir=/usr/lib --without-sysbase-ct --without-pgsql
--without-mm --with-mysql --with-kerberos=/usr --with-openssl=/usr
--with-exec-dir=/usr/lib/php4/libexec --enable-dbase --with-gd</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">#
make</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">#
mv /usr/lib/cgi-bin/php mv /usr/lib/cgi-bin/php.original</SPAN></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">#
cp /PATH/TO/SOURCE-TREE/php /usr/lib/cgi-bin</SPAN></FONT></P>
<P LANG="de-DE" CLASS="western"><BR>
</P>
<P LANG="de-DE" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">After
finishing the installation,  the PHP4 binary, has to be copied into
the server's &lsquo;cgi-bin&rsquo; directory (debian default:
/usr/lib/cgi-bin) and the following lines have to be added to the
apache configuration-file httpd.conf beneath <I><FONT FACE="Times New Roman, serif">AddType
application/x-tar .tgz</FONT></I>:</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="de-DE" CLASS="western" STYLE="margin-left: 2.01cm"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">AddType
</SPAN><SPAN LANG="fr-FR">application/x-httpd-php .php</SPAN></SPAN></FONT></P>
<P LANG="fr-FR" CLASS="western" STYLE="margin-left: 2.01cm"><FONT SIZE=3><SPAN STYLE="background: transparent">Action
application/x-httpd-php /cgi-bin/php</SPAN></FONT></P>
<P LANG="fr-FR" CLASS="western" STYLE="margin-left: 2.01cm"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">Also
uncomment:</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">#
LoadModule action_module /usr/lib/apache/1.3/mod_actions.so</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">A
directory alias for apache has to be configured to allow web access
to the directory, which is referenced in a map-file as <FONT FACE="Times New Roman, serif">&ldquo;IMAGEURL.</FONT></SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">	Alias
/umn/ &quot;/data/umn/umn-www&quot;</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">	&lt;Directory
&quot;/data/umn/umn-www&quot;&gt;</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">		Options
All</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">		AllowOverride
None</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">		Order
allow,deny</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">		Allow
from all</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">	&lt;/Directory&gt;</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">Apache
needs to be restarted in order to load the changed httpd.conf. This
can be accomplished by typing <I>apachectl graceful</I>.</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<H4 LANG="en-GB" CLASS="western"><SPAN STYLE="background: transparent">proj</SPAN></H4>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">UMN-MapServer
expects an epsg-file in capitel letters. The easiest way is to create
a symbolic link in <I>/usr/local/share/proj</I>:</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><I><SPAN STYLE="background: transparent">ln
&ndash;s epsg EPSG</SPAN></I></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<H4 LANG="en-GB" CLASS="western"><SPAN STYLE="background: transparent">libiconv-hook-dev</SPAN></H4>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">This
package was formerly required by UMN-MapServer. UMN-MapServer
configure-Skript doesn't recognize this package. Alternatively the
original source code can be downloaded, compiled and installed. But
it seems, this library isn't required anymore.</SPAN></FONT></P>
<P LANG="de-DE" CLASS="western"><BR>
</P>
<H3 LANG="de-DE" CLASS="western"><SPAN STYLE="background: transparent">postgis
0.8 / 0.9 / 1.0.x</SPAN></H3>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">Postgis
needs to be uncompressed and untared the archive in the &quot;contrib&quot;
directory of the PostgreSQL source tree. If Geos and/or Proj support
is wanted, for Post5GIs 1.0 or above edit the Makefile.config and
enable these by setting the value USE_PROJ ? = 0 to 1 and ensure,
that the path to the PROJ_DIR is correct (# find / -name proj).</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">	#
cd /sourc-tree-of/postgresql-7.4.5/contrib </SPAN></FONT>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">	#
gzip -d -c postgis-0.8.2.tar.gz | tar xvf -</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">Either
the just created directory has to be renamed</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 1.32cm"><FONT SIZE=3><SPAN STYLE="background: transparent">#
mv postgis-0.8.2 postgis </SPAN></FONT>
</P>
<P LANG="en-GB" CLASS="western" STYLE="font-style: normal"><FONT SIZE=3><SPAN STYLE="background: transparent"><FONT FACE="Times New Roman, serif">or
the Makefile has to be edited. For projection support leave the value
for <I>USE_PROJ</I>  and additionally since PostGIS 0.8 for geos
support leave the value for <I>USE_GEOS </I>(Requires a
geos-installation)<I>, </I>otherwise change it to &ldquo;0&rdquo;.</FONT></SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">	#
cd postgis</SPAN></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">	#
make</SPAN></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">	#
make install</SPAN></FONT></P>
<P LANG="de-DE" CLASS="western"><BR>
</P>
<H4 LANG="en-GB" CLASS="western"><SPAN STYLE="background: transparent">Load
PostGIS functions and objects into PostgreSQL</SPAN></H4>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">The
file <I>postgis.sql </I><SPAN STYLE="font-style: normal">uses the
variable $libdir. This variable contains the path to the PostGIS
library. Some times it contains a wrong value and executing
</SPAN><I>postgis.sql</I> fails.</SPAN></FONT></P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">A
workaround is to create a symlink in the directory where the library
is expected &ndash; type <FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">'</SPAN><I>pg_config
--pkglibdir'.</I><SPAN STYLE="font-style: normal"> This will</SPAN><I>
</I><SPAN STYLE="font-style: normal">usually</SPAN><I> </I><SPAN STYLE="font-style: normal">show</SPAN><I>
/usr/lib/postgresql/lib. </I><SPAN STYLE="font-style: normal">To
create the symlink, type the following:</SPAN></FONT></SPAN></SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 1.35cm; font-style: normal">
<FONT FACE="Times New Roman, serif"><FONT SIZE=3><SPAN STYLE="background: transparent">#
ln -s  /usr/local/pgsql/lib/libpostgis.so.0.9 libpostgis.so.0.9</SPAN></FONT></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">The
following adds postgis support into a new or existing, but empty
PostgreSQL database (see
</SPAN></SPAN><FONT COLOR="#0000ff"><U><A HREF="http://postgis.refractions.net/docs/x83.html"><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">http://postgis.refractions.net/docs/x83.html</SPAN></SPAN></A></U></FONT><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">)</SPAN></SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">It
is necessary to do the following as a known database user. On debian
systems the pgsql-User is called postgres. Either, you can su to the
<I>postgres</I> user or add <I>-Upostgres</I> user to every
pgsql-command.</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="it-IT" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">	#
su PG-SQL_USER</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN STYLE="background: transparent">	#
createdb mydb (pgSQL-command to create a new database)</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN STYLE="background: transparent">	#
psql -d mydb -f /usr/local/pgsql/share/contrib/postgis.sql (psql the
SQL console)</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN STYLE="background: transparent">For
PostGIS 1.0 or above:</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN STYLE="background: transparent">	#
psql -d mydb -f /usr/local/pgsql/share/contrib/swpostgis.sql (psql
the SQL console)</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN STYLE="background: transparent">For
all versions:</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN STYLE="background: transparent">	#
psql -d mydb -f /usr/local/pgsql/share/contrib/spatial_ref_sys.sql</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">If
PostgreSQL does not enable pgsql procedural language as a default, it
is neccessary to enable via <FONT SIZE=2 STYLE="font-size: 11pt">/usr/lib/postgresql/bin/createlang
 plpgsql  <I>&lt;databasename&gt;</I></FONT></SPAN></SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">The
following output can be see after executing postgis.sql. This is not
an error!</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: none; border-right: none; padding-top: 0cm; padding-bottom: 0.07cm; padding-left: 0cm; padding-right: 0cm">
<BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">&gt;
psql -d test2 -f
/root/postgresql/postgresql-7.4.2/contrib/postgis-0.8.1/postgis.sql &gt;
/tmp/output.txt</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><SPAN STYLE="background: transparent">psql:/root/postgresql/postgresql-7.4.2/contrib/postgis-0.8.1/postgis.sql:18:
NOTICE:  ProcedureCreate: type histogram2d is not yet defined</SPAN></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">psql:/root/postgresql/postgresql-7.4.2/contrib/postgis-0.8.1/postgis.sql:23:
NOTICE:  Argument type &quot;histogram2d&quot; is only a shell</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">.</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">.</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">psql:/root/postgresql/postgresql-7.4.2/contrib/postgis-0.8.1/postgis.sql:154:
NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index
'spatial_ref_sys_pk</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">ey'
for table 'spatial_ref_sys'</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">psql:/root/postgresql/postgresql-7.4.2/contrib/postgis-0.8.1/postgis.sql:174:
NOTICE:  CREATE TABLE / PRIMARY KEY will create implicit index
'geometry_columns_p</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: none; border-right: none; padding-top: 0cm; padding-bottom: 0.07cm; padding-left: 0cm; padding-right: 0cm">
<FONT SIZE=2><SPAN STYLE="background: transparent">k' for table
'geometry_columns'</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<H3 LANG="en-GB" CLASS="western"><SPAN STYLE="background: transparent">UMN-MapServer</SPAN></H3>
<H5 LANG="de-DE" CLASS="western"><SPAN STYLE="background: transparent">General
Instructions</SPAN></H5>
<P LANG="de-DE" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">To
configure mapserver create a little script and insert the following.
Don't forget to set the executable bit (chmod u+x &lt;<I>skriptname&gt;</I>)!</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">To
support phpMapScript supply the as the value of <I>--with-php </I>the
path to the source tree of PHP4<I> :
--with-php=/usr/home/src/php4-4.3.9</I></SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="font-style: normal"><BR>
</P>
<P LANG="en-GB" CLASS="western" STYLE="font-style: normal"><FONT SIZE=3><SPAN STYLE="background: transparent">There
may be some restrictions due to number of symbols (mapsymbol.h) or
number of classes, layers, imagesite (all in map.h), you may set them
to other values in the source code befre compiling.</SPAN></FONT></P>
<H5 LANG="en-GB" CLASS="western"><SPAN STYLE="background: transparent">umn-mapserver
3.6</SPAN></H5>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">#!/bin/sh</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">./configure	--with-gd
\</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.54cm"><FONT SIZE=3><SPAN STYLE="background: transparent">--with-gdal
\</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.54cm"><FONT SIZE=3><SPAN STYLE="background: transparent">--with-ogr
\</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.54cm"><FONT SIZE=3><SPAN STYLE="background: transparent">--with-proj
\</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.54cm"><FONT SIZE=3><SPAN STYLE="background: transparent">--with-jpeg=/usr/
\</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.54cm"><FONT SIZE=3><SPAN STYLE="background: transparent">--without-png
\</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.54cm"><FONT SIZE=3><SPAN STYLE="background: transparent">--without-tiff
\</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.54cm"><FONT SIZE=3><SPAN STYLE="background: transparent">--with-zlib
\</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.54cm"><FONT SIZE=3><SPAN STYLE="background: transparent">--with-freetype
\</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.54cm"><FONT SIZE=3><SPAN STYLE="background: transparent">--with-wmsclient
\</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.54cm"><FONT SIZE=3><SPAN STYLE="background: transparent">--with-postgis</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.54cm"><BR>
</P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">Before
compiling mapserver, the phpMapScript makefile has to be edited
(../mapserversource/mapscripbt/php3/Makefile). </SPAN></FONT>
</P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">Change:</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">CC=
cc to CC= gcc</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">LD=
cc -Wl -Wl, to LD= gcc -Wl -Wl,-share</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">and
</SPAN></FONT>
</P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">-I$(PHP_SRC_DIR)/dl
to -I$(PHP_SRC_DIR)/ext</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">That&rsquo;s
an excerpt of the part of the makefile, which has to be edited:</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">CC
=     gcc    -I. -I.. -DPIC -fpic</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">LD
=     gcc -Wl -Wl,-share</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">CFLAGS
= -O2  -Wall -DCOMPILE_DL=1 -DPHP4</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">RUNPATHS=
 -R/usr/local/lib -R/usr/home/src/mapserver-3.6.6</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">#</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">#
Set PHP_SRC_DIR to point to the root of the PHP source tree</SPAN></FONT></P>
<P LANG="fr-FR" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">#</SPAN></FONT></P>
<P LANG="fr-FR" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">PHP_SRC_DIR
= <SPAN LANG="en-GB">/usr/home/src/</SPAN>php-4.3.4</SPAN></FONT></P>
<P LANG="fr-FR" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=2><SPAN STYLE="background: transparent">PHP_INC
= -I$(PHP_SRC_DIR) -I$(PHP_SRC_DIR)/ext -I$(PHP_SRC_DIR)/main \</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><SPAN STYLE="background: transparent">
         <FONT SIZE=2>-I$(PHP_SRC_DIR)/Zend -I$(PHP_SRC_DIR)/include
\</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><SPAN STYLE="background: transparent">
         <FONT SIZE=2>-I$(PHP_SRC_DIR)/TSRM</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">Because
there are incompatibilities between mapserver 3.6 and pgsql 7.3.2 a
new mappostgis.c has to be used. See
</SPAN></SPAN><FONT COLOR="#0000ff"><U><A HREF="http://mapserver.gis.umn.edu/data2/wilma/mapserver-users/0304/msg00305.html"><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">http://mapserver.gis.umn.edu/data2/wilma/mapserver-users/0304/msg00305.html</SPAN></SPAN></A></U></FONT></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">Finally
compile the code with <I>make </I><SPAN STYLE="font-style: normal">(DO
NOT </SPAN><I>make install</I><SPAN STYLE="font-style: normal">!!)
and </SPAN>copy the mapserv binary to /usr/lib/cgi-bin!</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<H5 LANG="de-DE" CLASS="western"><SPAN STYLE="background: transparent">Umn-mapserver
4.x</SPAN></H5>
<P LANG="de-DE" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">#!/bin/sh</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">./configure	--with-xpm=/usr/X11R6/lib
\</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.57cm"><FONT SIZE=3><SPAN STYLE="background: transparent">--with-gd
\</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.57cm"><FONT SIZE=3><SPAN STYLE="background: transparent">--with-gdal
\</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.57cm"><FONT SIZE=3><SPAN STYLE="background: transparent">--with-ogr
\</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.57cm"><FONT SIZE=3><SPAN STYLE="background: transparent">--with-proj=/usr
\</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.57cm"><FONT SIZE=3><SPAN STYLE="background: transparent">--with-jpeg=/usr
\</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.57cm"><FONT SIZE=3><SPAN STYLE="background: transparent">--without-png
\</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.57cm"><FONT SIZE=3><SPAN STYLE="background: transparent">--without-tiff
\</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.57cm"><FONT SIZE=3><SPAN STYLE="background: transparent">--with-freetype
\</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.57cm"><FONT SIZE=3><SPAN STYLE="background: transparent">--with-curl=/usr
\</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.57cm"><FONT SIZE=3><SPAN STYLE="background: transparent">--with-wmsclient
\</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.57cm"><FONT SIZE=3><SPAN STYLE="background: transparent">--with-wms-server
\</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.57cm"><FONT SIZE=3><SPAN STYLE="background: transparent">--with-wfs
\</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.62cm"><FONT SIZE=3><SPAN STYLE="background: transparent">--with-wfsclient
\</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.62cm"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><SPAN STYLE="background: transparent">--with-httpd=/usr/sbin/apache
\**</SPAN></FONT></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.57cm"><FONT SIZE=3><SPAN STYLE="background: transparent">--with-postgis</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western" STYLE="margin-left: 2.57cm"><BR>
</P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">*
See notice &ldquo;libiconv-hook-dev&rdquo; on page 7.</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent">**
Apache seems not to be recognized automatically anymore. First try
without this option.</SPAN></FONT></P>
<P LANG="en-GB" CLASS="western"><BR>
</P>
<P LANG="de-DE" CLASS="western"><BR>
</P>
<P LANG="de-DE" CLASS="western"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN LANG="en-GB">Finally
compile the code with <I>make </I><SPAN STYLE="font-style: normal">(<B>DO
NOT </B></SPAN><B><I>make install</I></B><SPAN STYLE="font-style: normal">!!)
and </SPAN>copy the mapserv binary to /usr/lib/cgi-bin!</SPAN></SPAN></FONT></P>
</BODY>
</HTML>