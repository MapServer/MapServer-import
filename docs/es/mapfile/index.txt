.. _mapfile:

*****************************************************************************
 Archivo Map
*****************************************************************************

:Autor: Steve Lime
:Contacto: steve.lime at dnr.state.mn.us
:Autor: Jeff McKenna
:Contacto: jmckenna at gatewaygeomatics.com
:Autor: Jean-François Doyon
:Contacto: jdoyon at ccrs.nrcan.gc.ca



El archivo map es el corazón de MapServer.  En él se definen las relaciones entre
los objetos, asigna a MapServer los lugares donde son almacenados los datos y define la manera
como los diferentes componentes van a ser dibujados.

Hay algunos conceptos importantes que deben entenderse antes de poder usar archivos map
de manera confiable para configurar MapServer.  En primer lugar esta el concepto de 
:ref:`LAYER` (Capa).  Una Capa es la combinación de un conjunto de datos y la definición de 
estilos. A los datos, en la forma de atributos mas la geometría, se le asignan estilos usando 
las directivas :ref:`CLASS` (Clase) y :ref:`STYLE` (Estilo).

.. seealso::
    :ref:`introduction` para "Una Introducción al Archivo Map"

.. toctree::
   :maxdepth: 1

   class
   expressions
   feature
   fontset
   Include
   grid
   join
   label
   layer
   legend
   map
   outputformat
   projection
   querymap
   reference
   scalebar
   style
   symbol
   symbology/construction
   symbology/examples
   template
   variable_sub
   web
   
Notas
-----------------------------------------------------------------------------

* El archivo Map no es sensible a mayúsculas.
* Las cadenas que contienen caractéres no-alfanuméricos o una palabra reservada de MapServer DEBEN 
  ser puestos entre comillas. Se recomienda poner TODAS las cadenas entre comillas dobles.
* Para las versiones de MapServer anteriores a la 5, había un máximo predeterminado de 200 capas por cada
  archivo map (no hay límite en el número de capas en MapServer >= 5).  Esto puede cambiarse editando
  el archivo map.h para modificar el valor de MS_MAXLAYERS al valor deseado de capas y recompilar. Esta es una lista de
  valores límite por defecto cuando se usa una versión de MapServer < 5:

  * MAXCLASSES 250 (número máximo de clases, asignado en map.h)
  * MAXSTYLES 5 (número máximo de estilos, asignado en in map.h)
  * MAXSYMBOLS 64 (número máximo de símbolos, asignado en in mapsymbol.h)

  Las versiones de MapServer >= 5 no tienen límites para el número de clases, símbolos, o capas.
* Las rutas de archivo pueden expresarse como rutas absolutas o relativas a la ubicación 
  del archivo map. Adicionalmente, las rutas de los datos pueden expresarse como relativas al 
  parámetro SHAPEPATH.
* El archivo map tiene una estructura jerárquica, siendo el objeto MAP (Mapa) la  
  "raíz". Todos los demás objetos dependen de este.
* Los comentarios son designados con un #.
* Los atributos son nobrados usando las siguiente sintaxis: [NOMBREDEATRIBUTO] ... Tenga en cuenta 
  que el nombre del atributo incluido entre los corchetes 
  *DISTINGUE MAYÚSCULAS Y MINÚSCULAS*. Generalmente los archivos shapefile generados en productos
  ESRI tienen todos sus atributos (nombres de las columnas en el .dbf) en mayúsculas, mientras que para 
  PostGIS los campos serán en minúsculas *SIEMPRE* .
* Las expresiones regulares en MapServer usan la biblioteca C del sistema operativo. Para conocer como usar y
  escribir expresiones regulares en su sistema, lea la documentación suministrada con su biblioteca C. 
  En Linux, esta biblioteca es GLibC, y el manual esta disponible con el comando "man 7 regex" ... Esta página del manual 
  tambien esta disponible en las mayoría de sistemas UNIX. Dado que la biblioteca RegEx's cumple la norma POSIX, deberíá ser 
  la misma en Windows, de manera que los usuarios de este sistema operativo pueden buscar en la web por
  "man 7 regex" para ver su contenido. 
