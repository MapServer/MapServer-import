public void creationCouche(mapObj map, String nomCouche, boolean affiche,
			String data, MS_LAYER_TYPE type, String couleur, String labelitem, boolean labelcolor1,
			boolean labelcolor2, boolean labelcolor3 ,String filtre,String iconeLegendName) {

		// on crée la couche
		layerObj laObj = new layerObj(map);
				
		laObj.setConnection("user=postgres password=postgres dbname=institution_mf_db host=10.2.2.223");
		laObj.setConnectiontype(MS_CONNECTION_TYPE.MS_POSTGIS);

		laObj.setData(data);
		laObj.setStatus(0);
		
		if (!"".equals(filtre) && filtre != null) {
			laObj.setFilter(filtre);
		}
				
		laObj.setType(type);

		// on attribue son nom
		laObj.setName(nomCouche);
		
		if (affiche)
			laObj.setStatus(1);
		else
			laObj.setStatus(0);
		
		// on définit un template pour l'interroger plus tard
		laObj.setTemplate("test.html");

		// on crée une classe dans cette couche
		classObj cObj = new classObj(laObj);
		cObj.setName(nomCouche);

		// dans lequel on crée un style
		styleObj sObj = new styleObj(cObj);
		sObj.setMinwidth(2);
		
		colorObj color = new colorObj(0, 0, 0, 0);
		String[] splitCouleur=couleur.split(",");
		color.setRGB(Integer.parseInt(splitCouleur[0]),Integer.parseInt(splitCouleur[1]),Integer.parseInt(splitCouleur[2]));
		sObj.setColor(color);
		if(!"".equals(iconeLegendName)){
			imageObj iconImage=cObj.createLegendIcon(map,laObj,50,10);
        	iconImage.save(iconeLegendName, map);
		}
		if(type==MS_LAYER_TYPE.MS_LAYER_POINT)
		{
			symbolObj symbole = new symbolObj("symbole","C:\\protosig\\map\\maison3.GIF");
			symbole.setPosition(0);
			symbole.setSizey(5.0);
			sObj.setSymbol(0);
			sObj.setSymbolByName(map, "maison3.GIF");
		}
		laObj.setSymbolscale(250000);
				 
		// si on a un label, on l'affiche
		if (!labelitem.equals("")) {
			laObj.setLabelitem(labelitem);
			//Ajout du Label
	        labelObj label = cObj.getLabel();
	        // Précision sur l'affichage de la données de type attributaire
	        // la couleur, la taille de la donnée ...
	        label.setPosition(MS_POSITIONS_ENUM.MS_CL.swigValue());
	        
	        colorObj couleurObj = new colorObj(0, 0, 0, 0);
	        couleurObj.setRGB(0,0,0);
	        label.setColor(couleurObj);
	        couleurObj.setRGB(255,255,255);
	        label.setOutlinecolor(couleurObj);
	        label.setShadowcolor(couleurObj);
	        label.setBackgroundcolor(couleurObj);
	        label.setBackgroundshadowcolor(couleurObj);
	        label.setSize(0);	        
		}

		color.delete();
		sObj.delete();
		cObj.delete();
		laObj.delete();
	}
