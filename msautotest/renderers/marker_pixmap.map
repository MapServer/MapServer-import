#
# entity-encoded text rendering test.
# this test may potentially segfault
#   
# REQUIRES: OUTPUT=PNG
#
MAP

STATUS ON
EXTENT 0 0 400 300
SIZE 400 300
FONTSET "fonts.lst"
IMAGETYPE aggpng24

CONFIG MS_ERRORFILE "stderr"
DEBUG ON

SYMBOL
    TYPE PIXMAP
    NAME "marker"
    IMAGE "data/gdalicon.png"
END

SYMBOL
    NAME "anchor"
    TYPE ELLIPSE
    POINTS 1 1 END
#    FILLED true
END


LAYER
  NAME "symbol"
  TYPE point
  STATUS default
  CLASS
    NAME "test1"
    STYLE
        SYMBOL "marker"
    END
    LABEL
        position lc
        FONT "default"
        TYPE TRUETYPE
        SIZE 8
        color 0 0 0
    end
  END
  FEATURE
    POINTS
        50 50
    END
    TEXT "marker"
  END
END

LAYER
  NAME "symbol rotated"
  TYPE point
  STATUS default
  CLASS
    NAME "test1"
    STYLE
        SYMBOL "marker"
        SIZE 55
        ANGLE 45
    END
    LABEL
        position lc
        FONT "default"
        TYPE TRUETYPE
        SIZE 8
        color 0 0 0
        outlinecolor 255 255 255
        outlinewidth 3
        backgroundcolor 255 0 0
    end
  END
  FEATURE
    POINTS
        200 200
    END
    TEXT "rotated marker"
  END
END

LAYER
    NAME "anchors"
    TYPE POINT
    STATUS default
    CLASS
        STYLE
            COLOR 255 0 0
            SIZE 8
            WIDTH 1
            SYMBOL "anchor"
        END
    END
    FEATURE POINTS 50 50 END END
    FEATURE POINTS 200 200 END END
END

END
