#
# $Id$
#
# Demo mapfile altered slightly for testing of ZMapServer
#
# Start of map file
#
MAP
  NAME 'demo'
  STATUS ON
  SIZE 600 600
  EXTENT 388108 5203121 500896 5315909
  UNITS METERS
  SHAPEPATH '/Users/sean/Projects/ZMapServer/tests/data/'
  IMAGECOLOR 255 255 255
  FONTSET "fonts.txt"
  SYMBOLSET "symbols.txt"

  # you may need to change this to match your MapServer build
  IMAGETYPE 'png'
  
  #
  # Projection definition, consult the PROJ.4 documentation for parameter discussion
  #
  PROJECTION
  #  "proj=utm"
  #  "ellps=GRS80"
  #  "zone=15"
  #  "north"
  #  "no_defs"
  #
  #  OR: 
  #
    "init=epsg:26915"
  END
  
  #
  # Start of web interface definition (including WMS enabling metadata)
  #
  
    # Change imagepath to something sensible
  WEB
    #HEADER demo_header.html
    #TEMPLATE demo.html
    #FOOTER demo_footer.html
    #MINSCALE 1000
    #MAXSCALE 1550000
    #IMAGEPATH "set in demo_init.html"
    #IMAGEURL "set in demo_init.html"
    IMAGEPATH "/tmp/"
    IMAGEURL "/tmp/"
    TEMPLATE "foo"
    
    # Not supporting Metadata yet in ZMapServer, but we intend to convert
    # Web metadata to ZMap properties and Layer metadata to ZMapLayer
    # properties
  
    #METADATA
    #  WMS_TITLE "UMN MapServer Itasca Demo"
    #  WMS_ABSTRACT "This is the UMN MapServer demonstration application for Itasca County located in north central Minnesota."
    #  WMS_ACCESSCONSTRAINTS none
  
    #  # change this value to match your setup
    #  WMS_ONLINERESOURCE "http://localhost.localdomain/mapserver_demos/itasca/demo_init.html"
  
    #  WMS_SRS "EPSG:26915"
    #END
  END
  
  # Querymap, reference map, legend, scalebar not yet supported
  
  #QUERYMAP
  #  SIZE 200 200
  #  STATUS ON
  #  STYLE HILITE
  #  COLOR 255 0 0
  #END
  
  #
  # Start of reference map
  #
  REFERENCE
    IMAGE reference.png
    EXTENT 388108 5203121 500896 5315909
    SIZE 120 120
    STATUS ON
    COLOR -1 -1 -1
    OUTLINECOLOR 255 0 0
  END
  
  #
  # Start of legend
  #
  #LEGEND
  #  KEYSIZE 18 12
  #  LABEL
  #    TYPE BITMAP
  #    SIZE MEDIUM
  #    COLOR 0 0 89
  #  END
  #  STATUS ON
  #END
  #
  #
  # Start of scalebar
  #
  SCALEBAR
    IMAGECOLOR 255 255 255
    LABEL
      COLOR 0 0 0
      SIZE tiny    
    END
    STYLE 1
    SIZE 80 2
    COLOR 0 0 0
    UNITS MILES
    #INTERVALS 1
    #TRANSPARENT TRUE
    STATUS ON
  END
  
  #
  # Start of symbol definitions (we're only using a few)
  #
  SYMBOL
    NAME 'circle'
    TYPE ELLIPSE
    POINTS 1 1 END
    FILLED TRUE
  END
  
  #
  # Start of layer definitions
  #
  
  LAYER
    NAME 'ctybdpy2'
    PROJECTION
      "init=epsg:26915"
    END
    TYPE POLYGON
    STATUS DEFAULT
    DATA 'ctybdpy2'
    
    CLASSITEM 'cty_name'
  
    # Note in ZMapServer we require all classes to have a NAME
    
    CLASS
      NAME 'Itasca'
      EXPRESSION 'Itasca'
      STYLE
        OUTLINECOLOR 128 128 128
        COLOR 225 225 185
      END
    END
    CLASS # every other county in the state
      NAME 'NotItasca'
      EXPRESSION /./
      STYLE
        OUTLINECOLOR 128 128 128
        COLOR 255 255 255
      END
    END
    #METADATA
    #  WMS_TITLE "County Boundary"
    #  WMS_ABSTRACT "Itasca County boundary shapefile. See http://deli.dnr.state.mn.us/metadata/full/ctybdne2.html for more information."
    #  WMS_SRS "EPSG:26915"
    #END
  END
  
  LAYER
    NAME 'mcd90py2'
    PROJECTION
      "init=epsg:26915"
    END
    GROUP cities
    TYPE POLYGON
    DATA 'mcd90py2'
    STATUS DEFAULT
    CLASSITEM 'city_name'	
    CLASS
      NAME 'CitiesandTowns'
      EXPRESSION /./
      STYLE
        COLOR 255 225 90
      END
      TEMPLATE 'mcd90py2.html'
    END
  
    #HEADER "mcd90py2_header.html"
    #FOOTER "mcd90py2_footer.html"
  
    #DUMP TRUE # allow GML export
  
    #METADATA
    #  WMS_TITLE "Minor Civil Divisions"
    #  WMS_ABSTRACT "Minor civil divisions for Itasca County. (boundaries only)"
    #  WMS_SRS "EPSG:26915"
    #END
  END
  
  #LAYER
  #  NAME 'twprgpy3'
  #  TYPE POLYGON
  #  DATA 'twprgpy3'
  #  STATUS OFF
  #  CLASS
  #    NAME 'Townships'
  #    STYLE
  #      SYMBOL 1
  #      SIZE 2
  #      OUTLINECOLOR 181 181 145
  #    END
  #  END
  #  #METADATA
  #  #  WMS_TITLE "Township Boundaries"
  #  #  WMS_ABSTRACT "Pulic Land Survey (PLS) township boundaries for Itasca County. See http://deli.dnr.state.mn.us/metadata/full/twprgne2.html for more information."
  #  #  WMS_SRS "EPSG:26915"
  #  #END
  #END
  
  LAYER
    NAME 'lakespy2'
    PROJECTION
      "init=epsg:26915"
    END
    TYPE POLYGON
    STATUS DEFAULT
    DATA 'lakespy2'
  
    CLASS
      NAME 'LakesandRivers'
      TEMPLATE "lakespy2.html"
      STYLE
        COLOR 49 117 185
      END
    END
  
    #HEADER "lakespy2_header.html"
    #FOOTER "lakespy2_footer.html"
    
    TOLERANCE 3
  
    #DUMP TRUE # allow GML export
  
    #METADATA
    #  WMS_TITLE "Lakes and Rivers"
    #  WMS_ABSTRACT "DLG lake and river polygons for Itasca County. See http://deli.dnr.state.mn.us/metadata/full/dlglkpy2.html for more information."
    #  WMS_SRS "EPSG:26915"
    #END
  END # lakes
  
  LAYER
    NAME 'dlgstln2'
    PROJECTION
      "init=epsg:26915"
    END
    TYPE LINE
    STATUS DEFAULT
    DATA 'dlgstln2'
  
    CLASS
      NAME 'Streams'
      TEMPLATE "dlgstln2.html"
      STYLE
        COLOR 49 117 185
      END
    END
  
    #HEADER "dlgstln2_header.html"
    #FOOTER "dlgstln2_footer.html"
  
    TOLERANCE 5  
  
    #DUMP TRUE # allow GML export
  
    #METADATA
    #  WMS_TITLE "Streams"
    #  WMS_ABSTRACT "DLG streams for Itasca County. See http://deli.dnr.state.mn.us/metadata/full/dlgstln2.html for more information."
    #  WMS_SRS "EPSG:26915"
    #END
  END # streams
  
  LAYER
    NAME 'ctyrdln3'
    PROJECTION
      "init=epsg:26915"
    END
    GROUP 'roads'
    MAXSCALE 300000
    STATUS DEFAULT
    DATA 'ctyrdln3'
    TYPE LINE
    CLASS
      NAME 'All'
      STYLE
        COLOR 0 0 0
      END
    END
  
    #METADATA
    #  WMS_TITLE "County Roads"
    #  WMS_ABSTRACT "County roads. (lines only)  Derived from MNDOT roads layer, see http://deli.dnr.state.mn.us/metadata/full/dotrdln2.html for more information."
    #  WMS_SRS "EPSG:26915"
    #END
  END # county roads
  
  LAYER
    NAME 'ctyrdln3_anno'
    PROJECTION
      "init=epsg:26915"
    END
    GROUP 'roads'
    MAXSCALE 300000
    STATUS DEFAULT
    DATA 'ctyrdln3'
    TYPE ANNOTATION
    LABELITEM 'road_name'
    CLASS
      NAME 'All'
      STYLE
        COLOR 255 255 255
        SYMBOL 1 #'symbols/ctyhwy.gif'
        SIZE 10
      END
      LABEL
        MINFEATURESIZE 40
        MINDISTANCE 150
        POSITION CC
        SIZE TINY
        COLOR 0 0 0
      END
    END
      
    #METADATA
    #  WMS_TITLE "County Roads"
    #  WMS_ABSTRACT "County roads. (shields only)  Derived from MNDOT roads layer, see http://deli.dnr.state.mn.us/metadata/full/dotrdln2.html for more information."
    #  WMS_SRS "EPSG:26915"
    #END
  END # county road annotation
  
  LAYER
    NAME 'majrdln3'
    PROJECTION
      "init=epsg:26915"
    END
    GROUP 'roads'
    MAXSCALE 600000
    STATUS DEFAULT
    DATA 'majrdln3'
    TYPE LINE
    CLASS
      NAME "Roads"
      STYLE
        COLOR 0 0 0
      END
    END
  
    #METADATA
    #  WMS_TITLE "Highways"
    #  WMS_ABSTRACT "Highways- state, US and interstate. (lines only)  Derived from MNDOT roads layer, see http://deli.dnr.state.mn.us/metadata/full/dotrdln2.html for more information."
    #  WMS_SRS "EPSG:26915"
    #END
  END # highways
  
  LAYER
    NAME 'majrdln3_anno'
    PROJECTION
      "init=epsg:26915"
    END
    GROUP 'roads'
    MAXSCALE 600000
    STATUS DEFAULT
    DATA 'majrdln3'
    TYPE ANNOTATION
    LABELITEM "road_num"  
    CLASSITEM "road_class"
    CLASS
      NAME 'rd3'
      EXPRESSION "3"
      STYLE
        COLOR 255 255 255 # dummy color
        SYMBOL 1 #'symbols/sthwy.gif'
        SIZE 10
      END
      LABEL
        MINFEATURESIZE 50
        MINDISTANCE 150
        POSITION CC
        SIZE TINY
        COLOR 0 0 0
      END
    END
    CLASS
      NAME 'rd2'
      EXPRESSION "2"
      STYLE
        COLOR 255 255 255 # dummy color
        SYMBOL 1 #'symbols/ushwy.gif'
        SIZE 10
      END
      LABEL
        MINFEATURESIZE 50
        MINDISTANCE 150
        POSITION CC
        SIZE TINY
        COLOR 0 0 0
      END
    END
    CLASS
      NAME 'rd1'
      EXPRESSION "1"
      STYLE
        COLOR 255 255 255 # dummy color
        SYMBOL 1 #'symbols/interstate.gif'
        SIZE 10
      END
      LABEL
        MINFEATURESIZE 50
        MINDISTANCE 150
        POSITION CC
        SIZE TINY
        COLOR 255 255 255
      END
    END
  
    #METADATA
    #  WMS_TITLE "Highways"
    #  WMS_ABSTRACT "Highways- state, US and interstate. (shields only)  Derived from MNDOT roads layer, see http://deli.dnr.state.mn.us/metadata/full/dotrdln2.html for more information."
    #  WMS_SRS "EPSG:26915"
    #END
  END # highway annotation
  
  LAYER
    NAME 'airports'
    PROJECTION
      "init=epsg:26915"
    END
    TYPE POINT
    DATA 'airports'
    STATUS DEFAULT
    CLASS
      NAME 'All'
      STYLE
        COLOR 128 255 164
        SYMBOL 1
        SIZE 7
      END
      TEMPLATE "airports.html"
    END
  
  #  #HEADER "airports_header.html"
  #  #FOOTER "airports_footer.html"
  
    TOLERANCE 5
  
  #  #METADATA
  #  #  WMS_TITLE "Airports"
  #  #  WMS_ABSTRACT "Airport runways for Itasca County."
  #  #  WMS_SRS "EPSG:26915"
  #  #END
  END
  
  LAYER
    NAME 'mcd90py2_anno'
    PROJECTION
      "init=epsg:26915"
    END
    TYPE ANNOTATION
    DATA 'mcd90py2'
    STATUS DEFAULT
    LABELITEM "city_name"
    CLASSITEM "city_name"
    LABELMAXSCALE 500000
    CLASS
      NAME 'All'
      EXPRESSION /./
      STYLE
        COLOR -1 -1 -1
      END
      LABEL
        COLOR 0 0 0
        SHADOWCOLOR 218 218 218
        SHADOWSIZE 2 2
        TYPE BITMAP
        SIZE MEDIUM
        POSITION CC
        PARTIALS FALSE
        BUFFER 2
      END
    END
  
    #METADATA
    #  WMS_TITLE "Minor Civil Divisions"
    #  WMS_ABSTRACT "Minor civil divisions for Itasca County. (annotation only)"
    #  WMS_SRS "EPSG:26915"
    #END
  END

END # Map File
