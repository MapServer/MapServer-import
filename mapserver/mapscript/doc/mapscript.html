<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.3.0: http://docutils.sourceforge.net/" />
<title>Grand Unified Mapscript Documentation :)</title>
<meta name="author" content="Sean Gillies" />
<meta name="date" content="2004-02-20" />
<link rel="stylesheet" href="mapscript.css" type="text/css" />
</head>
<body>
<div class="document" id="grand-unified-mapscript-documentation">
<h1 class="title">Grand Unified Mapscript Documentation :)</h1>
<table class="docinfo" frame="void" rules="none">
<col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr><th class="docinfo-name">Author:</th>
<td>Sean Gillies</td></tr>
<tr><th class="docinfo-name">Contact:</th>
<td><a class="first last reference" href="mailto:sgillies&#64;frii.com">sgillies&#64;frii.com</a></td></tr>
<tr><th class="docinfo-name">Revision:</th>
<td>1.6</td></tr>
<tr><th class="docinfo-name">Date:</th>
<td>2004-02-20</td></tr>
</tbody>
</table>
<!-- $Id$

This is the new unified mapscript documentation prepared using
ReStructured Text.

***************************************************************
RULE #1: No tabs in this document!
RULE #2: Indent is 4 characters.
RULE #3: There is no rule 3.

Thank you.
***************************************************************

ReStructured Text is part of the Python docutils module

    http://docutils.sourceforge.net/

Documentation on ReStructured Text is found at

    http://docutils.sourceforge.net/rst.html

First RST note is about comments: a double period begins a comment
block (like a /* in C) and a double period on a line all by itself
closes the comment block. -->
<!--  -->
<!-- Below is our main heading (becomes H1).  Note that we require empty
lines between every different RST element such as the empty line
between the end of this comment and the begining of the heading. -->
<!--  -->
<!-- The next heading encountered becomes our H2 -->
<!--  -->
<div class="section" id="introduction">
<h1><a name="introduction">Introduction</a></h1>
<p>This is language agnostic documentation for the mapscript interface to 
MapServer generated by SWIG.  This document is intended for developers
and to serve as a reference for writers of more extensive, language
specific documentation in DocBook format for the MDP.</p>
<p>To make the document as agnostic as possible, we refer to the following
types: int, float, and string.  There are yet no mapscript methods that
return arrays or sequences or accept array or sequence arguments.</p>
<p>We use the SWIG terms <em>mutable</em> and <em>immutable</em> instead of read-write
and read-only.</p>
<!-- Following is an anchor, named 'classObj'.  We link to this anchor by
typing 'classObj_'.  Let us always put such an anchor before all
class headings. -->
<!--  -->
</div>
<div class="section" id="classobj">
<h1><a name="classobj">classObj</a></h1>
<div class="section" id="attributes">
<h2><a name="attributes">Attributes</a></h2>
<dl>
<dt>status <span class="classifier-delimiter">:</span> <span class="classifier">int mutable</span></dt>
<dd>MS_ON or MS_OFF</dd>
<dt>numstyles <span class="classifier-delimiter">:</span> <span class="classifier">int immutable</span></dt>
<dd>Number of styles for class</dd>
<dt>label <span class="classifier-delimiter">:</span> <span class="classifier"><a class="reference" href="#labelobj">labelObj</a> mutable</span></dt>
<dd>Definition of class labeling</dd>
<dt>name <span class="classifier-delimiter">:</span> <span class="classifier">string mutable</span></dt>
<dd>Unique within a layer</dd>
<dt>title <span class="classifier-delimiter">:</span> <span class="classifier">string mutable</span></dt>
<dd>Text used for legend labeling</dd>
<dt>template <span class="classifier-delimiter">:</span> <span class="classifier">string mutable</span></dt>
<dd>Template for queries</dd>
<dt>type <span class="classifier-delimiter">:</span> <span class="classifier">int mutable</span></dt>
<dd>The layer type of its parent layer</dd>
<dt>minscale <span class="classifier-delimiter">:</span> <span class="classifier">float mutable</span></dt>
<dd>The minimum scale at which class is drawn</dd>
<dt>maxscale <span class="classifier-delimiter">:</span> <span class="classifier">float mutable</span></dt>
<dd>The maximum scale at which class is drawn</dd>
<dt>layer <span class="classifier-delimiter">:</span> <span class="classifier"><a class="reference" href="#layerobj">layerObj</a> immutable</span></dt>
<dd>Reference to the parent layer</dd>
<dt>debug <span class="classifier-delimiter">:</span> <span class="classifier">int mutable</span></dt>
<dd>MS_TRUE or MS_FALSE</dd>
<dt>keyimage <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd>Path to an image to represent the class in a legend.</dd>
</dl>
</div>
<div class="section" id="method-details">
<h2><a name="method-details">Method Details</a></h2>
<a class="target" id="new-classobj" name="new-classobj"></a><dl>
<dt><a class="reference" href="#classobj">classObj</a> new classObj(<a class="reference" href="#layerobj">layerObj</a> layer)</dt>
<dd>Create a new child classObj instance at the tail (highest index) of 
the class array of the parent <em>layer</em>.</dd>
</dl>
<a class="target" id="createlegendicon" name="createlegendicon"></a><p><a class="reference" href="#imageobj">imageObj</a> createLegendIcon(<a class="reference" href="#mapobj">mapObj</a> map, <a class="reference" href="#layerobj">layerObj</a> layer, int width, int height)     Draw and return a new legend icon.</p>
<a class="target" id="drawlegendicon" name="drawlegendicon"></a><dl>
<dt>int drawLegendIcon(<a class="reference" href="#mapobj">mapObj</a> map, <a class="reference" href="#layerobj">layerObj</a> layer, int width, int height, <a class="reference" href="#imageobj">imageObj</a> dstImage, int dstX, int dstY)</dt>
<dd>Draw the legend icon on im object at dstX, dstY.  Returns MS_SUCCESS or
MS_FAILURE.</dd>
</dl>
<a class="target" id="getexpressionstring" name="getexpressionstring"></a><dl>
<dt>string getExpressionString()</dt>
<dd>Return a string representation of the expression enclosed in the quote
characters appropriate to the expression type.</dd>
</dl>
<a class="target" id="classobj-getmetadata" name="classobj-getmetadata"></a><dl>
<dt>string getMetaData(string key)</dt>
<dd>Return the value of the classObj metadata at <em>key</em>.</dd>
</dl>
<a class="target" id="getstyle" name="getstyle"></a><dl>
<dt><a class="reference" href="#styleobj">styleObj</a> getStyle(int index)</dt>
<dd>Return a reference to the styleObj at <em>index</em> in the styles array.</dd>
</dl>
<a class="target" id="insertstyle" name="insertstyle"></a><dl>
<dt>int insertStyle(<a class="reference" href="#styleobj">styleObj</a> style [, int index=-1])</dt>
<dd>Insert a styleObj into the styles array at index <em>index</em>.  Default
is -1, or the end of the array.  Returns the index at which the 
style was inserted.</dd>
</dl>
<a class="target" id="movestyledown" name="movestyledown"></a><dl>
<dt>int moveStyleDown(int index)</dt>
<dd>Swap the styleObj at <em>index</em> with the styleObj <em>index</em> + 1.</dd>
</dl>
<a class="target" id="movestyleup" name="movestyleup"></a><dl>
<dt>int moveStyleUp(int index)</dt>
<dd>Swap the styleObj at <em>index</em> with the styleObj <em>index</em> - 1.</dd>
</dl>
<a class="target" id="removestyle" name="removestyle"></a><dl>
<dt><a class="reference" href="#styleobj">styleObj</a> removeStyle(int index)</dt>
<dd>Remove the styleObj at <em>index</em> from the styles array and return a
copy.</dd>
</dl>
<a class="target" id="setexpression" name="setexpression"></a><dl>
<dt>int setExpression(string expression)</dt>
<dd>Set expression string where <em>expression</em> is a MapServer regular, logical
or string expression.  Returns MS_SUCCESS or MS_FAILUIRE.</dd>
</dl>
<a class="target" id="classobj-setmetadata" name="classobj-setmetadata"></a><dl>
<dt>int setMetaData(string key, string value)</dt>
<dd>Insert <em>value</em> into the classObj metadata at <em>key</em>.  Returns MS_SUCCESS
or MS_FAILURE.</dd>
</dl>
</div>
</div>
<div class="section" id="colorobj">
<h1><a name="colorobj">colorObj</a></h1>
<p>Since the 4.0 release, MapServer colors are instances of colorObj.</p>
<!-- The next heading becomes our H3 -->
<!--  -->
<div class="section" id="id1">
<h2><a name="id1">Attributes</a></h2>
<dl>
<dt>red <span class="classifier-delimiter">:</span> <span class="classifier">int mutable</span></dt>
<dd>Red component of color in range [0-255]</dd>
<dt>green <span class="classifier-delimiter">:</span> <span class="classifier">int mutable</span></dt>
<dd>Green component of color in range [0-255]</dd>
<dt>blue <span class="classifier-delimiter">:</span> <span class="classifier">int mutable</span></dt>
<dd>Blue component of color in range [0-255]</dd>
</dl>
</div>
<div class="section" id="methods">
<h2><a name="methods">Methods</a></h2>
<a class="target" id="new-colorobj" name="new-colorobj"></a><dl>
<dt><a class="reference" href="#colorobj">colorObj</a> new colorObj([int red=0, int green=0, int blue=0])</dt>
<dd>Create a new instance.  The color arguments are optional.</dd>
</dl>
<a class="target" id="setrgb" name="setrgb"></a><dl>
<dt>int setRGB(int red, int green, int blue)</dt>
<dd>Set all three RGB components.  Returns MS_SUCCESS or MS_FAILURE.</dd>
</dl>
<a class="target" id="sethex" name="sethex"></a><dl>
<dt>int setHex(string hexcolor)</dt>
<dd>Set the color to values specified in case-independent hexadecimal
notation.  Calling setHex('#ffffff') assigns values of 255 to each
color component.  Returns MS_SUCCESS or MS_FAILURE.</dd>
</dl>
<a class="target" id="tohex" name="tohex"></a><dl>
<dt>string toHex()</dt>
<dd>Compliments setHex, returning a hexadecimal representation of the
color components.</dd>
</dl>
</div>
</div>
<div class="section" id="mapobj">
<h1><a name="mapobj">mapObj</a></h1>
<div class="section" id="id2">
<h2><a name="id2">Attributes</a></h2>
<p>x</p>
</div>
<div class="section" id="id3">
<h2><a name="id3">Methods</a></h2>
<p>x</p>
</div>
<div class="section" id="attribute-details">
<h2><a name="attribute-details">Attribute Details</a></h2>
<p>x</p>
</div>
<div class="section" id="id4">
<h2><a name="id4">Method Details</a></h2>
<p>x</p>
</div>
</div>
<div class="section" id="labelobj">
<h1><a name="labelobj">labelObj</a></h1>
<p>x</p>
</div>
<div class="section" id="layerobj">
<h1><a name="layerobj">layerObj</a></h1>
<p>x</p>
</div>
<div class="section" id="imageobj">
<h1><a name="imageobj">imageObj</a></h1>
<p>x</p>
</div>
<div class="section" id="pointobj">
<h1><a name="pointobj">pointObj</a></h1>
<p>Primitive class for points.</p>
<div class="section" id="id5">
<h2><a name="id5">Attributes</a></h2>
<dl>
<dt>x <span class="classifier-delimiter">:</span> <span class="classifier">float mutable</span></dt>
<dd>Easting</dd>
<dt>y <span class="classifier-delimiter">:</span> <span class="classifier">float mutable</span></dt>
<dd>Northing</dd>
<dt>m <span class="classifier-delimiter">:</span> <span class="classifier">float mutable</span></dt>
<dd>Measure.  Meaningful only for measured shapefiles.</dd>
</dl>
</div>
<div class="section" id="id6">
<h2><a name="id6">Methods</a></h2>
<ul class="simple">
<li><a class="reference" href="#new-pointobj">new pointObj</a></li>
<li><a class="reference" href="#distancetopoint">distanceToPoint</a></li>
<li><a class="reference" href="#distancetosegment">distanceToSegment</a></li>
<li><a class="reference" href="#distancetoshape">distanceToShape</a></li>
<li>draw [<a class="reference" href="#pointobj-draw">pointObj.draw</a>]</li>
<li>project [<a class="reference" href="#pointobj-project">pointObj.project</a>]</li>
</ul>
</div>
<div class="section" id="id7">
<h2><a name="id7">Method Details</a></h2>
<a class="target" id="new-pointobj" name="new-pointobj"></a><dl>
<dt><a class="reference" href="#pointobj">pointObj</a> new pointObj([float x, float y])</dt>
<dd>Create new instance.  Easting and northing arguments are optional.</dd>
</dl>
<a class="target" id="pointobj-draw" name="pointobj-draw"></a><dl>
<dt>int draw(<a class="reference" href="#mapobj">mapObj</a> map, <a class="reference" href="#layerobj">layerObj</a> layer, <a class="reference" href="#imageobj">imageObj</a> image, int classindex, string text)</dt>
<dd>Draw the point using the styles defined by the <em>classindex</em> class of
<em>layer</em> and labeled with string <em>text</em>.  Returns MS_SUCCESS or MS_FAILURE.</dd>
</dl>
<a class="target" id="distancetopoint" name="distancetopoint"></a><dl>
<dt>float distanceToPoint(<a class="reference" href="#pointobj">pointObj</a> point)</dt>
<dd>Returns the distance to <em>point</em>.</dd>
</dl>
<a class="target" id="distancetosegment" name="distancetosegment"></a><dl>
<dt>float distanceToSegment(<a class="reference" href="#pointobj">pointObj</a> point1, <a class="reference" href="#pointobj">pointObj</a> point2)</dt>
<dd>Returns the minimum distance to a hypothetical line segment connecting 
<em>point1</em> and <em>point2</em>.</dd>
</dl>
<a class="target" id="distancetoshape" name="distancetoshape"></a><dl>
<dt>float distanceToShape(<a class="reference" href="#shapeobj">shapeObj</a> shape)</dt>
<dd>Returns the minimum distance to <em>shape</em>.</dd>
</dl>
<a class="target" id="pointobj-project" name="pointobj-project"></a><dl>
<dt>int project(<a class="reference" href="#projectionobj">projectionObj</a> proj_in, <a class="reference" href="#projectionobj">projectionObj</a> proj_out)</dt>
<dd>Reproject point from <em>proj_in</em> to <em>proj_out</em>.  Transformation
is done in place.  Returns MS_SUCCESS or MS_FAILURE.</dd>
</dl>
</div>
</div>
<div class="section" id="projectionobj">
<h1><a name="projectionobj">ProjectionObj</a></h1>
<p>x</p>
</div>
<div class="section" id="rectobj">
<h1><a name="rectobj">rectObj</a></h1>
<p>Map extents and shape bounds are instances of <a class="reference" href="#rectobj">rectObj</a>.</p>
<div class="section" id="id8">
<h2><a name="id8">Attributes</a></h2>
<dl>
<dt>minx <span class="classifier-delimiter">:</span> <span class="classifier">float mutable</span></dt>
<dd>Minimum easting</dd>
<dt>miny <span class="classifier-delimiter">:</span> <span class="classifier">float mutable</span></dt>
<dd>Minimum northing</dd>
<dt>maxx <span class="classifier-delimiter">:</span> <span class="classifier">float mutable</span></dt>
<dd>Maximum easting</dd>
<dt>maxy <span class="classifier-delimiter">:</span> <span class="classifier">float mutable</span></dt>
<dd>Maximum northing</dd>
</dl>
</div>
<div class="section" id="id9">
<h2><a name="id9">Methods</a></h2>
<ul class="simple">
<li><a class="reference" href="#new-rectobj">new rectObj</a></li>
<li>draw [<a class="reference" href="#rectobj-draw">rectObj.draw</a>]</li>
<li>project [<a class="reference" href="#rectobj-project">rectObj.project</a>]</li>
<li><a class="reference" href="#topolygon">toPolygon</a></li>
</ul>
</div>
<div class="section" id="id10">
<h2><a name="id10">Method Details</a></h2>
<a class="target" id="new-rectobj" name="new-rectobj"></a><dl>
<dt><a class="reference" href="#rectobj">rectObj</a>  new rectObj([float minx, float miny, float maxx, float maxy])</dt>
<dd>Create new instance.  The four easting and northing arguments
are optional.</dd>
</dl>
<a class="target" id="rectobj-draw" name="rectobj-draw"></a><dl>
<dt>int draw(<a class="reference" href="#mapobj">mapObj</a> map, <a class="reference" href="#layerobj">layerObj</a> layer, <a class="reference" href="#imageobj">imageObj</a> img, int classindex, string text)</dt>
<dd>Draw rectangle into <em>img</em> using style defined by the <em>classindex</em> class
of <em>layer</em>.  The rectangle is labeled with the string <em>text</em>.  Returns 
MS_SUCCESS or MS_FAILURE.</dd>
</dl>
<a class="target" id="rectobj-project" name="rectobj-project"></a><dl>
<dt>int project(<a class="reference" href="#projectionobj">projectionObj</a> proj_in, <a class="reference" href="#projectionobj">projectionObj</a> proj_out)</dt>
<dd>Reproject rectangle from <em>proj_in</em> to <em>proj_out</em>.  Transformation
is done in place.  Returns MS_SUCCESS or MS_FAILURE.</dd>
</dl>
<a class="target" id="topolygon" name="topolygon"></a><dl>
<dt><a class="reference" href="#shapeobj">shapeObj</a> toPolygon()</dt>
<dd>Convert to a polygon of five vertices.</dd>
</dl>
</div>
</div>
<div class="section" id="shapeobj">
<h1><a name="shapeobj">shapeObj</a></h1>
<p>x</p>
</div>
<div class="section" id="styleobj">
<h1><a name="styleobj">styleObj</a></h1>
<p>x</p>
</div>
</div>
<hr class="footer"/>
<div class="footer">
<a class="reference" href="mapscript.txt">View document source</a>.
Generated on: 2004-02-20 05:04 UTC.
Generated by <a class="reference" href="http://docutils.sourceforge.net/">Docutils</a> from <a class="reference" href="http://docutils.sourceforge.net/rst.html">reStructuredText</a> source.
</div>
</body>
</html>
